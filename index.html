<!doctype html>
<head><meta charset="utf-8">
<title>BigInt</title><script type="application/json" id="menu-search-biblio">[{"type":"clause","id":"sec-intro","aoid":null,"title":"Introduction","titleHTML":"Introduction","number":"","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Introduction"},{"type":"table","id":"table-numeric-type-ops","number":1,"caption":"Table 1: Numeric Type Operations","referencingIds":[],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 1: Numeric Type Operations"},{"type":"clause","id":"sec-numeric-types-bigint-unaryMinus","aoid":null,"title":"BigInt::unaryMinus (x)","titleHTML":"BigInt::unaryMinus (<var>x</var>)","number":"1.1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::unaryMinus (x)"},{"type":"clause","id":"sec-numeric-types-bigint-bitwiseNOT","aoid":null,"title":"BigInt::bitwiseNOT (x)","titleHTML":"BigInt::bitwiseNOT (<var>x</var>)","number":"1.1.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::bitwiseNOT (x)"},{"type":"clause","id":"sec-numeric-types-bigint-exponentiate","aoid":null,"title":"BigInt::exponentiate (base, exponent)","titleHTML":"BigInt::exponentiate (<var>base</var>, <var>exponent</var>)","number":"1.1.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::exponentiate (base, exponent)"},{"type":"clause","id":"sec-numeric-types-bigint-multiply","aoid":null,"title":"BigInt::multiply (x, y)","titleHTML":"BigInt::multiply (<var>x</var>, <var>y</var>)","number":"1.1.4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::multiply (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-divide","aoid":null,"title":"BigInt::divide (x, y)","titleHTML":"BigInt::divide (<var>x</var>, <var>y</var>)","number":"1.1.5","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::divide (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-remainder","aoid":null,"title":"BigInt::remainder (n, d)","titleHTML":"BigInt::remainder (<var>n</var>, <var>d</var>)","number":"1.1.6","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::remainder (n, d)"},{"type":"clause","id":"sec-numeric-types-bigint-add","aoid":null,"title":"BigInt::add (x, y)","titleHTML":"BigInt::add (<var>x</var>, <var>y</var>)","number":"1.1.7","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::add (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-subtract","aoid":null,"title":"BigInt::subtract (x, y)","titleHTML":"BigInt::subtract (<var>x</var>, <var>y</var>)","number":"1.1.8","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::subtract (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-leftShift","aoid":null,"title":"BigInt::leftShift (x, y)","titleHTML":"BigInt::leftShift (<var>x</var>, <var>y</var>)","number":"1.1.9","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::leftShift (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-signedRightShift","aoid":null,"title":"BigInt::signedRightShift (x, y)","titleHTML":"BigInt::signedRightShift (<var>x</var>, <var>y</var>)","number":"1.1.10","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::signedRightShift (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-unsignedRightShift","aoid":null,"title":"BigInt::unsignedRightShift (x, y)","titleHTML":"BigInt::unsignedRightShift (<var>x</var>, <var>y</var>)","number":"1.1.11","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::unsignedRightShift (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-lessThan","aoid":null,"title":"BigInt::lessThan (x, y)","titleHTML":"BigInt::lessThan (<var>x</var>, <var>y</var>)","number":"1.1.12","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::lessThan (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-equal","aoid":null,"title":"BigInt::equal (x, y)","titleHTML":"BigInt::equal (<var>x</var>, <var>y</var>)","number":"1.1.13","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::equal (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-sameValue","aoid":null,"title":"BigInt::sameValue (x, y)","titleHTML":"BigInt::sameValue (<var>x</var>, <var>y</var>)","number":"1.1.14","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::sameValue (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-sameValueZero","aoid":null,"title":"BigInt::sameValueZero (x, y)","titleHTML":"BigInt::sameValueZero (<var>x</var>, <var>y</var>)","number":"1.1.15","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::sameValueZero (x, y)"},{"type":"clause","id":"sec-bitwise-op","aoid":null,"title":"BitwiseOp(op, x, y)","titleHTML":"BitwiseOp(<var>op</var>, <var>x</var>, <var>y</var>)","number":"1.1.16","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BitwiseOp(op, x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-bitwiseAND","aoid":null,"title":"BigInt::bitwiseAND (x, y)","titleHTML":"BigInt::bitwiseAND (<var>x</var>, <var>y</var>)","number":"1.1.17","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::bitwiseAND (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-bitwiseXOR","aoid":null,"title":"BigInt::bitwiseXOR (x, y)","titleHTML":"BigInt::bitwiseXOR (<var>x</var>, <var>y</var>)","number":"1.1.18","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::bitwiseXOR (x, y)"},{"type":"clause","id":"sec-numeric-types-bigint-bitwiseOR","aoid":null,"title":"BigInt::bitwiseOR (x, y)","titleHTML":"BigInt::bitwiseOR (<var>x</var>, <var>y</var>)","number":"1.1.19","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt::bitwiseOR (x, y)"},{"type":"clause","id":"sec-ecmascript-language-types-bigint-type","aoid":null,"title":"The BigInt Type","titleHTML":"The BigInt Type","number":"1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"The BigInt Type"},{"type":"clause","id":"sec-numeric-types","aoid":null,"title":"Numeric Types","titleHTML":"Numeric Types","number":"1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Numeric Types"},{"type":"production","id":"prod-NumericLiteral","name":"NumericLiteral","referencingIds":["_ref_464","_ref_467","_ref_469"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"NumericLiteral"},{"type":"production","id":"prod-NumericLiteralBase","name":"NumericLiteralBase","referencingIds":["_ref_459","_ref_460","_ref_462","_ref_465","_ref_468"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"NumericLiteralBase"},{"type":"production","id":"prod-BigIntLiteralSuffix","name":"BigIntLiteralSuffix","referencingIds":["_ref_458","_ref_461","_ref_463","_ref_466","_ref_470"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"BigIntLiteralSuffix"},{"type":"clause","id":"sec-numeric-literal-static-semantics-bigint-value","aoid":null,"title":"Static Semantics: BigInt Value","titleHTML":"Static Semantics: BigInt Value","number":"2.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Static Semantics: BigInt Value"},{"type":"clause","id":"sec-numeric-literal-static-semantics-number-value","aoid":null,"title":"Static Semantics: Number Value","titleHTML":"Static Semantics: Number Value","number":"2.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Static Semantics: Number Value"},{"type":"clause","id":"sec-grammar-change","aoid":null,"title":"Modifications to the Number grammar","titleHTML":"Modifications to the Number grammar","number":"2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Modifications to the Number grammar"},{"type":"table","id":"table-9","number":2,"caption":"Table 2: ToPrimitive Conversions","referencingIds":[],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 2: ToPrimitive Conversions"},{"type":"op","aoid":"ToPrimitive","refId":"sec-toprimitive","location":"","referencingIds":[],"key":"ToPrimitive"},{"type":"clause","id":"sec-toprimitive","aoid":"ToPrimitive","title":"ToPrimitive ( input [ , PreferredType ] )","titleHTML":"ToPrimitive ( <var>input</var> [ , <var>PreferredType</var> ] )","number":"3.1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_59","_ref_66","_ref_87","_ref_88","_ref_89","_ref_90","_ref_128","_ref_131","_ref_200","_ref_201","_ref_213","_ref_265","_ref_307"],"key":"ToPrimitive ( input [ , PreferredType ] )"},{"type":"table","id":"table-10","number":3,"caption":"Table 3: ToBoolean Conversions","referencingIds":["_ref_18"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 3: ToBoolean Conversions"},{"type":"op","aoid":"ToBoolean","refId":"sec-toboolean","location":"","referencingIds":[],"key":"ToBoolean"},{"type":"clause","id":"sec-toboolean","aoid":"ToBoolean","title":"ToBoolean ( argument )","titleHTML":"ToBoolean ( <var>argument</var> )","number":"3.1.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_60","_ref_425"],"key":"ToBoolean ( argument )"},{"type":"table","id":"table-11","number":4,"caption":"Table 4: ToNumber Conversions","referencingIds":["_ref_19"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 4: ToNumber Conversions"},{"type":"clause","id":"sec-tonumber-applied-to-the-string-type","aoid":null,"title":"ToNumber Applied to the String Type","titleHTML":"ToNumber Applied to the String Type","number":"3.1.3.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_25","_ref_26"],"key":"ToNumber Applied to the String Type"},{"type":"op","aoid":"ToNumber","refId":"sec-tonumber","location":"","referencingIds":[],"key":"ToNumber"},{"type":"clause","id":"sec-tonumber","aoid":"ToNumber","title":"ToNumber ( argument )","titleHTML":"ToNumber ( <var>argument</var> )","number":"3.1.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_61","_ref_68","_ref_91","_ref_92","_ref_113","_ref_116","_ref_123","_ref_125","_ref_140","_ref_147","_ref_154","_ref_161","_ref_168","_ref_170","_ref_172","_ref_182","_ref_184","_ref_191","_ref_193","_ref_206","_ref_208","_ref_217","_ref_219","_ref_288","_ref_303","_ref_304","_ref_313","_ref_357","_ref_372","_ref_379","_ref_392","_ref_396"],"key":"ToNumber ( argument )"},{"type":"table","id":"table-12","number":5,"caption":"Table 5: ToString Conversions","referencingIds":["_ref_20"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 5: ToString Conversions"},{"type":"op","aoid":"ToString Applied to the BigInt Type","refId":"sec-tostring-applied-to-the-bigint-type","location":"","referencingIds":[],"key":"ToString Applied to the BigInt Type"},{"type":"clause","id":"sec-tostring-applied-to-the-bigint-type","aoid":"ToString Applied to the BigInt Type","title":"ToString Applied to the BigInt Type","titleHTML":"ToString Applied to the BigInt Type","number":"3.1.4.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_21","_ref_24"],"key":"ToString Applied to the BigInt Type"},{"type":"op","aoid":"ToString","refId":"sec-tostring","location":"","referencingIds":[],"key":"ToString"},{"type":"clause","id":"sec-tostring","aoid":"ToString","title":"ToString ( argument )","titleHTML":"ToString ( <var>argument</var> )","number":"3.1.4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_62","_ref_63","_ref_64","_ref_204","_ref_205","_ref_279","_ref_289","_ref_293","_ref_383","_ref_391"],"key":"ToString ( argument )"},{"type":"table","id":"table-13","number":6,"caption":"Table 6: ToObject Conversions","referencingIds":["_ref_22"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 6: ToObject Conversions"},{"type":"op","aoid":"ToObject","refId":"sec-toobject","location":"","referencingIds":[],"key":"ToObject"},{"type":"clause","id":"sec-toobject","aoid":"ToObject","title":"ToObject ( argument )","titleHTML":"ToObject ( <var>argument</var> )","number":"3.1.5","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_65","_ref_69","_ref_388"],"key":"ToObject ( argument )"},{"type":"op","aoid":"ToNumeric","refId":"sec-tonumeric","location":"","referencingIds":[],"key":"ToNumeric"},{"type":"clause","id":"sec-tonumeric","aoid":"ToNumeric","title":"ToNumeric ( value )","titleHTML":"ToNumeric ( <var>value</var> )","number":"3.1.6","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_99","_ref_100","_ref_142","_ref_149","_ref_156","_ref_163","_ref_171","_ref_173","_ref_177","_ref_183","_ref_185","_ref_192","_ref_194","_ref_207","_ref_209","_ref_218","_ref_220","_ref_227","_ref_229","_ref_236","_ref_238","_ref_245","_ref_247","_ref_254","_ref_256","_ref_300"],"key":"ToNumeric ( value )"},{"type":"table","id":"table-14","number":7,"caption":"Table 7: RequireObjectCoercible Results","referencingIds":["_ref_23"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 7: RequireObjectCoercible Results"},{"type":"op","aoid":"RequireObjectCoercible","refId":"sec-requireobjectcoercible","location":"","referencingIds":[],"key":"RequireObjectCoercible"},{"type":"clause","id":"sec-requireobjectcoercible","aoid":"RequireObjectCoercible","title":"RequireObjectCoercible ( argument )","titleHTML":"RequireObjectCoercible ( <var>argument</var> )","number":"3.1.7","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_70"],"key":"RequireObjectCoercible ( argument )"},{"type":"clause","id":"sec-type-conversion","aoid":null,"title":"Type Conversion","titleHTML":"Type Conversion","number":"3.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Type Conversion"},{"type":"op","aoid":"SameValue","refId":"sec-samevalue","location":"","referencingIds":[],"key":"SameValue"},{"type":"clause","id":"sec-samevalue","aoid":"SameValue","title":"SameValue ( x, y )","titleHTML":"SameValue ( <var>x</var>, <var>y</var> )","number":"3.2.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_10","_ref_403","_ref_405","_ref_414"],"key":"SameValue ( x, y )"},{"type":"op","aoid":"SameValueZero","refId":"sec-samevaluezero","location":"","referencingIds":[],"key":"SameValueZero"},{"type":"clause","id":"sec-samevaluezero","aoid":"SameValueZero","title":"SameValueZero ( x, y )","titleHTML":"SameValueZero ( <var>x</var>, <var>y</var> )","number":"3.2.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_11","_ref_262"],"key":"SameValueZero ( x, y )"},{"type":"op","aoid":"SameValueNonNumeric","refId":"sec-samevaluenonnumber","location":"","referencingIds":[],"key":"SameValueNonNumeric"},{"type":"clause","id":"sec-samevaluenonnumber","aoid":"SameValueNonNumeric","title":"SameValueNonNumberNumeric ( x, y )","titleHTML":"SameValueNon<del>Number</del><ins>Numeric</ins> ( <var>x</var>, <var>y</var> )","number":"3.2.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"SameValueNonNumberNumeric ( x, y )"},{"type":"op","aoid":"Abstract Relational Comparison","refId":"sec-abstract-relational-comparison","location":"","referencingIds":[],"key":"Abstract Relational Comparison"},{"type":"clause","id":"sec-abstract-relational-comparison","aoid":"Abstract Relational Comparison","title":"Abstract Relational Comparison","titleHTML":"Abstract Relational Comparison","number":"3.2.4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_8","_ref_214"],"key":"Abstract Relational Comparison"},{"type":"op","aoid":"Abstract Equality Comparison","refId":"sec-abstract-equality-comparison","location":"","referencingIds":[],"key":"Abstract Equality Comparison"},{"type":"clause","id":"sec-abstract-equality-comparison","aoid":"Abstract Equality Comparison","title":"Abstract Equality Comparison","titleHTML":"Abstract Equality Comparison","number":"3.2.5","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Abstract Equality Comparison"},{"type":"op","aoid":"Strict Equality Comparison","refId":"sec-strict-equality-comparison","location":"","referencingIds":[],"key":"Strict Equality Comparison"},{"type":"clause","id":"sec-strict-equality-comparison","aoid":"Strict Equality Comparison","title":"Strict Equality Comparison","titleHTML":"Strict Equality Comparison","number":"3.2.6","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_9","_ref_110"],"key":"Strict Equality Comparison"},{"type":"clause","id":"sec-testing-and-comparison-operations","aoid":null,"title":"Testing and Comparison Operations","titleHTML":"Testing and Comparison Operations","number":"3.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Testing and Comparison Operations"},{"type":"clause","id":"sec-abstract-operations","aoid":null,"title":"Abstract Operations","titleHTML":"Abstract Operations","number":"3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Abstract Operations"},{"type":"production","id":"prod-UpdateExpression","name":"UpdateExpression","referencingIds":["_ref_482"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"UpdateExpression"},{"type":"clause","id":"sec-postfix-increment-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.1.1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-postfix-increment-operator","aoid":null,"title":"Postfix Increment Operator","titleHTML":"Postfix Increment Operator","number":"4.1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Postfix Increment Operator"},{"type":"clause","id":"sec-postfix-decrement-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.1.2.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-postfix-decrement-operator","aoid":null,"title":"Postfix Decrement Operator","titleHTML":"Postfix Decrement Operator","number":"4.1.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Postfix Decrement Operator"},{"type":"clause","id":"sec-prefix-increment-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.1.3.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-prefix-increment-operator","aoid":null,"title":"Prefix Increment Operator","titleHTML":"Prefix Increment Operator","number":"4.1.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Prefix Increment Operator"},{"type":"clause","id":"sec-prefix-decrement-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.1.4.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-prefix-decrement-operator","aoid":null,"title":"Prefix Decrement Operator","titleHTML":"Prefix Decrement Operator","number":"4.1.4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Prefix Decrement Operator"},{"type":"clause","id":"sec-update-expressions","aoid":null,"title":"Update Expressions","titleHTML":"Update Expressions","number":"4.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Update Expressions"},{"type":"production","id":"prod-UnaryExpression","name":"UnaryExpression","referencingIds":["_ref_471","_ref_472","_ref_473","_ref_474","_ref_475","_ref_476","_ref_477","_ref_478","_ref_479","_ref_480","_ref_481"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"UnaryExpression"},{"type":"table","id":"table-35","number":8,"caption":"Table 8: typeof Operator Results","referencingIds":[],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 8: typeof Operator Results"},{"type":"clause","id":"sec-typeof-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.2.1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-typeof-operator","aoid":null,"title":"The typeof Operator","titleHTML":"The <code>typeof</code> Operator","number":"4.2.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"The typeof Operator"},{"type":"clause","id":"sec-unary-plus-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.2.2.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-unary-plus-operator","aoid":null,"title":"Unary + Operator","titleHTML":"Unary <code>+</code> Operator","number":"4.2.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Unary + Operator"},{"type":"clause","id":"sec-unary-minus-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.2.3.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-unary-minus-operator","aoid":null,"title":"Unary - Operator","titleHTML":"Unary <code>-</code> Operator","number":"4.2.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_0"],"key":"Unary - Operator"},{"type":"clause","id":"sec-bitwise-not-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.2.4.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-bitwise-not-operator","aoid":null,"title":"Bitwise NOT Operator ( ~ )","titleHTML":"Bitwise NOT Operator ( <code>~</code> )","number":"4.2.4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_1"],"key":"Bitwise NOT Operator ( ~ )"},{"type":"clause","id":"sec-unary-operators","aoid":null,"title":"Unary Operators","titleHTML":"Unary Operators","number":"4.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Unary Operators"},{"type":"production","id":"prod-ExponentiationExpression","name":"ExponentiationExpression","referencingIds":["_ref_483","_ref_485","_ref_487"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"ExponentiationExpression"},{"type":"clause","id":"sec-exp-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.3.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-exp-operator","aoid":null,"title":"Exponentiation Operator","titleHTML":"Exponentiation Operator","number":"4.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_2"],"key":"Exponentiation Operator"},{"type":"production","id":"prod-MultiplicativeExpression","name":"MultiplicativeExpression","referencingIds":["_ref_484","_ref_486","_ref_489","_ref_491","_ref_493","_ref_495"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"MultiplicativeExpression"},{"type":"clause","id":"sec-multiplicative-operators-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.4.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-multiplicative-operators","aoid":null,"title":"Multiplicative Operators","titleHTML":"Multiplicative Operators","number":"4.4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Multiplicative Operators"},{"type":"production","id":"prod-AdditiveExpression","name":"AdditiveExpression","referencingIds":["_ref_488","_ref_490","_ref_492","_ref_494","_ref_497","_ref_499","_ref_501","_ref_503","_ref_505","_ref_507"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"AdditiveExpression"},{"type":"clause","id":"sec-addition-operator-plus-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.5.1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-addition-operator-plus","aoid":null,"title":"The Addition Operator ( + )","titleHTML":"The Addition Operator ( <code>+</code> )","number":"4.5.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_3"],"key":"The Addition Operator ( + )"},{"type":"clause","id":"sec-subtraction-operator-minus-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.5.2.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-subtraction-operator-minus","aoid":null,"title":"The Subtraction Operator ( - )","titleHTML":"The Subtraction Operator ( <code>-</code> )","number":"4.5.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_4"],"key":"The Subtraction Operator ( - )"},{"type":"clause","id":"sec-additive-operators","aoid":null,"title":"Additive Operators","titleHTML":"Additive Operators","number":"4.5","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Additive Operators"},{"type":"production","id":"prod-ShiftExpression","name":"ShiftExpression","referencingIds":["_ref_496","_ref_498","_ref_500","_ref_502","_ref_504","_ref_506"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"ShiftExpression"},{"type":"clause","id":"sec-left-shift-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.6.1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-left-shift-operator","aoid":null,"title":"The Left Shift Operator ( << )","titleHTML":"The Left Shift Operator ( <code>&lt;&lt;</code> )","number":"4.6.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_5"],"key":"The Left Shift Operator ( << )"},{"type":"clause","id":"sec-signed-right-shift-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.6.2.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-signed-right-shift-operator","aoid":null,"title":"The Signed Right Shift Operator ( >> )","titleHTML":"The Signed Right Shift Operator ( <code>&gt;&gt;</code> )","number":"4.6.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_6"],"key":"The Signed Right Shift Operator ( >> )"},{"type":"clause","id":"sec-unsigned-right-shift-operator-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.6.3.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-unsigned-right-shift-operator","aoid":null,"title":"The Unsigned Right Shift Operator ( >>> )","titleHTML":"The Unsigned Right Shift Operator ( <code>&gt;&gt;&gt;</code> )","number":"4.6.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_7"],"key":"The Unsigned Right Shift Operator ( >>> )"},{"type":"clause","id":"sec-bitwise-shift-operators","aoid":null,"title":"Bitwise Shift Operators","titleHTML":"Bitwise Shift Operators","number":"4.6","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Bitwise Shift Operators"},{"type":"production","id":"prod-A","name":"A","referencingIds":["_ref_508"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"A"},{"type":"clause","id":"sec-binary-bitwise-operators-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"4.7.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_13","_ref_15","_ref_17"],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-binary-bitwise-operators","aoid":null,"title":"Binary Bitwise Operators","titleHTML":"Binary Bitwise Operators","number":"4.7","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_12","_ref_14","_ref_16"],"key":"Binary Bitwise Operators"},{"type":"clause","id":"sec-ecmascript-language-expressions","aoid":null,"title":"ECMAScript Language: Expressions","titleHTML":"ECMAScript Language: Expressions","number":"4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"ECMAScript Language: Expressions"},{"type":"term","term":"%BigInt%","refId":"sec-bigint-constructor","referencingIds":[],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"%BigInt%"},{"type":"op","aoid":"IsInteger","refId":"sec-is-integer","location":"","referencingIds":[],"key":"IsInteger"},{"type":"clause","id":"sec-is-integer","aoid":"IsInteger","title":"IsInteger ( number )","titleHTML":"IsInteger ( <var>number</var> )","number":"5.1.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_264","_ref_315"],"key":"IsInteger ( number )"},{"type":"op","aoid":"NumberToBigInt","refId":"sec-number-to-bigint","location":"","referencingIds":[],"key":"NumberToBigInt"},{"type":"clause","id":"sec-number-to-bigint","aoid":"NumberToBigInt","title":"NumberToBigInt ( number )","titleHTML":"NumberToBigInt ( <var>number</var> )","number":"5.1.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_267"],"key":"NumberToBigInt ( number )"},{"type":"clause","id":"sec-bigint-constructor-number-value","aoid":null,"title":"BigInt ( value )","titleHTML":"BigInt ( <var>value</var> )","number":"5.1.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt ( value )"},{"type":"clause","id":"sec-bigint-constructor","aoid":null,"title":"The BigInt Constructor","titleHTML":"The BigInt Constructor","number":"5.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_277"],"key":"The BigInt Constructor"},{"type":"clause","id":"sec-bigint.asuintn","aoid":null,"title":"BigInt.asUintN ( bits, bigint )","titleHTML":"BigInt.asUintN ( <var>bits</var>, <var>bigint</var> )","number":"5.2.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt.asUintN ( bits, bigint )"},{"type":"clause","id":"sec-bigint.asintn","aoid":null,"title":"BigInt.asIntN ( bits, bigint )","titleHTML":"BigInt.asIntN ( <var>bits</var>, <var>bigint</var> )","number":"5.2.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt.asIntN ( bits, bigint )"},{"type":"clause","id":"sec-bigint.prototype","aoid":null,"title":"BigInt.prototype","titleHTML":"BigInt.prototype","number":"5.2.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt.prototype"},{"type":"clause","id":"sec-properties-of-the-bigint-constructor","aoid":null,"title":"Properties of the BigInt Constructor","titleHTML":"Properties of the BigInt Constructor","number":"5.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Properties of the BigInt Constructor"},{"type":"term","term":"%BigIntPrototype%","refId":"sec-properties-of-the-bigint-prototype-object","referencingIds":[],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"%BigIntPrototype%"},{"type":"clause","id":"sec-bigint.prototype.constructor","aoid":null,"title":"BigInt.prototype.constructor","titleHTML":"BigInt.prototype.constructor","number":"5.3.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt.prototype.constructor"},{"type":"clause","id":"sec-bigint.prototype.tolocalestring","aoid":null,"title":"BigInt.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )","titleHTML":"BigInt.prototype.toLocaleString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )","number":"5.3.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )"},{"type":"clause","id":"sec-bigint.prototype.tostring","aoid":null,"title":"BigInt.prototype.toString ( [ radix ] )","titleHTML":"BigInt.prototype.toString ( [ <var>radix</var> ] )","number":"5.3.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt.prototype.toString ( [ radix ] )"},{"type":"clause","id":"sec-bigint.prototype.valueof","aoid":null,"title":"BigInt.prototype.valueOf ( )","titleHTML":"BigInt.prototype.valueOf ( )","number":"5.3.4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt.prototype.valueOf ( )"},{"type":"clause","id":"sec-bigint-@@tostringtag","aoid":null,"title":"BigInt.prototype [ @@toStringTag ]","titleHTML":"BigInt.prototype [ @@toStringTag ]","number":"5.3.5","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt.prototype [ @@toStringTag ]"},{"type":"clause","id":"sec-properties-of-the-bigint-prototype-object","aoid":null,"title":"Properties of the BigInt Prototype Object","titleHTML":"Properties of the BigInt Prototype Object","number":"5.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_273"],"key":"Properties of the BigInt Prototype Object"},{"type":"clause","id":"sec-bigint-objects","aoid":null,"title":"BigInt Objects","titleHTML":"BigInt Objects","number":"5","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"BigInt Objects"},{"type":"op","aoid":"SerializeJSONProperty","refId":"sec-serializejsonproperty","location":"","referencingIds":[],"key":"SerializeJSONProperty"},{"type":"clause","id":"sec-serializejsonproperty","aoid":"SerializeJSONProperty","title":"Runtime Semantics: SerializeJSONProperty ( key, holder )","titleHTML":"Runtime Semantics: SerializeJSONProperty ( <var>key</var>, <var>holder</var> )","number":"6.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Runtime Semantics: SerializeJSONProperty ( key, holder )"},{"type":"clause","id":"sec-number-constructor-number-value","aoid":null,"title":"Number ( value )","titleHTML":"Number ( <var>value</var> )","number":"6.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Number ( value )"},{"type":"clause","id":"sec-math.pow","aoid":null,"title":"Math.pow ( base, exponent )","titleHTML":"Math.pow ( <var>base</var>, <var>exponent</var> )","number":"6.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Math.pow ( base, exponent )"},{"type":"clause","id":"sec-modifications","aoid":null,"title":"Modified algorithms","titleHTML":"Modified algorithms","number":"6","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Modified algorithms"},{"type":"table","id":"table-49","number":9,"caption":"Table 9: The TypedArray Constructors","referencingIds":["_ref_28","_ref_29","_ref_30","_ref_31","_ref_32","_ref_33","_ref_34","_ref_35","_ref_36","_ref_37","_ref_38","_ref_39","_ref_40","_ref_41","_ref_42","_ref_43","_ref_44","_ref_46","_ref_47","_ref_49","_ref_50","_ref_51","_ref_52","_ref_53","_ref_54","_ref_55","_ref_56","_ref_57","_ref_58"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 9: The TypedArray Constructors"},{"type":"clause","id":"sec-typedarray-objects","aoid":null,"title":"TypedArray Objects","titleHTML":"TypedArray Objects","number":"7.1","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"TypedArray Objects"},{"type":"op","aoid":"StringToBigInt","refId":"sec-string-to-bigint","location":"","referencingIds":[],"key":"StringToBigInt"},{"type":"clause","id":"sec-string-to-bigint","aoid":"StringToBigInt","title":"StringToBigInt ( argument )","titleHTML":"StringToBigInt ( <var>argument</var> )","number":"7.2","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_95","_ref_98","_ref_119","_ref_308"],"key":"StringToBigInt ( argument )"},{"type":"table","id":"table-to-bigint","number":10,"caption":"Table 10: BigInt Conversions","referencingIds":["_ref_27"],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 10: BigInt Conversions"},{"type":"op","aoid":"ToBigInt","refId":"sec-to-bigint","location":"","referencingIds":[],"key":"ToBigInt"},{"type":"clause","id":"sec-to-bigint","aoid":"ToBigInt","title":"ToBigInt ( argument )","titleHTML":"ToBigInt ( <var>argument</var> )","number":"7.3","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_268","_ref_270","_ref_272","_ref_309","_ref_310","_ref_312","_ref_338","_ref_342","_ref_343","_ref_362","_ref_378","_ref_395","_ref_423"],"key":"ToBigInt ( argument )"},{"type":"op","aoid":"ToBigInt64","refId":"sec-to-big-int64","location":"","referencingIds":[],"key":"ToBigInt64"},{"type":"clause","id":"sec-to-big-int64","aoid":"ToBigInt64","title":"ToBigInt64 ( argument )","titleHTML":"ToBigInt64 ( <var>argument</var> )","number":"7.4","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_305","_ref_355"],"key":"ToBigInt64 ( argument )"},{"type":"op","aoid":"ToBigUint64","refId":"sec-to-big-uint64","location":"","referencingIds":[],"key":"ToBigUint64"},{"type":"clause","id":"sec-to-big-uint64","aoid":"ToBigUint64","title":"ToBigUint64 ( argument )","titleHTML":"ToBigUint64 ( <var>argument</var> )","number":"7.5","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_306"],"key":"ToBigUint64 ( argument )"},{"type":"op","aoid":"RawBytesToNumeric","refId":"sec-rawbytestonumeric","location":"","referencingIds":[],"key":"RawBytesToNumeric"},{"type":"clause","id":"sec-rawbytestonumeric","aoid":"RawBytesToNumeric","title":"RawBytesToNumberNumeric( type, rawBytes, isLittleEndian )","titleHTML":"RawBytesTo<del>Number</del><ins>Numeric</ins>( <var>type</var>, <var>rawBytes</var>, <var>isLittleEndian</var> )","number":"7.6","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"RawBytesToNumberNumeric( type, rawBytes, isLittleEndian )"},{"type":"op","aoid":"NumericToRawBytes","refId":"sec-numerictorawbytes","location":"","referencingIds":[],"key":"NumericToRawBytes"},{"type":"clause","id":"sec-numerictorawbytes","aoid":"NumericToRawBytes","title":"NumberNumericToRawBytes( type, value, isLittleEndian )","titleHTML":"<del>Number</del><ins>Numeric</ins>ToRawBytes( <var>type</var>, <var>value</var>, <var>isLittleEndian</var> )","number":"7.7","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"NumberNumericToRawBytes( type, value, isLittleEndian )"},{"type":"op","aoid":"IntegerIndexedElementSet","refId":"sec-integerindexedelementset","location":"","referencingIds":[],"key":"IntegerIndexedElementSet"},{"type":"clause","id":"sec-integerindexedelementset","aoid":"IntegerIndexedElementSet","title":"IntegerIndexedElementSet ( O, index, value )","titleHTML":"IntegerIndexedElementSet ( <var>O</var>, <var>index</var>, <var>value</var> )","number":"7.8","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"IntegerIndexedElementSet ( O, index, value )"},{"type":"op","aoid":"SetValueInBuffer","refId":"sec-setvalueinbuffer","location":"","referencingIds":[],"key":"SetValueInBuffer"},{"type":"clause","id":"sec-setvalueinbuffer","aoid":"SetValueInBuffer","title":"SetValueInBuffer ( arrayBuffer, byteIndex, type, value, isTypedArray, order [ , isLittleEndian ] )","titleHTML":"SetValueInBuffer ( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>value</var>, <var>isTypedArray</var>, <var>order</var> [ , <var>isLittleEndian</var> ] )","number":"7.9","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_316","_ref_364","_ref_398","_ref_407","_ref_409","_ref_420","_ref_427","_ref_452"],"key":"SetValueInBuffer ( arrayBuffer, byteIndex, type, value, isTypedArray, order [ , isLittleEndian ] )"},{"type":"op","aoid":"GetValueFromBuffer","refId":"sec-getvaluefrombuffer","location":"","referencingIds":[],"key":"GetValueFromBuffer"},{"type":"clause","id":"sec-getvaluefrombuffer","aoid":"GetValueFromBuffer","title":"GetValueFromBuffer ( arrayBuffer, byteIndex, type, isTypedArray, order [ , isLittleEndian ] )","titleHTML":"GetValueFromBuffer ( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>isTypedArray</var>, <var>order</var> [ , <var>isLittleEndian</var> ] )","number":"7.10","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_406","_ref_408","_ref_419","_ref_451"],"key":"GetValueFromBuffer ( arrayBuffer, byteIndex, type, isTypedArray, order [ , isLittleEndian ] )"},{"type":"op","aoid":"GetModifySetValueInBuffer","refId":"sec-getmodifysetvalueinbuffer","location":"","referencingIds":[],"key":"GetModifySetValueInBuffer"},{"type":"clause","id":"sec-getmodifysetvalueinbuffer","aoid":"GetModifySetValueInBuffer","title":"GetModifySetValueInBuffer( arrayBuffer, byteIndex, type, value, op [ , isLittleEndian ] )","titleHTML":"GetModifySetValueInBuffer( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>value</var>, <var>op</var> [ , <var>isLittleEndian</var> ] )","number":"7.11","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_340","_ref_348"],"key":"GetModifySetValueInBuffer( arrayBuffer, byteIndex, type, value, op [ , isLittleEndian ] )"},{"type":"op","aoid":"ValidateSharedIntegerTypedArray","refId":"sec-validatesharedintegertypedarray","location":"","referencingIds":[],"key":"ValidateSharedIntegerTypedArray"},{"type":"clause","id":"sec-validatesharedintegertypedarray","aoid":"ValidateSharedIntegerTypedArray","title":"ValidateSharedIntegerTypedArray(typedArray [ , waitable ] )","titleHTML":"ValidateSharedIntegerTypedArray(<var>typedArray</var> [ , <var>waitable</var> ] )","number":"7.12","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_337","_ref_341","_ref_354","_ref_358","_ref_361"],"key":"ValidateSharedIntegerTypedArray(typedArray [ , waitable ] )"},{"type":"op","aoid":"AtomicReadModifyWrite","refId":"sec-atomicreadmodifywrite","location":"","referencingIds":[],"key":"AtomicReadModifyWrite"},{"type":"clause","id":"sec-atomicreadmodifywrite","aoid":"AtomicReadModifyWrite","title":"AtomicReadModifyWrite( typedArray, index, value, op )","titleHTML":"AtomicReadModifyWrite( <var>typedArray</var>, <var>index</var>, <var>value</var>, <var>op</var> )","number":"7.13","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"AtomicReadModifyWrite( typedArray, index, value, op )"},{"type":"clause","id":"sec-atomics.compareexchange","aoid":null,"title":"Atomics.compareExchange ( typedArray, index, expectedValue, replacementValue )","titleHTML":"Atomics.compareExchange ( <var>typedArray</var>, <var>index</var>, <var>expectedValue</var>, <var>replacementValue</var> )","number":"7.14","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Atomics.compareExchange ( typedArray, index, expectedValue, replacementValue )"},{"type":"clause","id":"sec-atomics.islockfree","aoid":null,"title":"Atomics.isLockFree( size )","titleHTML":"Atomics.isLockFree( <var>size</var> )","number":"7.15","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Atomics.isLockFree( size )"},{"type":"clause","id":"sec-atomics.wait","aoid":null,"title":"Atomics.wait( typedArray, index, value, timeout )","titleHTML":"Atomics.wait( <var>typedArray</var>, <var>index</var>, <var>value</var>, <var>timeout</var> )","number":"7.16","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Atomics.wait( typedArray, index, value, timeout )"},{"type":"clause","id":"sec-atomics.wake","aoid":null,"title":"Atomics.notify( typedArray, index, count )","titleHTML":"Atomics.notify( <var>typedArray</var>, <var>index</var>, <var>count</var> )","number":"7.17","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Atomics.notify( typedArray, index, count )"},{"type":"clause","id":"sec-atomics.store","aoid":null,"title":"Atomics.store( typedArray, index, value )","titleHTML":"Atomics.store( <var>typedArray</var>, <var>index</var>, <var>value</var> )","number":"7.18","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Atomics.store( typedArray, index, value )"},{"type":"clause","id":"sec-%typedarray%.prototype.sort","aoid":null,"title":"%TypedArray%.prototype.sort ( comparefn )","titleHTML":"%TypedArray%.prototype.sort ( <var>comparefn</var> )","number":"7.19","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"%TypedArray%.prototype.sort ( comparefn )"},{"type":"op","aoid":"TypedArraySpeciesCreate","refId":"typedarray-species-create","location":"","referencingIds":[],"key":"TypedArraySpeciesCreate"},{"type":"clause","id":"typedarray-species-create","aoid":"TypedArraySpeciesCreate","title":"TypedArraySpeciesCreate ( exemplar, argumentList )","titleHTML":"TypedArraySpeciesCreate ( <var>exemplar</var>, <var>argumentList</var> )","number":"7.20","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"TypedArraySpeciesCreate ( exemplar, argumentList )"},{"type":"clause","id":"sec-%typedarray%.prototype.fill","aoid":null,"title":"%TypedArray%.prototype.fill ( value [ , start [ , end ] ] )","titleHTML":"%TypedArray%.prototype.fill ( <var>value</var> [ , <var>start</var> [ , <var>end</var> ] ] )","number":"7.21","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"%TypedArray%.prototype.fill ( value [ , start [ , end ] ] )"},{"type":"clause","id":"sec-%typedarray%.prototype.set-array-offset","aoid":null,"title":"%TypedArray%.prototype.set ( array [ , offset ] )","titleHTML":"%TypedArray%.prototype.set ( <var>array</var> [ , <var>offset</var> ] )","number":"7.22","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_48"],"key":"%TypedArray%.prototype.set ( array [ , offset ] )"},{"type":"clause","id":"sec-%typedarray%.prototype.set-typedarray-offset","aoid":null,"title":"%TypedArray%.prototype.set( typedArray [ , offset ] )","titleHTML":"%TypedArray%.prototype.set( <var>typedArray</var> [ , <var>offset</var> ] )","number":"7.23","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_45"],"key":"%TypedArray%.prototype.set( typedArray [ , offset ] )"},{"type":"clause","id":"sec-typedarray-typedarray","aoid":null,"title":"TypedArray ( typedArray )","titleHTML":"<var>TypedArray</var> ( <var>typedArray</var> )","number":"7.24","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"TypedArray ( typedArray )"},{"type":"op","aoid":"SetViewValue","refId":"sec-setviewvalue","location":"","referencingIds":[],"key":"SetViewValue"},{"type":"clause","id":"sec-setviewvalue","aoid":"SetViewValue","title":"SetViewValue ( view, requestIndex, isLittleEndian, type, value )","titleHTML":"SetViewValue ( <var>view</var>, <var>requestIndex</var>, <var>isLittleEndian</var>, <var>type</var>, <var>value</var> )","number":"7.25","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":["_ref_430","_ref_431"],"key":"SetViewValue ( view, requestIndex, isLittleEndian, type, value )"},{"type":"clause","id":"sec-dataview.prototype.getbigint64","aoid":null,"title":"DataView.prototype.getBigInt64 ( byteOffset [ , littleEndian ] )","titleHTML":"DataView.prototype.getBigInt64 ( <var>byteOffset</var> [ , <var>littleEndian</var> ] )","number":"7.26","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"DataView.prototype.getBigInt64 ( byteOffset [ , littleEndian ] )"},{"type":"clause","id":"sec-dataview.prototype.getbiguint64","aoid":null,"title":"DataView.prototype.getBigUint64 ( byteOffset [ , littleEndian ] )","titleHTML":"DataView.prototype.getBigUint64 ( <var>byteOffset</var> [ , <var>littleEndian</var> ] )","number":"7.27","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"DataView.prototype.getBigUint64 ( byteOffset [ , littleEndian ] )"},{"type":"clause","id":"sec-dataview.prototype.setbigint64","aoid":null,"title":"DataView.prototype.setBigInt64 ( byteOffset, value [ , littleEndian ] )","titleHTML":"DataView.prototype.setBigInt64 ( <var>byteOffset</var>, <var>value</var> [ , <var>littleEndian</var> ] )","number":"7.28","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"DataView.prototype.setBigInt64 ( byteOffset, value [ , littleEndian ] )"},{"type":"clause","id":"sec-dataview.prototype.setbiguint64","aoid":null,"title":"DataView.prototype.setBigUint64 ( byteOffset, value [ , littleEndian ] )","titleHTML":"DataView.prototype.setBigUint64 ( <var>byteOffset</var>, <var>value</var> [ , <var>littleEndian</var> ] )","number":"7.29","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"DataView.prototype.setBigUint64 ( byteOffset, value [ , littleEndian ] )"},{"type":"clause","id":"sec-typedarrays-and-dataview","aoid":null,"title":"TypedArrays and DataViews","titleHTML":"TypedArrays and DataViews","number":"7","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"TypedArrays and DataViews"},{"type":"term","term":"agent","refId":"sec-agents","referencingIds":["_ref_352","_ref_353","_ref_360","_ref_433","_ref_434","_ref_435","_ref_437","_ref_438","_ref_443","_ref_445","_ref_446","_ref_448","_ref_453","_ref_454","_ref_455","_ref_456","_ref_457"],"id":"agent","namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"agent"},{"type":"term","term":"Agent Record","refId":"sec-agents","referencingIds":["_ref_321","_ref_323","_ref_327","_ref_329","_ref_333","_ref_335","_ref_347","_ref_350","_ref_441","_ref_449","_ref_450"],"id":"agent-record","namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Agent Record"},{"type":"term","term":"executing thread","refId":"sec-agents","referencingIds":["_ref_432","_ref_436","_ref_439","_ref_440","_ref_442","_ref_444"],"id":"executing-thread","namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"executing thread"},{"type":"term","term":"surrounding agent","refId":"sec-agents","referencingIds":["_ref_320","_ref_322","_ref_326","_ref_328","_ref_332","_ref_334","_ref_346","_ref_351","_ref_447"],"id":"surrounding-agent","namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"surrounding agent"},{"type":"table","id":"table-agent-record","number":11,"caption":"Table 11: Agent Record Fields","referencingIds":[],"namespace":"https://github.com/tc39/proposal-bigint","location":"","key":"Table 11: Agent Record Fields"},{"type":"clause","id":"sec-agents","aoid":null,"title":"Agents","titleHTML":"Agents","number":"8","namespace":"https://github.com/tc39/proposal-bigint","location":"","referencingIds":[],"key":"Agents"}]</script><script>"use strict";

function Search(menu) {
  this.menu = menu;
  this.$search = document.getElementById('menu-search');
  this.$searchBox = document.getElementById('menu-search-box');
  this.$searchResults = document.getElementById('menu-search-results');
  
  this.loadBiblio();
  
  document.addEventListener('keydown', this.documentKeydown.bind(this));
  
  this.$searchBox.addEventListener('keydown', debounce(this.searchBoxKeydown.bind(this), { stopPropagation: true }));
  this.$searchBox.addEventListener('keyup', debounce(this.searchBoxKeyup.bind(this), { stopPropagation: true }));
}

Search.prototype.loadBiblio = function () {
  var $biblio = document.getElementById('menu-search-biblio');
  if (!$biblio) {
    this.biblio = [];
  } else {
    this.biblio = JSON.parse($biblio.textContent);
    this.biblio.clauses = this.biblio.filter(function (e) { return e.type === 'clause' });
    this.biblio.byId = this.biblio.reduce(function (map, entry) {
      map[entry.id] = entry;
      return map;
    }, {});
  }
}

Search.prototype.documentKeydown = function (e) {
  if (e.keyCode === 191) {
    e.preventDefault();
    e.stopPropagation();
    this.triggerSearch();
  }
}

Search.prototype.searchBoxKeydown = function (e) {
  e.stopPropagation();
  e.preventDefault();
  if (e.keyCode === 191 && e.target.value.length === 0) {
    e.preventDefault();
  } else if (e.keyCode === 13) {
    e.preventDefault();
    this.selectResult();
  }
}

Search.prototype.searchBoxKeyup = function (e) {
  if (e.keyCode === 13 || e.keyCode === 9) {
    return;
  }
  
  this.search(e.target.value);
}


Search.prototype.triggerSearch = function (e) {
  if (this.menu.isVisible()) {
    this._closeAfterSearch = false;
  } else {
    this._closeAfterSearch = true;
    this.menu.show();
  }

  this.$searchBox.focus();
  this.$searchBox.select();
}
// bit 12 - Set if the result starts with searchString
// bits 8-11: 8 - number of chunks multiplied by 2 if cases match, otherwise 1.
// bits 1-7: 127 - length of the entry
// General scheme: prefer case sensitive matches with fewer chunks, and otherwise
// prefer shorter matches.
function relevance(result, searchString) {
  var relevance = 0;
  
  relevance = Math.max(0, 8 - result.match.chunks) << 7;
  
  if (result.match.caseMatch) {
    relevance *= 2;
  }
  
  if (result.match.prefix) {
    relevance += 2048
  }
  
  relevance += Math.max(0, 255 - result.entry.key.length);
  
  return relevance;
}

Search.prototype.search = function (searchString) {
  var s = Date.now();

  if (searchString === '') {
    this.displayResults([]);
    this.hideSearch();
    return;
  } else {
    this.showSearch();
  }
  
  if (searchString.length === 1) {
    this.displayResults([]);
    return;
  }
    
  var results;

  if (/^[\d\.]*$/.test(searchString)) {
    results = this.biblio.clauses.filter(function (clause) {
      return clause.number.substring(0, searchString.length) === searchString;
    }).map(function (clause) {
      return { entry: clause };
    });
  } else {
    results = [];
    
    for (var i = 0; i < this.biblio.length; i++) {
      var entry = this.biblio[i];
      if (!entry.key) {
        // biblio entries without a key aren't searchable
        continue;
      }

      var match = fuzzysearch(searchString, entry.key);
      if (match) {
        results.push({ entry: entry, match: match });
      }
    }
  
    results.forEach(function (result) {
      result.relevance = relevance(result, searchString);
    });
    
    results = results.sort(function (a, b) { return b.relevance - a.relevance });

  }

  if (results.length > 50) {
    results = results.slice(0, 50);
  }
  
  this.displayResults(results);
}
Search.prototype.hideSearch = function () {
  this.$search.classList.remove('active');
}

Search.prototype.showSearch = function () {
  this.$search.classList.add('active');
}

Search.prototype.selectResult = function () {
  var $first = this.$searchResults.querySelector('li:first-child a');

  if ($first) {
    document.location = $first.getAttribute('href');
  }
  
  this.$searchBox.value = '';
  this.$searchBox.blur();
  this.displayResults([]);
  this.hideSearch();

  if (this._closeAfterSearch) {
    this.menu.hide();
  }
}

Search.prototype.displayResults = function (results) {
  if (results.length > 0) {
    this.$searchResults.classList.remove('no-results');
    
    var html = '<ul>';

    results.forEach(function (result) {
      var entry = result.entry;
      var id = entry.id;
      var cssClass = '';
      var text = '';

      if (entry.type === 'clause') {
        var number = entry.number ? entry.number + ' ' : '';
        text = number + entry.key;
        cssClass = 'clause';
        id = entry.id;
      } else if (entry.type === 'production') {
        text = entry.key;
        cssClass = 'prod';
        id = entry.id;  
      } else if (entry.type === 'op') {
        text = entry.key;
        cssClass = 'op';
        id = entry.id || entry.refId;
      } else if (entry.type === 'term') {
        text = entry.key;
        cssClass = 'term';
        id = entry.id || entry.refId;
      }

      if (text) {
        html += '<li class=menu-search-result-' + cssClass + '><a href="#' + id + '">' + text + '</a></li>'
      }
    });

    html += '</ul>'

    this.$searchResults.innerHTML = html;
  } else {
    this.$searchResults.innerHTML = '';
    this.$searchResults.classList.add('no-results');
  }
}


function Menu() {
  this.$toggle = document.getElementById('menu-toggle');
  this.$menu = document.getElementById('menu');
  this.$toc = document.querySelector('menu-toc > ol');
  this.$pins = document.querySelector('#menu-pins');
  this.$pinList = document.getElementById('menu-pins-list');
  this.$toc = document.querySelector('#menu-toc > ol');
  this.$specContainer = document.getElementById('spec-container');
  this.search = new Search(this);
  
  this._pinnedIds = {}; 
  this.loadPinEntries();

  // toggle menu
  this.$toggle.addEventListener('click', this.toggle.bind(this));

  // keydown events for pinned clauses
  document.addEventListener('keydown', this.documentKeydown.bind(this));

  // toc expansion
  var tocItems = this.$menu.querySelectorAll('#menu-toc li');
  for (var i = 0; i < tocItems.length; i++) {
    var $item = tocItems[i];
    $item.addEventListener('click', function($item, event) {
      $item.classList.toggle('active');
      event.stopPropagation();
    }.bind(null, $item));
  }

  // close toc on toc item selection
  var tocLinks = this.$menu.querySelectorAll('#menu-toc li > a');
  for (var i = 0; i < tocLinks.length; i++) {
    var $link = tocLinks[i];
    $link.addEventListener('click', function(event) {
      this.toggle();
      event.stopPropagation();
    }.bind(this));
  }

  // update active clause on scroll
  window.addEventListener('scroll', debounce(this.updateActiveClause.bind(this)));
  this.updateActiveClause();

  // prevent menu scrolling from scrolling the body
  this.$toc.addEventListener('wheel', function (e) {
    var target = e.currentTarget;
    var offTop = e.deltaY < 0 && target.scrollTop === 0;
    if (offTop) {
      e.preventDefault();
    }
    var offBottom = e.deltaY > 0
                    && target.offsetHeight + target.scrollTop >= target.scrollHeight;

    if (offBottom) {
		  e.preventDefault();
	  }
  })
}

Menu.prototype.documentKeydown = function (e) {
  e.stopPropagation();
  if (e.keyCode === 80) {
    this.togglePinEntry();
  } else if (e.keyCode > 48 && e.keyCode < 58) {
    this.selectPin(e.keyCode - 49);
  }
}

Menu.prototype.updateActiveClause = function () {
  this.setActiveClause(findActiveClause(this.$specContainer))
}

Menu.prototype.setActiveClause = function (clause) {
  this.$activeClause = clause;
  this.revealInToc(this.$activeClause);
}

Menu.prototype.revealInToc = function (path) {
  var current = this.$toc.querySelectorAll('li.revealed');
  for (var i = 0; i < current.length; i++) {
    current[i].classList.remove('revealed');
    current[i].classList.remove('revealed-leaf');
  }
  
  var current = this.$toc;
  var index = 0;
  while (index < path.length) {
    var children = current.children;
    for (var i = 0; i < children.length; i++) {
      if ('#' + path[index].id === children[i].children[1].getAttribute('href') ) {
        children[i].classList.add('revealed');
        if (index === path.length - 1) {
          children[i].classList.add('revealed-leaf');
          var rect = children[i].getBoundingClientRect();
          this.$toc.getBoundingClientRect().top
          var tocRect = this.$toc.getBoundingClientRect();
          if (rect.top + 10 > tocRect.bottom) {
            this.$toc.scrollTop = this.$toc.scrollTop + (rect.top - tocRect.bottom) + (rect.bottom - rect.top);
          } else if (rect.top < tocRect.top) {
            this.$toc.scrollTop = this.$toc.scrollTop - (tocRect.top - rect.top);
          }
        }
        current = children[i].querySelector('ol');
        index++;
        break;
      }      
    }
    
  }
}

function findActiveClause(root, path) {
  var clauses = new ClauseWalker(root);
  var $clause;
  var found = false;
  var path = path || [];
  
  while ($clause = clauses.nextNode()) {
    var rect = $clause.getBoundingClientRect();
    var $header = $clause.children[0];
    var marginTop = parseInt(getComputedStyle($header)["margin-top"]);
    
    if ((rect.top - marginTop) <= 0 && rect.bottom > 0) {
      found = true;
      return findActiveClause($clause, path.concat($clause)) || path;
    }
  }
  
  return path;
}

function ClauseWalker(root) {
  var previous;
  var treeWalker = document.createTreeWalker(
    root,
    NodeFilter.SHOW_ELEMENT,
    {
      acceptNode: function (node) {
        if (previous === node.parentNode) {
          return NodeFilter.FILTER_REJECT;
        } else {
          previous = node;
        }
        if (node.nodeName === 'EMU-CLAUSE' || node.nodeName === 'EMU-INTRO' || node.nodeName === 'EMU-ANNEX') {
          return NodeFilter.FILTER_ACCEPT;
        } else {
          return NodeFilter.FILTER_SKIP;
        }
      }
    },
    false
    );
  
  return treeWalker;
}

Menu.prototype.toggle = function () {
  this.$menu.classList.toggle('active');
}

Menu.prototype.show = function () {
  this.$menu.classList.add('active');
}

Menu.prototype.hide = function () {
  this.$menu.classList.remove('active');
}

Menu.prototype.isVisible = function() {
  return this.$menu.classList.contains('active');
}

Menu.prototype.showPins = function () {
  this.$pins.classList.add('active');
}

Menu.prototype.hidePins = function () {
  this.$pins.classList.remove('active');
}

Menu.prototype.addPinEntry = function (id) {
  var entry = this.search.biblio.byId[id];
  if (!entry) {
    // id was deleted after pin (or something) so remove it
    delete this._pinnedIds[id];
    this.persistPinEntries();
    return;
  }

  if (entry.type === 'clause') {
    var prefix;
    if (entry.number) {
      prefix = entry.number + ' ';
    } else {
      prefix = '';
    }
    this.$pinList.innerHTML += '<li><a href="#' + entry.id + '">' + prefix + entry.titleHTML + '</a></li>';
  } else {
    this.$pinList.innerHTML += '<li><a href="#' + entry.id + '">' + entry.key + '</a></li>';
  }

  if (Object.keys(this._pinnedIds).length === 0) {
    this.showPins();
  }
  this._pinnedIds[id] = true;
  this.persistPinEntries();
}

Menu.prototype.removePinEntry = function (id) {
  var item = this.$pinList.querySelector('a[href="#' + id + '"]').parentNode;
  this.$pinList.removeChild(item);
  delete this._pinnedIds[id];
  if (Object.keys(this._pinnedIds).length === 0) {
    this.hidePins();
  }

  this.persistPinEntries();
}

Menu.prototype.persistPinEntries = function () {
  try {
    if (!window.localStorage) return;
  } catch (e) {
    return;
  }

  localStorage.pinEntries = JSON.stringify(Object.keys(this._pinnedIds));
}

Menu.prototype.loadPinEntries = function () {
  try {
    if (!window.localStorage) return;
  } catch (e) {
    return;
  }
  
  var pinsString = window.localStorage.pinEntries;
  if (!pinsString) return;
  var pins = JSON.parse(pinsString);
  for(var i = 0; i < pins.length; i++) {
    this.addPinEntry(pins[i]);
  }
}

Menu.prototype.togglePinEntry = function (id) {
  if (!id) {
    id = this.$activeClause[this.$activeClause.length - 1].id;
  }

  if (this._pinnedIds[id]) {
    this.removePinEntry(id);
  } else {
    this.addPinEntry(id);
  }
}

Menu.prototype.selectPin = function (num) {
  document.location = this.$pinList.children[num].children[0].href;
}

var menu;
function init() {
  menu = new Menu();
  var $container = document.getElementById('spec-container');
  $container.addEventListener('mouseover', debounce(function (e) {
    Toolbox.activateIfMouseOver(e);
  }));
}

document.addEventListener('DOMContentLoaded', init);

function debounce(fn, opts) {
  opts = opts || {};
  var timeout;
  return function(e) {
    if (opts.stopPropagation) {
      e.stopPropagation();
    }
    var args = arguments;
    if (timeout) {
      clearTimeout(timeout);
    }
    timeout = setTimeout(function() {
      timeout = null;
      fn.apply(this, args);
    }.bind(this), 150);
  }
}

var CLAUSE_NODES = ['EMU-CLAUSE', 'EMU-INTRO', 'EMU-ANNEX'];
function findLocalReferences ($elem) {
  var name = $elem.innerHTML;
  var references = [];

  var parentClause = $elem.parentNode;
  while (parentClause && CLAUSE_NODES.indexOf(parentClause.nodeName) === -1) {
    parentClause = parentClause.parentNode;
  }

  if(!parentClause) return;

  var vars = parentClause.querySelectorAll('var');

  for (var i = 0; i < vars.length; i++) {
    var $var = vars[i];

    if ($var.innerHTML === name) {
      references.push($var);
    }
  }

  return references;
}

function toggleFindLocalReferences($elem) {
  var references = findLocalReferences($elem);
  if ($elem.classList.contains('referenced')) {
    references.forEach(function ($reference) {
      $reference.classList.remove('referenced');
    });
  } else {
    references.forEach(function ($reference) {
      $reference.classList.add('referenced');
    });
  }
}

function installFindLocalReferences () {
  document.addEventListener('click', function (e) {
    if (e.target.nodeName === 'VAR') {
      toggleFindLocalReferences(e.target);
    }
  });
}

document.addEventListener('DOMContentLoaded', installFindLocalReferences);




// The following license applies to the fuzzysearch function
// The MIT License (MIT)
// Copyright  2015 Nicolas Bevacqua
// Copyright  2016 Brian Terlson
// Permission is hereby granted, free of charge, to any person obtaining a copy of
// this software and associated documentation files (the "Software"), to deal in
// the Software without restriction, including without limitation the rights to
// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
// the Software, and to permit persons to whom the Software is furnished to do so,
// subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
function fuzzysearch (searchString, haystack, caseInsensitive) {
  var tlen = haystack.length;
  var qlen = searchString.length;
  var chunks = 1;
  var finding = false;
  var prefix = true;
  
  if (qlen > tlen) {
    return false;
  }
  
  if (qlen === tlen) {
    if (searchString === haystack) {
      return { caseMatch: true, chunks: 1, prefix: true };
    } else if (searchString.toLowerCase() === haystack.toLowerCase()) {
      return { caseMatch: false, chunks: 1, prefix: true };
    } else {
      return false;
    }
  }
  
  outer: for (var i = 0, j = 0; i < qlen; i++) {
    var nch = searchString[i];
    while (j < tlen) {
      var targetChar = haystack[j++];
      if (targetChar === nch) {
        finding = true;
        continue outer;
      }
      if (finding) {
        chunks++;
        finding = false;
      }
    }
    
    if (caseInsensitive) { return false }
    
    return fuzzysearch(searchString.toLowerCase(), haystack.toLowerCase(), true);
  }
  
  return { caseMatch: !caseInsensitive, chunks: chunks, prefix: j <= qlen };
}

var Toolbox = {
  init: function () {
    this.$container = document.createElement('div');
    this.$container.classList.add('toolbox');
    this.$permalink = document.createElement('a');
    this.$permalink.textContent = 'Permalink';
    this.$pinLink = document.createElement('a');
    this.$pinLink.textContent = 'Pin';
    this.$pinLink.setAttribute('href', '#');
    this.$pinLink.addEventListener('click', function (e) {
      e.preventDefault();
      e.stopPropagation();
      menu.togglePinEntry(this.entry.id);
    }.bind(this));

    this.$refsLink = document.createElement('a');
    this.$refsLink.setAttribute('href', '#');
    this.$refsLink.addEventListener('click', function (e) {
      e.preventDefault();
      e.stopPropagation();
      referencePane.showReferencesFor(this.entry);
    }.bind(this));
    this.$container.appendChild(this.$permalink);
    this.$container.appendChild(this.$pinLink);
    this.$container.appendChild(this.$refsLink);
    document.body.appendChild(this.$container);
  },

  activate: function (el, entry, target) {
    if (el === this._activeEl) return;
    this.active = true;
    this.entry = entry;
    this.$container.classList.add('active');
    this.top = el.offsetTop - this.$container.offsetHeight - 10;
    this.left = el.offsetLeft;
    this.$container.setAttribute('style', 'left: ' + this.left + 'px; top: ' + this.top + 'px');
    this.updatePermalink();
    this.updateReferences();
    this._activeEl = el;
    if (this.top < document.body.scrollTop && el === target) {
      // don't scroll unless it's a small thing (< 200px)
      this.$container.scrollIntoView();
    }
  },

  updatePermalink: function () {
    this.$permalink.setAttribute('href', '#' + this.entry.id);
  },

  updateReferences: function () {
    this.$refsLink.textContent = 'References (' + this.entry.referencingIds.length + ')';
  },

  activateIfMouseOver: function (e) {
    var ref = this.findReferenceUnder(e.target);
    if (ref && (!this.active || e.pageY > this._activeEl.offsetTop)) {
      var entry = menu.search.biblio.byId[ref.id];
      this.activate(ref.element, entry, e.target);
    } else if (this.active && ((e.pageY < this.top) || e.pageY > (this._activeEl.offsetTop + this._activeEl.offsetHeight))) {
      this.deactivate();
    }
  },

  findReferenceUnder: function (el) {
    while (el) {
      var parent = el.parentNode;
      if (el.nodeName === 'H1' && parent.nodeName.match(/EMU-CLAUSE|EMU-ANNEX|EMU-INTRO/) && parent.id) {
        return { element: el, id: parent.id };
      } else if (el.nodeName.match(/EMU-(?!CLAUSE|XREF|ANNEX|INTRO)|DFN/) &&
                el.id && el.id[0] !== '_') {
        if (el.nodeName === 'EMU-FIGURE' || el.nodeName === 'EMU-TABLE' || el.nodeName === 'EMU-EXAMPLE') {
          // return the figcaption element
          return { element: el.children[0].children[0], id: el.id };
        } else if (el.nodeName === 'EMU-PRODUCTION') {
          // return the LHS non-terminal element
          return { element: el.children[0], id: el.id };
        } else {
          return { element: el, id: el.id };
        }
      }
      el = parent;
    }
  },

  deactivate: function () {
    this.$container.classList.remove('active');
    this._activeEl = null;
    this.activeElBounds = null;
    this.active = false;
  }
}

var referencePane = {
  init: function() {
    this.$container = document.createElement('div');
    this.$container.setAttribute('id', 'references-pane-container');

    var $spacer = document.createElement('div');
    $spacer.setAttribute('id', 'references-pane-spacer');

    this.$pane = document.createElement('div');
    this.$pane.setAttribute('id', 'references-pane');

    this.$container.appendChild($spacer);
    this.$container.appendChild(this.$pane);

    this.$header = document.createElement('div');
    this.$header.classList.add('menu-pane-header');
    this.$header.textContent = 'References to ';
    this.$headerRefId = document.createElement('a');
    this.$header.appendChild(this.$headerRefId);
    this.$closeButton = document.createElement('span');
    this.$closeButton.setAttribute('id', 'references-pane-close');
    this.$closeButton.addEventListener('click', function (e) {
      this.deactivate();
    }.bind(this));
    this.$header.appendChild(this.$closeButton);

    this.$pane.appendChild(this.$header);
    var tableContainer = document.createElement('div');
    tableContainer.setAttribute('id', 'references-pane-table-container');

    this.$table = document.createElement('table');
    this.$table.setAttribute('id', 'references-pane-table');

    this.$tableBody = this.$table.createTBody();

    tableContainer.appendChild(this.$table);
    this.$pane.appendChild(tableContainer);

    menu.$specContainer.appendChild(this.$container);
  },

  activate: function () {
    this.$container.classList.add('active');
  },

  deactivate: function () {
    this.$container.classList.remove('active');
  },

  showReferencesFor(entry) {
    this.activate();
    var newBody = document.createElement('tbody');
    var previousId;
    var previousCell;
    var dupCount = 0;
    this.$headerRefId.textContent = '#' + entry.id;
    this.$headerRefId.setAttribute('href', '#' + entry.id);
    entry.referencingIds.map(function (id) {
      var target = document.getElementById(id);
      var cid = findParentClauseId(target);
      var clause = menu.search.biblio.byId[cid];
      var dupCount = 0;
      return { id: id, clause: clause }
    }).sort(function (a, b) {
      return sortByClauseNumber(a.clause, b.clause);
    }).forEach(function (record, i) {
      if (previousId === record.clause.id) {
        previousCell.innerHTML += ' (<a href="#' + record.id + '">' + (dupCount + 2) + '</a>)';
        dupCount++;
      } else {
        var row = newBody.insertRow();
        var cell = row.insertCell();
        cell.innerHTML = record.clause.number;
        cell = row.insertCell();
        cell.innerHTML = '<a href="#' + record.id + '">' + record.clause.titleHTML + '</a>';
        previousCell = cell;
        previousId = record.clause.id;
        dupCount = 0;
      }
    }, this);
    this.$table.removeChild(this.$tableBody);
    this.$tableBody = newBody;
    this.$table.appendChild(this.$tableBody);
  }
}
function findParentClauseId(node) {
  while (node && node.nodeName !== 'EMU-CLAUSE' && node.nodeName !== 'EMU-INTRO' && node.nodeName !== 'EMU-ANNEX') {
    node = node.parentNode;
  }
  if (!node) return null;
  return node.getAttribute('id');
}

function sortByClauseNumber(c1, c2) {
  var c1c = c1.number.split('.');
  var c2c = c2.number.split('.');

  for (var i = 0; i < c1c.length; i++) {
    if (i >= c2c.length) {
      return 1;
    }
    
    var c1 = c1c[i];
    var c2 = c2c[i];
    var c1cn = Number(c1);
    var c2cn = Number(c2);

    if (Number.isNaN(c1cn) && Number.isNaN(c2cn)) {
      if (c1 > c2) {
        return 1;
      } else if (c1 < c2) {
        return -1;
      }
    } else if (!Number.isNaN(c1cn) && Number.isNaN(c2cn)) {
      return -1;
    } else if (Number.isNaN(c1cn) && !Number.isNaN(c2cn)) {
      return 1;
    } else if(c1cn > c2cn) {
      return 1;
    } else if (c1cn < c2cn) {
      return -1;
    }
  }

  if (c1c.length === c2c.length) {
    return 0;
  }
  return -1;
}

document.addEventListener('DOMContentLoaded', function () {
  Toolbox.init();
  referencePane.init();
})
var CLAUSE_NODES = ['EMU-CLAUSE', 'EMU-INTRO', 'EMU-ANNEX'];
function findLocalReferences ($elem) {
  var name = $elem.innerHTML;
  var references = [];

  var parentClause = $elem.parentNode;
  while (parentClause && CLAUSE_NODES.indexOf(parentClause.nodeName) === -1) {
    parentClause = parentClause.parentNode;
  }

  if(!parentClause) return;

  var vars = parentClause.querySelectorAll('var');

  for (var i = 0; i < vars.length; i++) {
    var $var = vars[i];

    if ($var.innerHTML === name) {
      references.push($var);
    }
  }

  return references;
}

function toggleFindLocalReferences($elem) {
  var references = findLocalReferences($elem);
  if ($elem.classList.contains('referenced')) {
    references.forEach(function ($reference) {
      $reference.classList.remove('referenced');
    });
  } else {
    references.forEach(function ($reference) {
      $reference.classList.add('referenced');
    });
  }
}

function installFindLocalReferences () {
  document.addEventListener('click', function (e) {
    if (e.target.nodeName === 'VAR') {
      toggleFindLocalReferences(e.target);
    }
  });
}

document.addEventListener('DOMContentLoaded', installFindLocalReferences);
</script><style>body {
  display: flex;
  font-size: 18px;
  line-height: 1.5;
  font-family: Cambria, Palatino Linotype, Palatino, Liberation Serif, serif;
  padding: 0;
  margin: 0;
  color: #111;
}

#spec-container {
  padding: 0 20px;
  flex-grow: 1;
  flex-basis: 66%;
  box-sizing: border-box;
  overflow: hidden;
}

body.oldtoc {
  margin: 0 auto;
}

a {
    text-decoration: none;
    color: #206ca7;
}

a:visited {
  color: #206ca7;
}

a:hover {
    text-decoration: underline;
    color: #239dee;
}


code {
    font-weight: bold;
    font-family: Consolas, Monaco, monospace;
    white-space: pre;
}

pre code {
  font-weight: inherit;
}

pre code.hljs {
  background-color: #fff;
  margin: 0;
  padding: 0;
}

ol.toc {
    list-style: none;
    padding-left: 0;
}

ol.toc ol.toc {
    padding-left: 2ex;
    list-style: none;
}

var {
  color: #2aa198;
  transition: background-color 0.25s ease;
  cursor: pointer;
}

var.referenced {
  background-color: #ffff33;
}

emu-const {
  font-family: sans-serif;
}

emu-val {
  font-weight: bold;
}
emu-alg ol, emu-alg ol ol ol ol {
    list-style-type: decimal;
}

emu-alg ol ol, emu-alg ol ol ol ol ol {
    list-style-type: lower-alpha;
}

emu-alg ol ol ol, ol ol ol ol ol ol {
    list-style-type: lower-roman;
}

emu-eqn {
  display: block;
  margin-left: 4em;
}

emu-eqn.inline {
  display: inline;
  margin: 0;
}

emu-eqn div:first-child {
  margin-left: -2em;
}

emu-note {
    margin: 1em 0;
    color: #666;
    border-left: 5px solid #ccc;
    display: flex;
    flex-direction: row;
}

emu-note > span.note {
    flex-basis: 100px;
    min-width: 100px;
    flex-grow: 0;
    flex-shrink: 1;
    text-transform: uppercase;
    padding-left: 5px;
}

emu-note[type=editor] {
  border-left-color: #faa;
}

emu-note > div.note-contents {
  flex-grow: 1;
  flex-shrink: 1;
}

emu-note > div.note-contents > p:first-of-type {
  margin-top: 0;
}

emu-note > div.note-contents > p:last-of-type {
  margin-bottom: 0;
}

emu-figure {
  display: block;
}

emu-example {
  display: block;
  margin: 1em 3em;
}

emu-example figure figcaption {
  margin-top: 0.5em;
  text-align: left;
}

emu-figure figure,
emu-example figure,
emu-table figure {
  display: flex;
  flex-direction: column;
  align-items: center;
}

emu-production {
    display: block;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 5ex;
}

emu-grammar.inline, emu-production.inline,
emu-grammar.inline emu-production emu-rhs, emu-production.inline emu-rhs,
emu-grammar[collapsed] emu-production emu-rhs, emu-production[collapsed] emu-rhs {
    display: inline;
    padding-left: 1ex;
    margin-left: 0;
}

emu-grammar[collapsed] emu-production, emu-production[collapsed] {
    margin: 0;
}

emu-constraints {
    font-size: .75em;
    margin-right: 1ex;
}

emu-gann {
    margin-right: 1ex;
}

emu-gann emu-t:last-child,
emu-gann emu-nt:last-child {
    margin-right: 0;
}

emu-geq {
    margin-left: 1ex;
    font-weight: bold;
}

emu-oneof {
    font-weight: bold;
    margin-left: 1ex;
}

emu-nt {
    display: inline-block;
    font-style: italic;
    white-space: nowrap;
    text-indent: 0;
}

emu-nt a, emu-nt a:visited {
  color: #333;
}

emu-rhs emu-nt {
    margin-right: 1ex;
}

emu-t {
    display: inline-block;
    font-family: monospace;
    font-weight: bold;
    white-space: nowrap;
    text-indent: 0;
}

emu-production emu-t {
    margin-right: 1ex;
}

emu-rhs {
    display: block;
    padding-left: 75px;
    text-indent: -25px;
}

emu-mods {
    font-size: .85em;
    vertical-align: sub;
    font-style: normal;
    font-weight: normal;
}

emu-production[collapsed] emu-mods {
  display: none;
}

emu-params, emu-opt {
  margin-right: 1ex;
  font-family: monospace;
}

emu-params, emu-constraints {
  color: #2aa198;
}

emu-opt {
  color: #b58900;
}

emu-gprose {
    font-size: 0.9em;
    font-family: Helvetica, Arial, sans-serif;
}

h1.shortname {
  color: #f60;
  font-size: 1.5em;
  margin: 0;
}

h1.version {
  color: #f60;
  font-size: 1.5em;
  margin: 0;
}

h1.title {
  margin-top: 0;
  color: #f60;
}

h1.first {
  margin-top: 0;
}

h1, h2, h3, h4, h5, h6 {
    position: relative;
}

h1 .secnum {
  text-decoration: none;
  margin-right: 10px;
}

h1 span.title {
  order: 2;
}


h1 { font-size: 2.67em; margin-top: 2em; margin-bottom: 0; line-height: 1em;}
h2 { font-size: 2em; }
h3 { font-size: 1.56em; }
h4 { font-size: 1.25em; }
h5 { font-size: 1.11em; }
h6 { font-size: 1em; }

h1:hover span.utils {
  display: block;
}

span.utils {
  font-size: 18px;
  line-height: 18px;
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  font-weight: normal;
}

span.utils:before {
    content: "";
    display: inline-block;
    padding: 0 5px;
}

span.utils > * {
  display: inline-block;
  margin-right: 20px;
}

h1 span.utils span.anchor a,
h2 span.utils span.anchor a,
h3 span.utils span.anchor a,
h4 span.utils span.anchor a,
h5 span.utils span.anchor a,
h6 span.utils span.anchor a {
  text-decoration: none;
  font-variant: small-caps;
}

h1 span.utils span.anchor a:hover,
h2 span.utils span.anchor a:hover,
h3 span.utils span.anchor a:hover,
h4 span.utils span.anchor a:hover,
h5 span.utils span.anchor a:hover,
h6 span.utils span.anchor a:hover {
  color: #333;
}

emu-intro h1, emu-clause h1, emu-annex h1 { font-size: 2em; }
emu-intro h2, emu-clause h2, emu-annex h2 { font-size: 1.56em; }
emu-intro h3, emu-clause h3, emu-annex h3 { font-size: 1.25em; }
emu-intro h4, emu-clause h4, emu-annex h4 { font-size: 1.11em; }
emu-intro h5, emu-clause h5, emu-annex h5 { font-size: 1em; }
emu-intro h6, emu-clause h6, emu-annex h6 { font-size: 0.9em; }
emu-intro emu-intro h1, emu-clause emu-clause h1, emu-annex emu-annex h1 { font-size: 1.56em; }
emu-intro emu-intro h2, emu-clause emu-clause h2, emu-annex emu-annex h2 { font-size: 1.25em; }
emu-intro emu-intro h3, emu-clause emu-clause h3, emu-annex emu-annex h3 { font-size: 1.11em; }
emu-intro emu-intro h4, emu-clause emu-clause h4, emu-annex emu-annex h4 { font-size: 1em; }
emu-intro emu-intro h5, emu-clause emu-clause h5, emu-annex emu-annex h5 { font-size: 0.9em; }
emu-intro emu-intro emu-intro h1, emu-clause emu-clause emu-clause h1, emu-annex emu-annex emu-annex h1 { font-size: 1.25em; }
emu-intro emu-intro emu-intro h2, emu-clause emu-clause emu-clause h2, emu-annex emu-annex emu-annex h2 { font-size: 1.11em; }
emu-intro emu-intro emu-intro h3, emu-clause emu-clause emu-clause h3, emu-annex emu-annex emu-annex h3 { font-size: 1em; }
emu-intro emu-intro emu-intro h4, emu-clause emu-clause emu-clause h4, emu-annex emu-annex emu-annex h4 { font-size: 0.9em; }
emu-intro emu-intro emu-intro emu-intro h1, emu-clause emu-clause emu-clause emu-clause h1, emu-annex emu-annex emu-annex emu-annex h1 { font-size: 1.11em; }
emu-intro emu-intro emu-intro emu-intro h2, emu-clause emu-clause emu-clause emu-clause h2, emu-annex emu-annex emu-annex emu-annex h2 { font-size: 1em; }
emu-intro emu-intro emu-intro emu-intro h3, emu-clause emu-clause emu-clause emu-clause h3, emu-annex emu-annex emu-annex emu-annex h3 { font-size: 0.9em; }
emu-intro emu-intro emu-intro emu-intro emu-intro h1, emu-clause emu-clause emu-clause emu-clause emu-clause h1, emu-annex emu-annex emu-annex emu-annex emu-annex h1 { font-size: 1em; }
emu-intro emu-intro emu-intro emu-intro emu-intro h2, emu-clause emu-clause emu-clause emu-clause emu-clause h2, emu-annex emu-annex emu-annex emu-annex emu-annex h2 { font-size: 0.9em; }
emu-intro emu-intro emu-intro emu-intro emu-intro emu-intro h1, emu-clause emu-clause emu-clause emu-clause emu-clause emu-clause h1, emu-annex emu-annex emu-annex emu-annex emu-annex emu-annex h1 { font-size: 0.9em }

emu-clause, emu-intro, emu-annex {
    display: block;
}

/* Figures and tables */
figure { display: block; margin: 1em 0 3em 0; }
figure object { display: block; margin: 0 auto; }
figure table.real-table { margin: 0 auto; }
figure figcaption {
    display: block;
    color: #555555;
    font-weight: bold;
    text-align: center;
}

emu-table table {
  margin: 0 auto;
}

emu-table table, table.real-table {
    border-collapse: collapse;
}

emu-table td, emu-table th, table.real-table td, table.real-table th {
    border: 1px solid black;
    padding: 0.4em;
    vertical-align: baseline;
}
emu-table th, emu-table thead td, table.real-table th {
    background-color: #eeeeee;
}

/* Note: the left content edges of table.lightweight-table >tbody >tr >td
   and div.display line up. */
table.lightweight-table {
    border-collapse: collapse;
    margin: 0 0 0 1.5em;
}
table.lightweight-table td, table.lightweight-table th {
    border: none;
    padding: 0 0.5em;
    vertical-align: baseline;
}

/* diff styles */
ins {
    background-color: #e0f8e0;
    text-decoration: none;
    border-bottom: 1px solid #396;
}

del {
    background-color: #fee;
}

ins.block, del.block,
emu-production > ins, emu-production > del,
emu-grammar > ins, emu-grammar > del {
  display: block;
}
emu-rhs > ins, emu-rhs > del { 
  display: inline;
}

tr.ins > td > ins {
  border-bottom: none;
}

tr.ins > td {
  background-color: #e0f8e0;
}

tr.del > td {
  background-color: #fee;
}

/* Menu Styles */
#menu-toggle {
  font-size: 2em;

  position: fixed;
  top: 0;
  left: 0;
  width: 1.5em;
  height: 1.5em;
  z-index: 3;
  visibility: hidden;
  color: #1567a2;
  background-color: #fff;

  line-height: 1.5em;
  text-align: center;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;;

  cursor: pointer;
}

#menu {
  display: flex;
  flex-direction: column;
  width: 33%; height: 100vh;
  max-width: 500px;
  box-sizing: border-box;
  background-color: #ddd;
  overflow: hidden;
  transition: opacity 0.1s linear;
  padding: 0 5px;
  position: fixed;
  left: 0; top: 0;
  border-right: 2px solid #bbb;

  z-index: 2;
}

#menu-spacer {
  flex-basis: 33%;
  max-width: 500px;
  flex-grow: 0;
  flex-shrink: 0;
}

#menu a {
  color: #1567a2;
}

#menu.active {
  display: flex;
  opacity: 1;
  z-index: 2;
}

#menu-pins {
  flex-grow: 1;
  display: none;
}

#menu-pins.active {
  display: block;
}

#menu-pins-list {
  margin: 0;
  padding: 0;
  counter-reset: pins-counter;
}

#menu-pins-list > li:before {
  content: counter(pins-counter);
  counter-increment: pins-counter;
  display: inline-block;
  width: 25px;
  text-align: center;
  border: 1px solid #bbb;
  padding: 2px;
  margin: 4px;
  box-sizing: border-box;
  line-height: 1em;
  background-color: #ccc;
  border-radius: 4px;
}
#menu-toc > ol {
  padding: 0;
  flex-grow: 1;
}

#menu-toc > ol li {
  padding: 0;
}

#menu-toc > ol , #menu-toc > ol ol {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

#menu-toc > ol ol {
  padding-left: 0.75em;
}

#menu-toc li {
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
}

#menu-toc .item-toggle {
  display: inline-block;
  transform: rotate(-45deg) translate(-5px, -5px);
  transition: transform 0.1s ease;
  text-align: center;
  width: 20px;

  color: #aab;

  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;;

  cursor: pointer;
}

#menu-toc .item-toggle-none {
  display: inline-block;
  width: 20px;
}

#menu-toc li.active > .item-toggle {
  transform: rotate(45deg) translate(-5px, -5px);
}

#menu-toc li > ol {
  display: none;
}

#menu-toc li.active > ol {
  display: block;
}

#menu-toc li.revealed > a {
  background-color: #bbb;
  font-weight: bold;
  /*
  background-color: #222;
  color: #c6d8e4;
  */
}

#menu-toc li.revealed-leaf> a {
  color: #206ca7;
  /*
  background-color: #222;
  color: #c6d8e4;
  */
}

#menu-toc li.revealed > .item-toggle {
  transform: rotate(45deg) translate(-5px, -5px);
}

#menu-toc li.revealed > ol {
  display: block;
}

#menu-toc li > a {
  padding: 2px 5px;
}

#menu > * {
  margin-bottom: 5px;
}

.menu-pane-header {
  padding: 0 5px;
  text-transform: uppercase;
  background-color: #aaa;
  color: #335;
  font-weight: bold;
  letter-spacing: 2px;
  flex-grow: 0;
  flex-shrink: 0;
  font-size: 0.8em;
}

#menu-toc {
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
  flex-grow: 1;
}

#menu-toc ol.toc {
  overflow-x: hidden;
  overflow-y: auto;
}

#menu-search {
  position: relative;
  flex-grow: 0;
  flex-shrink: 0;
  width: 100%;
  
  display: flex;
  flex-direction: column;
  
  max-height: 300px;
}

#menu-trace-list {
  display: none;
}

#menu-search-box {
  box-sizing: border-box;
  display: block;
  width: 100%;
  margin: 5px 0 0 0;
  font-size: 1em;
  padding: 2px;
  background-color: #bbb;
  border: 1px solid #999;
}

#menu-search-results {
  overflow-x: hidden;
  overflow-y: auto;
}

li.menu-search-result-clause:before {
    content: 'clause';
    width: 40px;
    display: inline-block;
    text-align: right;
    padding-right: 1ex;
    color: #666;
    font-size: 75%;
}
li.menu-search-result-op:before {
    content: 'op';
    width: 40px;
    display: inline-block;
    text-align: right;
    padding-right: 1ex;
    color: #666;
    font-size: 75%;
}

li.menu-search-result-prod:before {
    content: 'prod';
    width: 40px;
    display: inline-block;
    text-align: right;
    padding-right: 1ex;
    color: #666;
    font-size: 75%
}


li.menu-search-result-term:before {
    content: 'term';
    width: 40px;
    display: inline-block;
    text-align: right;
    padding-right: 1ex;
    color: #666;
    font-size: 75%
}

#menu-search-results ul {
  padding: 0 5px;
  margin: 0;
}

#menu-search-results li {
  white-space: nowrap;
  text-overflow: ellipsis;
}


#menu-trace-list {
  counter-reset: item;
  margin: 0 0 0 20px;
  padding: 0;
}
#menu-trace-list li {
  display: block;
  white-space: nowrap;
}

#menu-trace-list li .secnum:after {
  content: " ";
}
#menu-trace-list li:before {
    content: counter(item) " ";
    background-color: #222;
    counter-increment: item;
    color: #999;
    width: 20px;
    height: 20px;
    line-height: 20px;
    display: inline-block;
    text-align: center;
    margin: 2px 4px 2px 0;
}

@media (max-width: 1000px) {
  body {
    margin: 0;
    display: block;
  }

  #menu {
    display: none;
    padding-top: 3em;
    width: 450px;
  }

  #menu.active {
    position: fixed;
    height: 100%;
    left: 0;
    top: 0;
    right: 300px;
  }

  #menu-toggle {
    visibility: visible;
  }

  #spec-container {
    padding: 0 5px;
  }

  #references-pane-spacer {
    display: none;
  }
}

@media only screen and (max-width: 800px) {
  #menu {
    width: 100%;
  }

  h1 .secnum:empty {
    margin: 0; padding: 0;
  }
}


/* Toolbox */
.toolbox {
	position: absolute;
	background: #ddd;
	border: 1px solid #aaa;
  display: none;
  color: #eee;
  padding: 5px;
  border-radius: 3px;
}

.toolbox.active {
  display: inline-block;
}

.toolbox a {
  text-decoration: none;
  padding: 0 5px;
}

.toolbox a:hover {
  text-decoration: underline;
}

.toolbox:after, .toolbox:before {
	top: 100%;
	left: 15px;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.toolbox:after {
	border-color: rgba(0, 0, 0, 0);
	border-top-color: #ddd;
	border-width: 10px;
	margin-left: -10px;
}
.toolbox:before {
	border-color: rgba(204, 204, 204, 0);
	border-top-color: #aaa;
	border-width: 12px;
	margin-left: -12px;
}

#references-pane-container {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 250px;
  display: none;
  background-color: #ddd;
  z-index: 1;
}

#references-pane-table-container {
  overflow-x: hidden;
  overflow-y: auto;
}

#references-pane-spacer {
  flex-basis: 33%;
  max-width: 500px;
}

#references-pane {
  flex-grow: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

#references-pane-container.active {
  display: flex;
}

#references-pane-close:after {
  content: '';
  float: right;
  cursor: pointer;
}

#references-pane table tr td:first-child {
  text-align: right;
  padding-right: 5px;
}

@media print {
  #menu-toggle {
    display: none; 
  }
}
</style></head><body><div id="menu-toggle"></div><div id="menu-spacer"></div><div id="menu"><div id="menu-search"><input type="text" id="menu-search-box" placeholder="Search..."><div id="menu-search-results" class="inactive"></div></div><div id="menu-pins"><div class="menu-pane-header">Pins</div><ul id="menu-pins-list"></ul></div><div class="menu-pane-header">Table of Contents</div><div id="menu-toc"><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intro" title="Introduction">Introduction</a></li><li><span class="item-toggle"></span><a href="#sec-numeric-types" title="Numeric Types"><span class="secnum">1</span> Numeric Types</a><ol class="toc"><li><span class="item-toggle"></span><a href="#sec-ecmascript-language-types-bigint-type" title="The BigInt Type"><span class="secnum">1.1</span> The BigInt Type</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-unaryMinus" title="BigInt::unaryMinus (x)"><span class="secnum">1.1.1</span> BigInt::unaryMinus (<var>x</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-bitwiseNOT" title="BigInt::bitwiseNOT (x)"><span class="secnum">1.1.2</span> BigInt::bitwiseNOT (<var>x</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-exponentiate" title="BigInt::exponentiate (base, exponent)"><span class="secnum">1.1.3</span> BigInt::exponentiate (<var>base</var>, <var>exponent</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-multiply" title="BigInt::multiply (x, y)"><span class="secnum">1.1.4</span> BigInt::multiply (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-divide" title="BigInt::divide (x, y)"><span class="secnum">1.1.5</span> BigInt::divide (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-remainder" title="BigInt::remainder (n, d)"><span class="secnum">1.1.6</span> BigInt::remainder (<var>n</var>, <var>d</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-add" title="BigInt::add (x, y)"><span class="secnum">1.1.7</span> BigInt::add (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-subtract" title="BigInt::subtract (x, y)"><span class="secnum">1.1.8</span> BigInt::subtract (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-leftShift" title="BigInt::leftShift (x, y)"><span class="secnum">1.1.9</span> BigInt::leftShift (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-signedRightShift" title="BigInt::signedRightShift (x, y)"><span class="secnum">1.1.10</span> BigInt::signedRightShift (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-unsignedRightShift" title="BigInt::unsignedRightShift (x, y)"><span class="secnum">1.1.11</span> BigInt::unsignedRightShift (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-lessThan" title="BigInt::lessThan (x, y)"><span class="secnum">1.1.12</span> BigInt::lessThan (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-equal" title="BigInt::equal (x, y)"><span class="secnum">1.1.13</span> BigInt::equal (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-sameValue" title="BigInt::sameValue (x, y)"><span class="secnum">1.1.14</span> BigInt::sameValue (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-sameValueZero" title="BigInt::sameValueZero (x, y)"><span class="secnum">1.1.15</span> BigInt::sameValueZero (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-bitwise-op" title="BitwiseOp(op, x, y)"><span class="secnum">1.1.16</span> BitwiseOp(<var>op</var>, <var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-bitwiseAND" title="BigInt::bitwiseAND (x, y)"><span class="secnum">1.1.17</span> BigInt::bitwiseAND (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-bitwiseXOR" title="BigInt::bitwiseXOR (x, y)"><span class="secnum">1.1.18</span> BigInt::bitwiseXOR (<var>x</var>, <var>y</var>)</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-types-bigint-bitwiseOR" title="BigInt::bitwiseOR (x, y)"><span class="secnum">1.1.19</span> BigInt::bitwiseOR (<var>x</var>, <var>y</var>)</a></li></ol></li></ol></li><li><span class="item-toggle"></span><a href="#sec-grammar-change" title="Modifications to the Number grammar"><span class="secnum">2</span> Modifications to the Number grammar</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-numeric-literal-static-semantics-bigint-value" title="Static Semantics: BigInt Value"><span class="secnum">2.1</span> SS: BigInt Value</a></li><li><span class="item-toggle-none"></span><a href="#sec-numeric-literal-static-semantics-number-value" title="Static Semantics: Number Value"><span class="secnum">2.2</span> SS: Number Value</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-abstract-operations" title="Abstract Operations"><span class="secnum">3</span> Abstract Operations</a><ol class="toc"><li><span class="item-toggle"></span><a href="#sec-type-conversion" title="Type Conversion"><span class="secnum">3.1</span> Type Conversion</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-toprimitive" title="ToPrimitive ( input [ , PreferredType ] )"><span class="secnum">3.1.1</span> ToPrimitive ( <var>input</var> [ , <var>PreferredType</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-toboolean" title="ToBoolean ( argument )"><span class="secnum">3.1.2</span> ToBoolean ( <var>argument</var> )</a></li><li><span class="item-toggle"></span><a href="#sec-tonumber" title="ToNumber ( argument )"><span class="secnum">3.1.3</span> ToNumber ( <var>argument</var> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-tonumber-applied-to-the-string-type" title="ToNumber Applied to the String Type"><span class="secnum">3.1.3.1</span> ToNumber Applied to the String Type</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-tostring" title="ToString ( argument )"><span class="secnum">3.1.4</span> ToString ( <var>argument</var> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-tostring-applied-to-the-bigint-type" title="ToString Applied to the BigInt Type"><span class="secnum">3.1.4.1</span> ToString Applied to the BigInt Type</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-toobject" title="ToObject ( argument )"><span class="secnum">3.1.5</span> ToObject ( <var>argument</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-tonumeric" title="ToNumeric ( value )"><span class="secnum">3.1.6</span> ToNumeric ( <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-requireobjectcoercible" title="RequireObjectCoercible ( argument )"><span class="secnum">3.1.7</span> RequireObjectCoercible ( <var>argument</var> )</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-testing-and-comparison-operations" title="Testing and Comparison Operations"><span class="secnum">3.2</span> Testing and Comparison Operations</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-samevalue" title="SameValue ( x, y )"><span class="secnum">3.2.1</span> SameValue ( <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-samevaluezero" title="SameValueZero ( x, y )"><span class="secnum">3.2.2</span> SameValueZero ( <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-samevaluenonnumber" title="SameValueNonNumberNumeric ( x, y )"><span class="secnum">3.2.3</span> SameValueNon<del>Number</del><ins>Numeric</ins> ( <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-abstract-relational-comparison" title="Abstract Relational Comparison"><span class="secnum">3.2.4</span> Abstract Relational Comparison</a></li><li><span class="item-toggle-none"></span><a href="#sec-abstract-equality-comparison" title="Abstract Equality Comparison"><span class="secnum">3.2.5</span> Abstract Equality Comparison</a></li><li><span class="item-toggle-none"></span><a href="#sec-strict-equality-comparison" title="Strict Equality Comparison"><span class="secnum">3.2.6</span> Strict Equality Comparison</a></li></ol></li></ol></li><li><span class="item-toggle"></span><a href="#sec-ecmascript-language-expressions" title="ECMAScript Language: Expressions"><span class="secnum">4</span> ECMAScript Language: Expressions</a><ol class="toc"><li><span class="item-toggle"></span><a href="#sec-update-expressions" title="Update Expressions"><span class="secnum">4.1</span> Update Expressions</a><ol class="toc"><li><span class="item-toggle"></span><a href="#sec-postfix-increment-operator" title="Postfix Increment Operator"><span class="secnum">4.1.1</span> Postfix Increment Operator</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-postfix-increment-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.1.1.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-postfix-decrement-operator" title="Postfix Decrement Operator"><span class="secnum">4.1.2</span> Postfix Decrement Operator</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-postfix-decrement-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.1.2.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-prefix-increment-operator" title="Prefix Increment Operator"><span class="secnum">4.1.3</span> Prefix Increment Operator</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-prefix-increment-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.1.3.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-prefix-decrement-operator" title="Prefix Decrement Operator"><span class="secnum">4.1.4</span> Prefix Decrement Operator</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-prefix-decrement-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.1.4.1</span> RS: Evaluation</a></li></ol></li></ol></li><li><span class="item-toggle"></span><a href="#sec-unary-operators" title="Unary Operators"><span class="secnum">4.2</span> Unary Operators</a><ol class="toc"><li><span class="item-toggle"></span><a href="#sec-typeof-operator" title="The typeof Operator"><span class="secnum">4.2.1</span> The <code>typeof</code> Operator</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-typeof-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.2.1.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-unary-plus-operator" title="Unary + Operator"><span class="secnum">4.2.2</span> Unary <code>+</code> Operator</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-unary-plus-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.2.2.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-unary-minus-operator" title="Unary - Operator"><span class="secnum">4.2.3</span> Unary <code>-</code> Operator</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-unary-minus-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.2.3.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-bitwise-not-operator" title="Bitwise NOT Operator ( ~ )"><span class="secnum">4.2.4</span> Bitwise NOT Operator ( <code>~</code> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-bitwise-not-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.2.4.1</span> RS: Evaluation</a></li></ol></li></ol></li><li><span class="item-toggle"></span><a href="#sec-exp-operator" title="Exponentiation Operator"><span class="secnum">4.3</span> Exponentiation Operator</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-exp-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.3.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-multiplicative-operators" title="Multiplicative Operators"><span class="secnum">4.4</span> Multiplicative Operators</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-multiplicative-operators-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.4.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-additive-operators" title="Additive Operators"><span class="secnum">4.5</span> Additive Operators</a><ol class="toc"><li><span class="item-toggle"></span><a href="#sec-addition-operator-plus" title="The Addition Operator ( + )"><span class="secnum">4.5.1</span> The Addition Operator ( <code>+</code> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-addition-operator-plus-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.5.1.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-subtraction-operator-minus" title="The Subtraction Operator ( - )"><span class="secnum">4.5.2</span> The Subtraction Operator ( <code>-</code> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-subtraction-operator-minus-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.5.2.1</span> RS: Evaluation</a></li></ol></li></ol></li><li><span class="item-toggle"></span><a href="#sec-bitwise-shift-operators" title="Bitwise Shift Operators"><span class="secnum">4.6</span> Bitwise Shift Operators</a><ol class="toc"><li><span class="item-toggle"></span><a href="#sec-left-shift-operator" title="The Left Shift Operator ( << )"><span class="secnum">4.6.1</span> The Left Shift Operator ( <code>&lt;&lt;</code> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-left-shift-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.6.1.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-signed-right-shift-operator" title="The Signed Right Shift Operator ( >> )"><span class="secnum">4.6.2</span> The Signed Right Shift Operator ( <code>&gt;&gt;</code> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-signed-right-shift-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.6.2.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-unsigned-right-shift-operator" title="The Unsigned Right Shift Operator ( >>> )"><span class="secnum">4.6.3</span> The Unsigned Right Shift Operator ( <code>&gt;&gt;&gt;</code> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-unsigned-right-shift-operator-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.6.3.1</span> RS: Evaluation</a></li></ol></li></ol></li><li><span class="item-toggle"></span><a href="#sec-binary-bitwise-operators" title="Binary Bitwise Operators"><span class="secnum">4.7</span> Binary Bitwise Operators</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-binary-bitwise-operators-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">4.7.1</span> RS: Evaluation</a></li></ol></li></ol></li><li><span class="item-toggle"></span><a href="#sec-bigint-objects" title="BigInt Objects"><span class="secnum">5</span> BigInt Objects</a><ol class="toc"><li><span class="item-toggle"></span><a href="#sec-bigint-constructor" title="The BigInt Constructor"><span class="secnum">5.1</span> The BigInt Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-is-integer" title="IsInteger ( number )"><span class="secnum">5.1.1</span> IsInteger ( <var>number</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-number-to-bigint" title="NumberToBigInt ( number )"><span class="secnum">5.1.2</span> NumberToBigInt ( <var>number</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-bigint-constructor-number-value" title="BigInt ( value )"><span class="secnum">5.1.3</span> BigInt ( <var>value</var> )</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-properties-of-the-bigint-constructor" title="Properties of the BigInt Constructor"><span class="secnum">5.2</span> Properties of the BigInt Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-bigint.asuintn" title="BigInt.asUintN ( bits, bigint )"><span class="secnum">5.2.1</span> BigInt.asUintN ( <var>bits</var>, <var>bigint</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-bigint.asintn" title="BigInt.asIntN ( bits, bigint )"><span class="secnum">5.2.2</span> BigInt.asIntN ( <var>bits</var>, <var>bigint</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-bigint.prototype" title="BigInt.prototype"><span class="secnum">5.2.3</span> BigInt.prototype</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-properties-of-the-bigint-prototype-object" title="Properties of the BigInt Prototype Object"><span class="secnum">5.3</span> Properties of the BigInt Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-bigint.prototype.constructor" title="BigInt.prototype.constructor"><span class="secnum">5.3.1</span> BigInt.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-bigint.prototype.tolocalestring" title="BigInt.prototype.toLocaleString ( [ reserved1 [ , reserved2 ] ] )"><span class="secnum">5.3.2</span> BigInt.prototype.toLocaleString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-bigint.prototype.tostring" title="BigInt.prototype.toString ( [ radix ] )"><span class="secnum">5.3.3</span> BigInt.prototype.toString ( [ <var>radix</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-bigint.prototype.valueof" title="BigInt.prototype.valueOf ( )"><span class="secnum">5.3.4</span> BigInt.prototype.valueOf ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-bigint-@@tostringtag" title="BigInt.prototype [ @@toStringTag ]"><span class="secnum">5.3.5</span> BigInt.prototype [ @@toStringTag ]</a></li></ol></li></ol></li><li><span class="item-toggle"></span><a href="#sec-modifications" title="Modified algorithms"><span class="secnum">6</span> Modified algorithms</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-serializejsonproperty" title="Runtime Semantics: SerializeJSONProperty ( key, holder )"><span class="secnum">6.1</span> RS: SerializeJSONProperty ( <var>key</var>, <var>holder</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-number-constructor-number-value" title="Number ( value )"><span class="secnum">6.2</span> Number ( <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-math.pow" title="Math.pow ( base, exponent )"><span class="secnum">6.3</span> Math.pow ( <var>base</var>, <var>exponent</var> )</a></li></ol></li><li><span class="item-toggle"></span><a href="#sec-typedarrays-and-dataview" title="TypedArrays and DataViews"><span class="secnum">7</span> TypedArrays and DataViews</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-typedarray-objects" title="TypedArray Objects"><span class="secnum">7.1</span> TypedArray Objects</a></li><li><span class="item-toggle-none"></span><a href="#sec-string-to-bigint" title="StringToBigInt ( argument )"><span class="secnum">7.2</span> StringToBigInt ( <var>argument</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-to-bigint" title="ToBigInt ( argument )"><span class="secnum">7.3</span> ToBigInt ( <var>argument</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-to-big-int64" title="ToBigInt64 ( argument )"><span class="secnum">7.4</span> ToBigInt64 ( <var>argument</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-to-big-uint64" title="ToBigUint64 ( argument )"><span class="secnum">7.5</span> ToBigUint64 ( <var>argument</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-rawbytestonumeric" title="RawBytesToNumberNumeric( type, rawBytes, isLittleEndian )"><span class="secnum">7.6</span> RawBytesTo<del>Number</del><ins>Numeric</ins>( <var>type</var>, <var>rawBytes</var>, <var>isLittleEndian</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-numerictorawbytes" title="NumberNumericToRawBytes( type, value, isLittleEndian )"><span class="secnum">7.7</span> <del>Number</del><ins>Numeric</ins>ToRawBytes( <var>type</var>, <var>value</var>, <var>isLittleEndian</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-integerindexedelementset" title="IntegerIndexedElementSet ( O, index, value )"><span class="secnum">7.8</span> IntegerIndexedElementSet ( <var>O</var>, <var>index</var>, <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-setvalueinbuffer" title="SetValueInBuffer ( arrayBuffer, byteIndex, type, value, isTypedArray, order [ , isLittleEndian ] )"><span class="secnum">7.9</span> SetValueInBuffer ( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>value</var>, <var>isTypedArray</var>, <var>order</var> [ , <var>isLittleEndian</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getvaluefrombuffer" title="GetValueFromBuffer ( arrayBuffer, byteIndex, type, isTypedArray, order [ , isLittleEndian ] )"><span class="secnum">7.10</span> GetValueFromBuffer ( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>isTypedArray</var>, <var>order</var> [ , <var>isLittleEndian</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getmodifysetvalueinbuffer" title="GetModifySetValueInBuffer( arrayBuffer, byteIndex, type, value, op [ , isLittleEndian ] )"><span class="secnum">7.11</span> GetModifySetValueInBuffer( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>value</var>, <var>op</var> [ , <var>isLittleEndian</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-validatesharedintegertypedarray" title="ValidateSharedIntegerTypedArray(typedArray [ , waitable ] )"><span class="secnum">7.12</span> ValidateSharedIntegerTypedArray(<var>typedArray</var> [ , <var>waitable</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-atomicreadmodifywrite" title="AtomicReadModifyWrite( typedArray, index, value, op )"><span class="secnum">7.13</span> AtomicReadModifyWrite( <var>typedArray</var>, <var>index</var>, <var>value</var>, <var>op</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-atomics.compareexchange" title="Atomics.compareExchange ( typedArray, index, expectedValue, replacementValue )"><span class="secnum">7.14</span> Atomics.compareExchange ( <var>typedArray</var>, <var>index</var>, <var>expectedValue</var>, <var>replacementValue</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-atomics.islockfree" title="Atomics.isLockFree( size )"><span class="secnum">7.15</span> Atomics.isLockFree( <var>size</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-atomics.wait" title="Atomics.wait( typedArray, index, value, timeout )"><span class="secnum">7.16</span> Atomics.wait( <var>typedArray</var>, <var>index</var>, <var>value</var>, <var>timeout</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-atomics.wake" title="Atomics.notify( typedArray, index, count )"><span class="secnum">7.17</span> Atomics.notify( <var>typedArray</var>, <var>index</var>, <var>count</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-atomics.store" title="Atomics.store( typedArray, index, value )"><span class="secnum">7.18</span> Atomics.store( <var>typedArray</var>, <var>index</var>, <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-%typedarray%.prototype.sort" title="%TypedArray%.prototype.sort ( comparefn )"><span class="secnum">7.19</span> %TypedArray%.prototype.sort ( <var>comparefn</var> )</a></li><li><span class="item-toggle-none"></span><a href="#typedarray-species-create" title="TypedArraySpeciesCreate ( exemplar, argumentList )"><span class="secnum">7.20</span> TypedArraySpeciesCreate ( <var>exemplar</var>, <var>argumentList</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-%typedarray%.prototype.fill" title="%TypedArray%.prototype.fill ( value [ , start [ , end ] ] )"><span class="secnum">7.21</span> %TypedArray%.prototype.fill ( <var>value</var> [ , <var>start</var> [ , <var>end</var> ] ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-%typedarray%.prototype.set-array-offset" title="%TypedArray%.prototype.set ( array [ , offset ] )"><span class="secnum">7.22</span> %TypedArray%.prototype.set ( <var>array</var> [ , <var>offset</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-%typedarray%.prototype.set-typedarray-offset" title="%TypedArray%.prototype.set( typedArray [ , offset ] )"><span class="secnum">7.23</span> %TypedArray%.prototype.set( <var>typedArray</var> [ , <var>offset</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-typedarray-typedarray" title="TypedArray ( typedArray )"><span class="secnum">7.24</span> <var>TypedArray</var> ( <var>typedArray</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-setviewvalue" title="SetViewValue ( view, requestIndex, isLittleEndian, type, value )"><span class="secnum">7.25</span> SetViewValue ( <var>view</var>, <var>requestIndex</var>, <var>isLittleEndian</var>, <var>type</var>, <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-dataview.prototype.getbigint64" title="DataView.prototype.getBigInt64 ( byteOffset [ , littleEndian ] )"><span class="secnum">7.26</span> DataView.prototype.getBigInt64 ( <var>byteOffset</var> [ , <var>littleEndian</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-dataview.prototype.getbiguint64" title="DataView.prototype.getBigUint64 ( byteOffset [ , littleEndian ] )"><span class="secnum">7.27</span> DataView.prototype.getBigUint64 ( <var>byteOffset</var> [ , <var>littleEndian</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-dataview.prototype.setbigint64" title="DataView.prototype.setBigInt64 ( byteOffset, value [ , littleEndian ] )"><span class="secnum">7.28</span> DataView.prototype.setBigInt64 ( <var>byteOffset</var>, <var>value</var> [ , <var>littleEndian</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-dataview.prototype.setbiguint64" title="DataView.prototype.setBigUint64 ( byteOffset, value [ , littleEndian ] )"><span class="secnum">7.29</span> DataView.prototype.setBigUint64 ( <var>byteOffset</var>, <var>value</var> [ , <var>littleEndian</var> ] )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-agents" title="Agents"><span class="secnum">8</span> Agents</a></li></ol></div></div><div id="spec-container"><h1 class="version first">Stage 4 Draft / September 30, 2019</h1><h1 class="title">BigInt</h1>
<style>
emu-issue, emu-todo, emu-motivation, emu-my-example, emu-integration-plans {
    margin: 1em 0;
    padding: .5em;
    padding-left: 1em;
    display: block;
} emu-issue:before, emu-todo:before, emu-motivation:before, emu-my-example:before, emu-integration-plans:before {
    display: block;
    padding-bottom: .5em;
    margin-left: -.5em;
} emu-issue {
    border-left: 5px solid #ff0000;
    background: #ffdddd;
} emu-issue:before {
    color: #770000;
    content: "ISSUE";
} emu-motivation {
    border-left: 5px solid #aaaa00;
    background: #ffffdd;
} emu-motivation:before {
    color: #666600;
    content: "MOTIVATION";
} emu-todo {
    border-left: 5px solid #00aa00;
    background: #ddffdd;
} emu-todo:before {
    color: #006600;
    content: "TODO";
} emu-my-example {
    border-left: 5px solid #0000aa;
    background: #ddddff;
} emu-my-example:before {
    color: #000066;
    content: "EXAMPLE";
} emu-integration-plans {
    border-left: 5px solid #aa00aa;
    background: #ffddff;
} emu-integration-plans:before {
    color: #660066;
    content: "INTEGRATION PLANS";
}

</style>

<emu-intro id="sec-intro">
  <h1>Introduction</h1>
<p>This proposal adds arbitrary-precision integers to ECMAScript. For motivation and a high-level introduction, see  <a href="https://github.com/tc39/proposal-bigint/blob/master/README.md">the explainer document</a>.</p>

<emu-integration-plans>
  <p>I attempted to write this specification draft with an eye towards intelligibility and clarifying issues, rather than looking exactly like the final specification. In particular, the translation of the operations on the Number type into the new form are omitted, as they are identical to the previous definitions and would be expressed only as a lengthy refactoring to skip when reading this text.</p>
  <p>If you find any part of this specification unclear or confusing, please  <a href="https://github.com/tc39/proposal-bigint/issues/new">file an issue</a>.</p>
</emu-integration-plans>
</emu-intro>
<emu-clause id="sec-numeric-types">
  <h1><span class="secnum">1</span>Numeric Types</h1>
  <p>ECMAScript has two built-in numeric types: Number and BigInt. In this specification, every numeric type <var>T</var> contains a multiplicative identity value denoted <var>T</var>::unit. The specification types also have the following abstract operations, likewise denoted <var>T</var>::<i>op</i> for a given operation with specification name  <i>op</i>. Unless noted otherwise, argument and result types are all <var>T</var>.</p>
  <emu-table id="table-numeric-type-ops" caption="Numeric Type Operations"><figure><figcaption>Table 1: Numeric Type Operations</figcaption>
    <table>
      <tbody>
      <tr>
        <th>
          Invocation Synopsis
        
        </th>
        <th>
          Value and Purpose
        
        </th>
      </tr>
      <tr>
        <td>
          <var>T</var>::unaryMinus(x)
        
        </td>
        <td>
          A specification function invoked when applying the unary minus operator. Called by the semantics of the  <emu-xref href="#sec-unary-minus-operator" id="_ref_0"><a href="#sec-unary-minus-operator">unary - operator</a></emu-xref>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::bitwiseNOT(x)
        
        </td>
        <td>
          A specification function invoked when applying the bitwise NOT operator. Called by the semantics of the  <emu-xref href="#sec-bitwise-not-operator" id="_ref_1"><a href="#sec-bitwise-not-operator">bitwise NOT operator</a></emu-xref> for <code>~x</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::exponentiate(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the exponentiation operator. Called by the semantics of the  <emu-xref href="#sec-exp-operator" id="_ref_2"><a href="#sec-exp-operator">exponentiation operator</a></emu-xref> for <code>x ** y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::multiply(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the multiplication operator. Called by the semantics of the  <emu-xref href="#sec-applying-the-mul-operator"><a href="https://tc39.github.io/ecma262/#sec-applying-the-mul-operator"><code>*</code> operator</a></emu-xref> for <code>x * y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::divide(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the division operator. Called by the semantics of the  <emu-xref href="#sec-applying-the-div-operator"><a href="https://tc39.github.io/ecma262/#sec-applying-the-div-operator"><code>/</code> operator</a></emu-xref> for <code>x / y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::remainder(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the truncating remainder ("mod") operator. Called by the semantics of the  <emu-xref href="#sec-applying-the-mod-operator"><a href="https://tc39.github.io/ecma262/#sec-applying-the-mod-operator"><code>%</code> operator</a></emu-xref> for <code>x % y</code>.
          
          <emu-todo>Revisit this name, as Number::remainder explicitly doesn't do the IEEE 754 remainder operation. However, <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> also seems problematic. (<a href="https://github.com/tc39/proposal-bigint/issues/37">issue</a>)</emu-todo>
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::add(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the addition operator. Called by the semantics of the  <emu-xref href="#sec-addition-operator-plus" id="_ref_3"><a href="#sec-addition-operator-plus"><code>+</code> operator</a></emu-xref> for <code>x + y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::subtract(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the subtraction operator. Called by the semantics of the  <emu-xref href="#sec-subtraction-operator-minus" id="_ref_4"><a href="#sec-subtraction-operator-minus"><code>-</code> operator</a></emu-xref> for <code>x - y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::leftShift(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the left shift operator to two operands, both of type <var>T</var>. Called by the semantics of the  <emu-xref href="#sec-left-shift-operator" id="_ref_5"><a href="#sec-left-shift-operator"><code>&lt;&lt;</code> operator</a></emu-xref> for <code>x &lt;&lt; y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::signedRightShift(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the right shift operator to two operands, both of type <var>T</var>. Called by the semantics of the  <emu-xref href="#sec-signed-right-shift-operator" id="_ref_6"><a href="#sec-signed-right-shift-operator"><code>&gt;&gt;</code> operator</a></emu-xref> for <code>x &gt;&gt; y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::unsignedRightShift(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying the right shift operator to two operands, both of type <var>T</var>. Called by the semantics of the  <emu-xref href="#sec-unsigned-right-shift-operator" id="_ref_7"><a href="#sec-unsigned-right-shift-operator"><code>&gt;&gt;&gt;</code> operator</a></emu-xref> for <code>x &gt;&gt;&gt; y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::lessThan(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying one of the four partial-order  <emu-xref href="#sec-relational-operators"><a href="https://tc39.github.io/ecma262/#sec-relational-operators">relational operators</a></emu-xref>. The return value must be <emu-val>false</emu-val>, <emu-val>true</emu-val>, or <emu-val>undefined</emu-val> (for unordered inputs). Called by the  <emu-xref href="#sec-abstract-relational-comparison" id="_ref_8"><a href="#sec-abstract-relational-comparison">Abstract Relational Comparison</a></emu-xref> algorithm for <code>x &lt; y</code>, <code>x &gt; y</code>, <code>x &lt;= y</code>, and <code>x &gt;= y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::equal(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying  <emu-xref href="#sec-equality-operators"><a href="https://tc39.github.io/ecma262/#sec-equality-operators">equality operators</a></emu-xref>. The return value must be <emu-val>false</emu-val> or <emu-val>true</emu-val>. Called by the  <emu-xref href="#sec-strict-equality-comparison" id="_ref_9"><a href="#sec-strict-equality-comparison">Strict Equality Comparison</a></emu-xref> algorithm for <code>x == y</code>, <code>x != y</code>, <code>x === y</code>, and <code>x !== y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::sameValue(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying  <emu-xref href="#sec-samevalue" id="_ref_10"><a href="#sec-samevalue">abstract operation SameValue</a></emu-xref>. The return value must be <emu-val>false</emu-val> or <emu-val>true</emu-val>. Called from Object internal methods to test exact value equality. May not throw an exception.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::sameValueZero(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying  <emu-xref href="#sec-samevaluezero" id="_ref_11"><a href="#sec-samevaluezero">abstract operation SameValueZero</a></emu-xref>. The return value must be <emu-val>false</emu-val> or <emu-val>true</emu-val>. Called from Array, Map, and Set methods to test value equality ignoring differences among members of the zero cohort (e.g., <emu-val>-0</emu-val> and <emu-val>+0</emu-val>). May not throw an exception.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::bitwiseAND(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying  <emu-xref href="#sec-binary-bitwise-operators" id="_ref_12"><a href="#sec-binary-bitwise-operators">binary bitwise AND operator</a></emu-xref>. Called by the  <emu-xref href="#sec-binary-bitwise-operators-runtime-semantics-evaluation" id="_ref_13"><a href="#sec-binary-bitwise-operators-runtime-semantics-evaluation">Binary Bitwise Operators</a></emu-xref> algorithm for <code>x &amp; y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::bitwiseXOR(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying  <emu-xref href="#sec-binary-bitwise-operators" id="_ref_14"><a href="#sec-binary-bitwise-operators">binary bitwise XOR operator</a></emu-xref>. Called by the  <emu-xref href="#sec-binary-bitwise-operators-runtime-semantics-evaluation" id="_ref_15"><a href="#sec-binary-bitwise-operators-runtime-semantics-evaluation">Binary Bitwise Operators</a></emu-xref> algorithm for <code>x ^ y</code>.
        
        </td>
      </tr>
      <tr>
        <td>
          <var>T</var>::bitwiseOR(x,&nbsp;y)
        
        </td>
        <td>
          A specification function invoked when applying  <emu-xref href="#sec-binary-bitwise-operators" id="_ref_16"><a href="#sec-binary-bitwise-operators">binary bitwise OR operator</a></emu-xref>. Called by the  <emu-xref href="#sec-binary-bitwise-operators-runtime-semantics-evaluation" id="_ref_17"><a href="#sec-binary-bitwise-operators-runtime-semantics-evaluation">Binary Bitwise Operators</a></emu-xref> algorithm for <code>x | y</code>.
        
        </td>
      </tr>
      </tbody>
    </table>
  </figure></emu-table>
  <p>The <var>T</var>::unit value and <var>T</var>::<var>op</var> operations are not a part of the ECMAScript language; they are defined here solely to aid the specification of the semantics of the ECMAScript language. Other abstract operations are defined throughout this specification.</p>
  <p>Because the numeric types are in general not convertible without loss of precision or truncation, the ECMAScript language provides no implicit conversion among these types. Programmers must explicitly call <code>Number</code> and <code>BigInt</code> functions to convert among types when calling a function which requires another type.</p>
  <emu-note><span class="note">Note</span><div class="note-contents">
    <p>The first and subsequent editions of ECMAScript have provided, for certain operators, implicit numeric conversions that could lose precision or truncate. These legacy implicit conversions are maintained for backward compatibility, but not provided for BigInt in order to minimize opportunity for programmer error, and to leave open the option of generalized  <em>value types</em> in a future edition.</p>
  </div></emu-note>


  <emu-clause id="sec-ecmascript-language-types-bigint-type">
    <h1><span class="secnum">1.1</span>The BigInt Type</h1>
    <p>The BigInt type represents a mathematical integer value. The value may be any size and is not limited to a particular bit-width. Generally, where not otherwise noted, operations are designed to return exact mathematically-based answers. For binary operations, BigInts act as two's complement binary strings, with negative numbers treated as having bits set infinitely to the left.</p>

    <p>The BigInt::unit value is <emu-val>1n</emu-val>.</p>

    <emu-clause id="sec-numeric-types-bigint-unaryMinus">
      <h1><span class="secnum">1.1.1</span>BigInt::unaryMinus (<var>x</var>)</h1>
      <p>The abstract operation BigInt::unaryMinus with an argument <var>x</var> of BigInt type returns the result of negating <var>x</var>.</p>
      <emu-note><span class="note">Note</span><div class="note-contents">There is only one <emu-val>0n</emu-val> value; <code>-0n</code> is the same as <emu-val>0n</emu-val>.</div></emu-note>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-bitwiseNOT">
      <h1><span class="secnum">1.1.2</span>BigInt::bitwiseNOT (<var>x</var>)</h1>
      <p>The abstract operation BigInt::bitwiseNOT with an argument <var>x</var> of BigInt type returns the one's complement of <var>x</var>; that is, -<var>x</var> - 1.</p>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-exponentiate">
      <h1><span class="secnum">1.1.3</span>BigInt::exponentiate (<var>base</var>, <var>exponent</var>)</h1>
      <emu-alg><ol><li>If <var>exponent</var> &lt; 0, throw a <emu-val>RangeError</emu-val> exception.</li><li>If <var>base</var> is <emu-val>0n</emu-val> and <var>exponent</var> is <emu-val>0n</emu-val>, return <emu-val>1n</emu-val>.</li><li>Return a BigInt representing the mathematical value of <var>base</var> raised to the power <var>exponent</var>.
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-multiply">
      <h1><span class="secnum">1.1.4</span>BigInt::multiply (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::multiply with two arguments <var>x</var> and <var>y</var> of BigInt type returns a BigInt representing the result of multiplying <var>x</var> and <var>y</var>.</p>
      <emu-note><span class="note">Note</span><div class="note-contents">Even if the result has a much larger bit width than the input, the exact mathematical answer is given.</div></emu-note>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-divide">
      <h1><span class="secnum">1.1.5</span>BigInt::divide (<var>x</var>, <var>y</var>)</h1>
      <emu-alg><ol><li>If <var>y</var> is <emu-val>0n</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>quotient</var> be the mathematical value of <var>x</var> divided by <var>y</var>.</li><li>Return a BigInt representing <var>quotient</var> rounded towards 0 to the next integral value.
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-remainder">
      <h1><span class="secnum">1.1.6</span>BigInt::remainder (<var>n</var>, <var>d</var>)</h1>
      <emu-alg><ol><li>If <var>d</var> is <emu-val>0n</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>If <var>n</var> is <emu-val>0n</emu-val>, return <emu-val>0n</emu-val>.</li><li>Let <var>r</var> be the BigInt defined by the mathematical relation <var>r</var> = <var>n</var> - (<var>d</var>  <var>q</var>) where <var>q</var> is a BigInt that is negative only if <var>n</var>/<var>d</var> is negative and positive only if <var>n</var>/<var>d</var> is positive, and whose magnitude is as large as possible without exceeding the magnitude of the true mathematical quotient of <var>n</var> and <var>d</var>.</li><li>Return <var>r</var>.
      </li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">The sign of the result equals the sign of the dividend.</div></emu-note>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-add">
      <h1><span class="secnum">1.1.7</span>BigInt::add (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::add with two arguments <var>x</var> and <var>y</var> of BigInt type returns a BigInt representing the sum of <var>x</var> and <var>y</var>.</p>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-subtract">
      <h1><span class="secnum">1.1.8</span>BigInt::subtract (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::subtract with two arguments <var>x</var> and <var>y</var> of BigInt type returns the BigInt representing the difference <var>x</var> minus <var>y</var>.</p>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-leftShift">
      <h1><span class="secnum">1.1.9</span>BigInt::leftShift (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::leftShift with two arguments <var>x</var> and <var>y</var> of BigInt:</p>
      <emu-alg><ol><li>If <var>y</var> &lt; 0, then<ol><li>Return a BigInt representing <var>x</var>  2<sup>-<var>y</var></sup>, rounding down to the nearest integer, including for negative numbers.</li></ol></li><li>Return a BigInt representing <var>x</var>  2<sup><var>y</var></sup>.
      </li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">Semantics here should be equivalent to a bitwise shift, treating the BigInt as an infinite length string of binary two's complement digits.</div></emu-note>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-signedRightShift">
      <h1><span class="secnum">1.1.10</span>BigInt::signedRightShift (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::signedRightShift with arguments <var>x</var> and <var>y</var> of type BigInt:</p>
      <emu-alg><ol><li>Return BigInt::leftShift(<var>x</var>, -<var>y</var>).
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-unsignedRightShift">
      <h1><span class="secnum">1.1.11</span>BigInt::unsignedRightShift (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::unsignedRightShift with two arguments <var>x</var> and <var>y</var> of type BigInt:</p>
      <emu-alg><ol><li>Throw a <emu-val>TypeError</emu-val> exception.
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-lessThan">
      <h1><span class="secnum">1.1.12</span>BigInt::lessThan (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::lessThan with two arguments <var>x</var> and <var>y</var> of BigInt type returns <emu-val>true</emu-val> if <var>x</var> is less than <var>y</var> and <emu-val>false</emu-val> otherwise.</p>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-equal">
      <h1><span class="secnum">1.1.13</span>BigInt::equal (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::equal with two arguments <var>x</var> and <var>y</var> of BigInt type returns <emu-val>true</emu-val> if <var>x</var> and <var>y</var> have the same mathematical integer value and <emu-val>false</emu-val> otherwise.</p>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-sameValue">
      <h1><span class="secnum">1.1.14</span>BigInt::sameValue (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::sameValue with two arguments <var>x</var> and <var>y</var> of BigInt type:</p>
      <emu-alg><ol><li>Return BigInt::equal(<var>x</var>, <var>y</var>).
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-sameValueZero">
      <h1><span class="secnum">1.1.15</span>BigInt::sameValueZero (<var>x</var>, <var>y</var>)</h1>
      <p>The abstract operation BigInt::sameValueZero with two arguments <var>x</var> and <var>y</var> of BigInt type:</p>
      <emu-alg><ol><li>Return BigInt::equal(<var>x</var>, <var>y</var>).
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-bitwise-op">
      <h1><span class="secnum">1.1.16</span>BitwiseOp(<var>op</var>, <var>x</var>, <var>y</var>)</h1>
      <emu-alg><ol><li>Let <var>result</var> be 0.</li><li>Let <var>shift</var> be 0.</li><li>Repeat, until (<var>x</var> = 0 or <var>x</var> = -1) and (<var>y</var> = 0 or <var>y</var> = -1),<ol><li>Let <var>xDigit</var> be <var>x</var> <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> 2.</li><li>Let <var>yDigit</var> be <var>y</var> <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> 2.</li><li>Let <var>result</var> be <var>result</var> + 2<sup><var>shift</var></sup>  <var>op</var>(<var>xDigit</var>, <var>yDigit</var>).</li><li>Let <var>shift</var> be <var>shift</var> + 1.</li><li>Let <var>x</var> be (<var>x</var> - <var>xDigit</var>) / 2.</li><li>Let <var>y</var> be (<var>y</var> - <var>yDigit</var>) / 2.</li></ol></li><li>If <var>op</var>(<var>x</var> <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> 2, <var>y</var> <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> 2)  0, then<ol><li>Let <var>result</var> be <var>result</var> - 2<sup><var>shift</var></sup>. NOTE: This extends the sign.</li></ol></li><li>Return <var>result</var>.
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-bitwiseAND">
      <h1><span class="secnum">1.1.17</span>BigInt::bitwiseAND (<var>x</var>, <var>y</var>)</h1>
      <emu-alg><ol><li>Return BitwiseOp(<code>&amp;</code>, <var>x</var>, <var>y</var>).
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-bitwiseXOR">
      <h1><span class="secnum">1.1.18</span>BigInt::bitwiseXOR (<var>x</var>, <var>y</var>)</h1>
      <emu-alg><ol><li>Return BitwiseOp(<code>^</code>, <var>x</var>, <var>y</var>).
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-numeric-types-bigint-bitwiseOR">
      <h1><span class="secnum">1.1.19</span>BigInt::bitwiseOR (<var>x</var>, <var>y</var>)</h1>
      <emu-alg><ol><li>Return BitwiseOp(<code>|</code>, <var>x</var>, <var>y</var>).
      </li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-integration-plans>
    As part of the integration with the main specification, the Number type will have a similar definition of operations, derived from the current operator definitions. Because the semantics are not proposed to change, for ease of review, the refactoring is omitted from this spec draft.
  
  </emu-integration-plans>
</emu-clause>

<emu-clause id="sec-grammar-change">
  <h1><span class="secnum">2</span>Modifications to the Number grammar</h1>
  <emu-grammar><emu-production name="NumericLiteral" type="lexical" id="prod-NumericLiteral">
    <emu-nt><a href="#prod-NumericLiteral">NumericLiteral</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a="18c0356f"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-DecimalLiteral">DecimalLiteral</a></emu-nt></emu-rhs>
    <ins><emu-rhs a="e8ee183f"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-DecimalIntegerLiteral">DecimalIntegerLiteral</a></emu-nt><emu-nt id="_ref_458"><a href="#prod-BigIntLiteralSuffix">BigIntLiteralSuffix</a></emu-nt></emu-rhs></ins>
    <del><emu-rhs a="d3d71ddd"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BinaryIntegerLiteral">BinaryIntegerLiteral</a></emu-nt></emu-rhs></del>
    <del><emu-rhs a="832f57ee"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-OctalIntegerLiteral">OctalIntegerLiteral</a></emu-nt></emu-rhs></del>
    <del><emu-rhs a="1d0c4a66"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-HexIntegerLiteral">HexIntegerLiteral</a></emu-nt></emu-rhs></del>
    <ins><emu-rhs a="c242a52a"><emu-nt id="_ref_459"><a href="#prod-NumericLiteralBase">NumericLiteralBase</a></emu-nt></emu-rhs></ins>
    <ins><emu-rhs a="a6c26b0f"><emu-nt id="_ref_460"><a href="#prod-NumericLiteralBase">NumericLiteralBase</a></emu-nt><emu-nt id="_ref_461"><a href="#prod-BigIntLiteralSuffix">BigIntLiteralSuffix</a></emu-nt></emu-rhs></ins>
    <emu-rhs a="f0df7a1f"><emu-nt>LegacyOctalIntegerLiteral</emu-nt></emu-rhs>
</emu-production>
<ins><emu-production name="NumericLiteralBase" type="lexical" id="prod-NumericLiteralBase">
    <emu-nt><a href="#prod-NumericLiteralBase">NumericLiteralBase</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a="d3d71ddd"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-BinaryIntegerLiteral">BinaryIntegerLiteral</a></emu-nt></emu-rhs>
    <emu-rhs a="832f57ee"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-OctalIntegerLiteral">OctalIntegerLiteral</a></emu-nt></emu-rhs>
    <emu-rhs a="1d0c4a66"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-HexIntegerLiteral">HexIntegerLiteral</a></emu-nt></emu-rhs>
</emu-production></ins>
<ins><emu-production name="BigIntLiteralSuffix" type="lexical" collapsed="" id="prod-BigIntLiteralSuffix">
    <emu-nt><a href="#prod-BigIntLiteralSuffix">BigIntLiteralSuffix</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a="14b11fb6"><emu-t>n</emu-t></emu-rhs>
</emu-production></ins></emu-grammar>

  <emu-clause id="sec-numeric-literal-static-semantics-bigint-value">
    <h1><span class="secnum">2.1</span>Static Semantics: BigInt Value</h1>
    <emu-grammar><emu-production name="NumericLiteral" type="lexical" collapsed="">
    <emu-nt><a href="#prod-NumericLiteral">NumericLiteral</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a="a6c26b0f"><emu-nt id="_ref_462"><a href="#prod-NumericLiteralBase">NumericLiteralBase</a></emu-nt><emu-nt id="_ref_463"><a href="#prod-BigIntLiteralSuffix">BigIntLiteralSuffix</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
    <ul>
      <li>
        Let the value of <emu-nt id="_ref_464"><a href="#prod-NumericLiteral">NumericLiteral</a></emu-nt> be the MV of <emu-nt id="_ref_465"><a href="#prod-NumericLiteralBase">NumericLiteralBase</a></emu-nt> represented as BigInt.
      
      </li>
    </ul>
    <emu-grammar><emu-production name="NumericLiteral" type="lexical" collapsed="">
    <emu-nt><a href="#prod-NumericLiteral">NumericLiteral</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a="e8ee183f"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-DecimalIntegerLiteral">DecimalIntegerLiteral</a></emu-nt><emu-nt id="_ref_466"><a href="#prod-BigIntLiteralSuffix">BigIntLiteralSuffix</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
    <ul>
      <li>
        Let the value of <emu-nt id="_ref_467"><a href="#prod-NumericLiteral">NumericLiteral</a></emu-nt> be the MV of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-DecimalIntegerLiteral">DecimalIntegerLiteral</a></emu-nt> represented as BigInt.
      
      </li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-numeric-literal-static-semantics-number-value">
    <h1><span class="secnum">2.2</span>Static Semantics: Number Value</h1>
    <emu-grammar><emu-production name="NumericLiteral" type="lexical" collapsed="">
    <emu-nt><a href="#prod-NumericLiteral">NumericLiteral</a></emu-nt><emu-geq>::</emu-geq><emu-rhs a="c242a52a"><emu-nt id="_ref_468"><a href="#prod-NumericLiteralBase">NumericLiteralBase</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
    <p>The MV is rounded to a value of the Number type.</p>

    <emu-integration-plans>
      Rounding to the nearest Number will be moved from the MV calculation to a Number Value Static Semantics section so that it doesn't apply to BigInts.
    
    </emu-integration-plans>
  </emu-clause>
</emu-clause>

<emu-clause id="sec-abstract-operations">
  <h1><span class="secnum">3</span>Abstract Operations</h1>
  <emu-clause id="sec-type-conversion">
    <h1><span class="secnum">3.1</span>Type Conversion</h1>
    <p>The BigInt type has no implicit conversions in the ECMAScript language; programmers must call BigInt explicitly to convert values from other types.</p>

    <emu-clause id="sec-toprimitive" aoid="ToPrimitive">
      <h1><span class="secnum">3.1.1</span>ToPrimitive ( <var>input</var> [ , <var>PreferredType</var> ] )</h1>
      <emu-table id="table-9" caption="ToPrimitive Conversions"><figure><figcaption>Table 2: <emu-xref aoid="ToPrimitive" id="_ref_59"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref> Conversions</figcaption>
        <table>
          <tbody>
          <tr>
            <th>
              Input Type
            
            </th>
            <th>
              Result
            
            </th>
          </tr>
          <tr>
            <td>
              <ins>BigInt</ins>
            </td>
            <td>
              <ins>Return <var>input</var>.</ins>
            </td>
          </tr>
          </tbody>
        </table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-toboolean" aoid="ToBoolean">
      <h1><span class="secnum">3.1.2</span>ToBoolean ( <var>argument</var> )</h1>
      <p>The abstract operation ToBoolean converts <var>argument</var> to a value of type Boolean according to  <emu-xref href="#table-10" id="_ref_18"><a href="#table-10">Table 3</a></emu-xref>:</p>
      <emu-table id="table-10" caption="ToBoolean Conversions"><figure><figcaption>Table 3: <emu-xref aoid="ToBoolean" id="_ref_60"><a href="#sec-toboolean">ToBoolean</a></emu-xref> Conversions</figcaption>
        <table>
          <tbody>
          <tr>
            <th>
              Argument Type
            
            </th>
            <th>
              Result
            
            </th>
          </tr>
          <tr>
            <td>
              <ins>BigInt</ins>
            </td>
            <td>
              <ins>Return <emu-val>false</emu-val> if <var>argument</var> is <emu-val>0n</emu-val>; otherwise return <emu-val>true</emu-val>.</ins>
            </td>
          </tr>
          </tbody>
        </table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-tonumber" aoid="ToNumber">
      <h1><span class="secnum">3.1.3</span>ToNumber ( <var>argument</var> )</h1>
      <p>The abstract operation ToNumber converts <var>argument</var> to a value of type Number according to  <emu-xref href="#table-11" id="_ref_19"><a href="#table-11">Table 4</a></emu-xref>:</p>
      <emu-table id="table-11" caption="ToNumber Conversions"><figure><figcaption>Table 4: <emu-xref aoid="ToNumber" id="_ref_61"><a href="#sec-tonumber">ToNumber</a></emu-xref> Conversions</figcaption>
        <table>
          <tbody>
          <tr>
            <th>
              Argument Type
            
            </th>
            <th>
              Result
            
            </th>
          </tr>
          <tr>
            <td>
              <ins>BigInt</ins>
            </td>
            <td>
              <ins>Throw a <emu-val>TypeError</emu-val> exception</ins>
            </td>
          </tr>
          </tbody>
        </table>
      </figure></emu-table>
      <emu-motivation>
        Although it would be possible to define a conversion here, to find the nearest Number for a BigInt, such a conversion may lose precision. ToNumber is called implicitly from so many places, but BigInts would not add any value if they lost precision all the time; you might as well just use Numbers instead in the first place. A key  <a href="https://github.com/tc39/proposal-bigint/blob/master/README.md#no-implicit-conversions-or-mixed-operands">design decision</a> of this specification is to disallow implicit conversions, and force programmers to use explicit conversions themselves instead.
      
      </emu-motivation>

      <emu-clause id="sec-tonumber-applied-to-the-string-type">
        <h1><span class="secnum">3.1.3.1</span>ToNumber Applied to the String Type</h1>
        <emu-note><span class="note">Note</span><div class="note-contents">
          <p>Some differences should be noted between the syntax of a <emu-nt><a href="https://tc39.github.io/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt> and a <emu-nt id="_ref_469"><a href="#prod-NumericLiteral">NumericLiteral</a></emu-nt>:</p>
          <ul>
            <li>
              <ins>A <emu-nt><a href="https://tc39.github.io/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt> may not include a <emu-nt id="_ref_470"><a href="#prod-BigIntLiteralSuffix">BigIntLiteralSuffix</a></emu-nt>.</ins>
            </li>
          </ul>
        </div></emu-note>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-tostring" aoid="ToString">
      <h1><span class="secnum">3.1.4</span>ToString ( <var>argument</var> )</h1>
      <p>The abstract operation ToString converts <var>argument</var> to a value of type String according to  <emu-xref href="#table-12" id="_ref_20"><a href="#table-12">Table 5</a></emu-xref>:</p>
      <emu-table id="table-12" caption="ToString Conversions"><figure><figcaption>Table 5: <emu-xref aoid="ToString" id="_ref_62"><a href="#sec-tostring">ToString</a></emu-xref> Conversions</figcaption>
        <table>
          <tbody>
          <tr>
            <th>
              Argument Type
            
            </th>
            <th>
              Result
            
            </th>
          </tr>
          <tr>
            <td>
              BigInt
            
            </td>
            <td>
              See  <emu-xref href="#sec-tostring-applied-to-the-bigint-type" id="_ref_21"><a href="#sec-tostring-applied-to-the-bigint-type">3.1.4.1</a></emu-xref>.
            
            </td>
          </tr>
          </tbody>
        </table>
      </figure></emu-table>

      <emu-clause id="sec-tostring-applied-to-the-bigint-type" aoid="ToString Applied to the BigInt Type">
        <h1><span class="secnum">3.1.4.1</span>ToString Applied to the BigInt Type</h1>
        <p>The abstract operation <emu-xref aoid="ToString" id="_ref_63"><a href="#sec-tostring">ToString</a></emu-xref> converts a BigInt <var>i</var> to String format as follows:</p>
        <emu-alg><ol><li>If <var>i</var> is less than zero, return the string-concatenation of the String <code>"-"</code> and <emu-xref aoid="ToString" id="_ref_64"><a href="#sec-tostring">ToString</a></emu-xref>(-<var>i</var>).</li><li>Return the String value consisting of the code units of the digits of the decimal representation of <var>i</var>.
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-toobject" aoid="ToObject">
      <h1><span class="secnum">3.1.5</span>ToObject ( <var>argument</var> )</h1>
      <p>The abstract operation ToObject converts <var>argument</var> to a value of type Object according to  <emu-xref href="#table-13" id="_ref_22"><a href="#table-13">Table 6</a></emu-xref>:</p>
      <emu-table id="table-13" caption="ToObject Conversions"><figure><figcaption>Table 6: <emu-xref aoid="ToObject" id="_ref_65"><a href="#sec-toobject">ToObject</a></emu-xref> Conversions</figcaption>
        <table>
          <tbody>
          <tr>
            <th>
              Argument Type
            
            </th>
            <th>
              Result
            
            </th>
          </tr>
          <tr>
            <td>
              <ins>BigInt</ins>
            </td>
            <td>
              <ins>Return a new BigInt object whose [[BigIntData]] internal slot is set to <var>argument</var>. See  <a href="#sec-bigint-objects">BigInt Objects</a> for a description of BigInt objects.</ins>
            </td>
          </tr>
          </tbody>
        </table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-tonumeric" aoid="ToNumeric">
      <h1><span class="secnum">3.1.6</span>ToNumeric ( <var>value</var> )</h1>
      <p>The abstract operation ToNumeric returns <var>value</var> converted to a numeric value of type Number or BigInt. This abstract operation functions as follows:</p>
      <emu-alg><ol><li>Let <var>primValue</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_66"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>value</var>, hint Number).</li><li>If <emu-xref aoid="Type" id="_ref_67"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>primValue</var>) is BigInt, return <var>primValue</var>.</li><li>Return <emu-xref aoid="ToNumber" id="_ref_68"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>primValue</var>).
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-requireobjectcoercible" aoid="RequireObjectCoercible">
      <h1><span class="secnum">3.1.7</span>RequireObjectCoercible ( <var>argument</var> )</h1>
      <p>The abstract operation RequireObjectCoercible throws an error if <var>argument</var> is a value that cannot be converted to an Object using <emu-xref aoid="ToObject" id="_ref_69"><a href="#sec-toobject">ToObject</a></emu-xref>. It is defined by  <emu-xref href="#table-14" id="_ref_23"><a href="#table-14">Table 7</a></emu-xref>:</p>
      <emu-table id="table-14" caption="RequireObjectCoercible Results"><figure><figcaption>Table 7: <emu-xref aoid="RequireObjectCoercible" id="_ref_70"><a href="#sec-requireobjectcoercible">RequireObjectCoercible</a></emu-xref> Results</figcaption>
        <table>
          <tbody>
          <tr>
            <th>
              Argument Type
            
            </th>
            <th>
              Result
            
            </th>
          </tr>
          <tr>
            <td>
              BigInt
            
            </td>
            <td>
              Return <var>argument</var>.
            
            </td>
          </tr>
          </tbody>
        </table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-testing-and-comparison-operations">
    <h1><span class="secnum">3.2</span>Testing and Comparison Operations</h1>
    <emu-clause id="sec-samevalue" aoid="SameValue">
      <h1><span class="secnum">3.2.1</span>SameValue ( <var>x</var>, <var>y</var> )</h1>
      <p>The internal comparison abstract operation SameValue(<var>x</var>, <var>y</var>), where <var>x</var> and <var>y</var> are ECMAScript language values, produces <emu-val>true</emu-val> or <emu-val>false</emu-val>. Such a comparison is performed as follows:</p>
      <emu-alg><ol><li>If <emu-xref aoid="Type" id="_ref_71"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is different from <emu-xref aoid="Type" id="_ref_72"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>), return <emu-val>false</emu-val>.</li><li>If <emu-xref aoid="Type" id="_ref_73"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Number <ins>or BigInt</ins>, then<ol><li><del>If <var>x</var> is <emu-val>NaN</emu-val> and <var>y</var> is <emu-val>NaN</emu-val>, return <emu-val>true</emu-val>.</del></li><li><del>If <var>x</var> is <emu-val>+0</emu-val> and <var>y</var> is <emu-val>-0</emu-val>, return <emu-val>false</emu-val>.</del></li><li><del>If <var>x</var> is <emu-val>-0</emu-val> and <var>y</var> is <emu-val>+0</emu-val>, return <emu-val>false</emu-val>.</del></li><li><del>If <var>x</var> is the same Number value as <var>y</var>, return <emu-val>true</emu-val>.</del></li><li><del>Return <emu-val>false</emu-val>.</del></li><li><ins>Return !&nbsp;<emu-xref aoid="Type" id="_ref_74"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>)::sameValue(<var>x</var>, <var>y</var>).</ins></li></ol></li><li>Return <a href="sec-samevaluenonnumber">SameValueNon<del>Number</del><ins>Numeric</ins></a>(<var>x</var>, <var>y</var>).
      </li></ol></emu-alg>
      <emu-integration-plans>The previous Number-related contents of this algorithm will be moved into Number::sameValue.</emu-integration-plans>
    </emu-clause>

    <!-- es6num="7.2.10" -->
    <emu-clause id="sec-samevaluezero" aoid="SameValueZero">
      <h1><span class="secnum">3.2.2</span>SameValueZero ( <var>x</var>, <var>y</var> )</h1>
      <p>The internal comparison abstract operation SameValueZero(<var>x</var>, <var>y</var>), where <var>x</var> and <var>y</var> are ECMAScript language values, produces <emu-val>true</emu-val> or <emu-val>false</emu-val>. Such a comparison is performed as follows:</p>
      <emu-alg><ol><li>If <emu-xref aoid="Type" id="_ref_75"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is different from <emu-xref aoid="Type" id="_ref_76"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>), return <emu-val>false</emu-val>.</li><li>If <emu-xref aoid="Type" id="_ref_77"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Number <ins>or BigInt</ins>, then<ol><li><del>If <var>x</var> is <emu-val>NaN</emu-val> and <var>y</var> is <emu-val>NaN</emu-val>, return <emu-val>true</emu-val>.</del></li><li><del>If <var>x</var> is <emu-val>+0</emu-val> and <var>y</var> is <emu-val>-0</emu-val>, return <emu-val>true</emu-val>.</del></li><li><del>If <var>x</var> is <emu-val>-0</emu-val> and <var>y</var> is <emu-val>+0</emu-val>, return <emu-val>true</emu-val>.</del></li><li><del>If <var>x</var> is the same Number value as <var>y</var>, return <emu-val>true</emu-val>.</del></li><li><del>Return <emu-val>false</emu-val>.</del></li><li><ins>Return !&nbsp;<emu-xref aoid="Type" id="_ref_78"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>)::sameValueZero(<var>x</var>, <var>y</var>).</ins></li></ol></li><li>Return <a href="sec-samevaluenonnumber">SameValueNon<del>Number</del><ins>Numeric</ins></a>(<var>x</var>, <var>y</var>).
      </li></ol></emu-alg>
      <emu-integration-plans>The previous Number-related contents of this algorithm will be moved into Number::sameValueZero.</emu-integration-plans>
    </emu-clause>

    <emu-clause id="sec-samevaluenonnumber" aoid="SameValueNonNumeric">
      <h1><span class="secnum">3.2.3</span>SameValueNon<del>Number</del><ins>Numeric</ins> ( <var>x</var>, <var>y</var> )</h1>
      <p>The internal comparison abstract operation SameValueNonNumeric(<var>x</var>, <var>y</var>), where neither <var>x</var> nor <var>y</var> are numeric type values, produces <emu-val>true</emu-val> or <emu-val>false</emu-val>. Such a comparison is performed as follows:</p>
      <emu-alg><ol><li>Assert: <emu-xref aoid="Type" id="_ref_79"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is not Number <ins>or BigInt</ins>.</li><li>Assert: <emu-xref aoid="Type" id="_ref_80"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is the same as <emu-xref aoid="Type" id="_ref_81"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>).</li><li>If <emu-xref aoid="Type" id="_ref_82"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Undefined, return <emu-val>true</emu-val>.</li><li>If <emu-xref aoid="Type" id="_ref_83"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Null, return <emu-val>true</emu-val>.</li><li>If <emu-xref aoid="Type" id="_ref_84"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is String, then<ol><li>If <var>x</var> and <var>y</var> are exactly the same sequence of code units (same length and same code units at corresponding indices), return <emu-val>true</emu-val>; otherwise, return <emu-val>false</emu-val>.</li></ol></li><li>If <emu-xref aoid="Type" id="_ref_85"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Boolean, then<ol><li>If <var>x</var> and <var>y</var> are both <emu-val>true</emu-val> or both <emu-val>false</emu-val>, return <emu-val>true</emu-val>; otherwise, return <emu-val>false</emu-val>.</li></ol></li><li>If <emu-xref aoid="Type" id="_ref_86"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Symbol, then<ol><li>If <var>x</var> and <var>y</var> are both the same Symbol value, return <emu-val>true</emu-val>; otherwise, return <emu-val>false</emu-val>.</li></ol></li><li>If <var>x</var> and <var>y</var> are the same Object value, return <emu-val>true</emu-val>. Otherwise, return <emu-val>false</emu-val>.
      </li></ol></emu-alg>
    </emu-clause>

    <!-- es6num="7.2.11" -->
    <emu-clause id="sec-abstract-relational-comparison" aoid="Abstract Relational Comparison">
      <h1><span class="secnum">3.2.4</span>Abstract Relational Comparison</h1>
      <p>The comparison <var>x</var> &lt; <var>y</var>, where <var>x</var> and <var>y</var> are values, produces <emu-val>true</emu-val>, <emu-val>false</emu-val>, or <emu-val>undefined</emu-val> (which indicates that at least one operand is <emu-val>NaN</emu-val>). In addition to <var>x</var> and <var>y</var> the algorithm takes a Boolean flag named <var>LeftFirst</var> as a parameter. The flag is used to control the order in which operations with potentially visible side-effects are performed upon <var>x</var> and <var>y</var>. It is necessary because ECMAScript specifies left to right evaluation of expressions. The default value of <var>LeftFirst</var> is <emu-val>true</emu-val> and indicates that the <var>x</var> parameter corresponds to an expression that occurs to the left of the <var>y</var> parameter's corresponding expression. If <var>LeftFirst</var> is <emu-val>false</emu-val>, the reverse is the case and operations must be performed upon <var>y</var> before <var>x</var>. Such a comparison is performed as follows:</p>
      <emu-alg><ol><li>If the <var>LeftFirst</var> flag is <emu-val>true</emu-val>, then<ol><li>Let <var>px</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_87"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>x</var>, hint Number).</li><li>Let <var>py</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_88"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>y</var>, hint Number).</li></ol></li><li>Else the order of evaluation needs to be reversed to preserve left to right evaluation,<ol><li>Let <var>py</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_89"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>y</var>, hint Number).</li><li>Let <var>px</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_90"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>x</var>, hint Number).</li></ol></li><li>If both <var>px</var> and <var>py</var> are Strings, then<ol><li>If <var>py</var> is a prefix of <var>px</var>, return <emu-val>false</emu-val>. (A String value <var>p</var> is a prefix of String value <var>q</var> if <var>q</var> can be the result of concatenating <var>p</var> and some other String <var>r</var>. Note that any String is a prefix of itself, because <var>r</var> may be the empty String.)</li><li>If <var>px</var> is a prefix of <var>py</var>, return <emu-val>true</emu-val>.</li><li>Let <var>k</var> be the smallest nonnegative integer such that the code unit at index <var>k</var> within <var>px</var> is different from the code unit at index <var>k</var> within <var>py</var>. (There must be such a <var>k</var>, for neither String is a prefix of the other.)</li><li>Let <var>m</var> be the integer that is the code unit at index <var>k</var> within <var>px</var>.</li><li>Let <var>n</var> be the integer that is the code unit at index <var>k</var> within <var>py</var>.</li><li>If <var>m</var> &lt; <var>n</var>, return <emu-val>true</emu-val>. Otherwise, return <emu-val>false</emu-val>.</li></ol></li><li>Else,<ol><li><del>Let <var>nx</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_91"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>px</var>). Because <var>px</var> and <var>py</var> are primitive values evaluation order is not important.</del></li><li><del>Let <var>ny</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_92"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>py</var>).</del></li><li><del>If <var>nx</var> is <emu-val>NaN</emu-val>, return <emu-val>undefined</emu-val>.</del></li><li><del>If <var>ny</var> is <emu-val>NaN</emu-val>, return <emu-val>undefined</emu-val>.</del></li><li><del>If <var>nx</var> and <var>ny</var> are the same Number value, return <emu-val>false</emu-val>.</del></li><li><del>If <var>nx</var> is <emu-val>+0</emu-val> and <var>ny</var> is <emu-val>-0</emu-val>, return <emu-val>false</emu-val>.</del></li><li><del>If <var>nx</var> is <emu-val>-0</emu-val> and <var>ny</var> is <emu-val>+0</emu-val>, return <emu-val>false</emu-val>.</del></li><li><del>If <var>nx</var> is <emu-val>+</emu-val>, return <emu-val>false</emu-val>.</del></li><li><del>If <var>ny</var> is <emu-val>+</emu-val>, return <emu-val>true</emu-val>.</del></li><li><del>If <var>ny</var> is <emu-val>-</emu-val>, return <emu-val>false</emu-val>.</del></li><li><del>If <var>nx</var> is <emu-val>-</emu-val>, return <emu-val>true</emu-val>.</del></li><li><del>If the mathematical value of <var>nx</var> is less than the mathematical value of <var>ny</var> note that these mathematical values are both finite and not both zeroreturn <emu-val>true</emu-val>. Otherwise, return <emu-val>false</emu-val>.</del></li><li><ins>If <emu-xref aoid="Type" id="_ref_93"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>px</var>) is BigInt and <emu-xref aoid="Type" id="_ref_94"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>py</var>) is String, then</ins><ol><li><ins>Let <var>ny</var> be <emu-xref aoid="StringToBigInt" id="_ref_95"><a href="#sec-string-to-bigint">StringToBigInt</a></emu-xref>(<var>py</var>).</ins></li><li><ins>If <var>ny</var> is <emu-val>NaN</emu-val>, return <emu-val>undefined</emu-val>.</ins></li><li><ins>Return BigInt::lessThan(<var>px</var>, <var>ny</var>).</ins></li></ol></li><li><ins>If <emu-xref aoid="Type" id="_ref_96"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>px</var>) is String and <emu-xref aoid="Type" id="_ref_97"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>py</var>) is BigInt, then</ins><ol><li><ins>Let <var>nx</var> be <emu-xref aoid="StringToBigInt" id="_ref_98"><a href="#sec-string-to-bigint">StringToBigInt</a></emu-xref>(<var>px</var>).</ins></li><li><ins>If <var>nx</var> is <emu-val>NaN</emu-val>, return <emu-val>undefined</emu-val>.</ins></li><li><ins>Return BigInt::lessThan(<var>nx</var>, <var>py</var>).</ins></li></ol></li><li><ins>Let <var>nx</var> be ?&nbsp;<emu-xref aoid="ToNumeric" id="_ref_99"><a href="#sec-tonumeric">ToNumeric</a></emu-xref>(<var>px</var>). NOTE: Because <var>px</var> and <var>py</var> are primitive values evaluation order is not important.</ins></li><li><ins>Let <var>ny</var> be ?&nbsp;<emu-xref aoid="ToNumeric" id="_ref_100"><a href="#sec-tonumeric">ToNumeric</a></emu-xref>(<var>py</var>).</ins></li><li><ins>If <emu-xref aoid="Type" id="_ref_101"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>nx</var>) is the same as <emu-xref aoid="Type" id="_ref_102"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>ny</var>), return <emu-xref aoid="Type" id="_ref_103"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>nx</var>)::lessThan(<var>nx</var>, <var>ny</var>).</ins></li><li><ins>Assert: <emu-xref aoid="Type" id="_ref_104"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>nx</var>) is BigInt and <emu-xref aoid="Type" id="_ref_105"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>ny</var>) is Number, or <emu-xref aoid="Type" id="_ref_106"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>nx</var>) is Number and <emu-xref aoid="Type" id="_ref_107"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>ny</var>) is BigInt.</ins></li><li><ins>If <var>nx</var> or <var>ny</var> is <emu-val>NaN</emu-val>, return <emu-val>undefined</emu-val>.</ins></li><li><ins>If <var>nx</var> is <emu-val>-</emu-val> or <var>ny</var> is <emu-val>+</emu-val>, return <emu-val>true</emu-val>.</ins></li><li><ins>If <var>nx</var> is <emu-val>+</emu-val> or <var>ny</var> is <emu-val>-</emu-val>, return <emu-val>false</emu-val>.</ins></li><li><ins>If the mathematical value of <var>nx</var> is less than the mathematical value of <var>ny</var>, return <emu-val>true</emu-val>, otherwise return <emu-val>false</emu-val>.</ins>
      </li></ol></li></ol></emu-alg>
      <emu-integration-plans>The previous Number-related contents of this algorithm will be moved into Number::lessThan.</emu-integration-plans>
    </emu-clause>

    <!-- es6num="7.2.12" -->
    <emu-clause id="sec-abstract-equality-comparison" aoid="Abstract Equality Comparison">
      <h1><span class="secnum">3.2.5</span>Abstract Equality Comparison</h1>
      <p>The comparison <var>x</var> == <var>y</var>, where <var>x</var> and <var>y</var> are values, produces <emu-val>true</emu-val> or <emu-val>false</emu-val>. Such a comparison is performed as follows:</p>
      <emu-alg><ol><li>If <emu-xref aoid="Type" id="_ref_108"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is the same as <emu-xref aoid="Type" id="_ref_109"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>), then<ol><li>Return the result of performing <emu-xref aoid="Strict Equality Comparison" id="_ref_110"><a href="#sec-strict-equality-comparison">Strict Equality Comparison</a></emu-xref> <var>x</var> === <var>y</var>.</li></ol></li><li>If <var>x</var> is <emu-val>null</emu-val> and <var>y</var> is <emu-val>undefined</emu-val>, return <emu-val>true</emu-val>.</li><li>If <var>x</var> is <emu-val>undefined</emu-val> and <var>y</var> is <emu-val>null</emu-val>, return <emu-val>true</emu-val>.</li><li>If <emu-xref aoid="Type" id="_ref_111"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Number and <emu-xref aoid="Type" id="_ref_112"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is String, return the result of the comparison <var>x</var> == <emu-xref aoid="ToNumber" id="_ref_113"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>y</var>).</li><li>If <emu-xref aoid="Type" id="_ref_114"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is String and <emu-xref aoid="Type" id="_ref_115"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is Number, return the result of the comparison <emu-xref aoid="ToNumber" id="_ref_116"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>x</var>) == <var>y</var>.</li><li><ins>If <emu-xref aoid="Type" id="_ref_117"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is BigInt and <emu-xref aoid="Type" id="_ref_118"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is String, then</ins><ol><li><ins>Let <var>n</var> be <emu-xref aoid="StringToBigInt" id="_ref_119"><a href="#sec-string-to-bigint">StringToBigInt</a></emu-xref>(<var>y</var>).</ins></li><li><ins>If <var>n</var> is <emu-val>NaN</emu-val>, return <emu-val>false</emu-val>.</ins></li><li><ins>Return the result of the comparison <var>x</var> == <var>n</var>.</ins></li></ol></li><li><ins>If <emu-xref aoid="Type" id="_ref_120"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is String and <emu-xref aoid="Type" id="_ref_121"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is BigInt, return the result of the comparison <var>y</var> == <var>x</var>.</ins></li><li>If <emu-xref aoid="Type" id="_ref_122"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Boolean, return the result of the comparison <emu-xref aoid="ToNumber" id="_ref_123"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>x</var>) == <var>y</var>.</li><li>If <emu-xref aoid="Type" id="_ref_124"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is Boolean, return the result of the comparison <var>x</var> == <emu-xref aoid="ToNumber" id="_ref_125"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>y</var>).</li><li>If <emu-xref aoid="Type" id="_ref_126"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is either String, Number, <ins>BigInt,</ins> or Symbol and <emu-xref aoid="Type" id="_ref_127"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is Object, return the result of the comparison <var>x</var> == ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_128"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>y</var>).</li><li>If <emu-xref aoid="Type" id="_ref_129"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Object and <emu-xref aoid="Type" id="_ref_130"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is either String, Number, <ins>BigInt,</ins> or Symbol, return the result of the comparison ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_131"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>x</var>) == <var>y</var>.</li><li><ins>If <emu-xref aoid="Type" id="_ref_132"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is BigInt and <emu-xref aoid="Type" id="_ref_133"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is Number, or if <emu-xref aoid="Type" id="_ref_134"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Number and <emu-xref aoid="Type" id="_ref_135"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is BigInt, then</ins><ol><li><ins>If <var>x</var> or <var>y</var> are any of <emu-val>NaN</emu-val>, <emu-val>+</emu-val>, or <emu-val>-</emu-val>, return <emu-val>false</emu-val>.</ins></li><li><ins>If the mathematical value of <var>x</var> is equal to the mathematical value of <var>y</var>, return <emu-val>true</emu-val>, otherwise return <emu-val>false</emu-val>.</ins></li></ol></li><li>Return <emu-val>false</emu-val>.
      </li></ol></emu-alg>
    </emu-clause>

    <!-- es6num="7.2.13" -->
    <emu-clause id="sec-strict-equality-comparison" aoid="Strict Equality Comparison">
      <h1><span class="secnum">3.2.6</span>Strict Equality Comparison</h1>
      <p>The comparison <var>x</var> === <var>y</var>, where <var>x</var> and <var>y</var> are values, produces <emu-val>true</emu-val> or <emu-val>false</emu-val>. Such a comparison is performed as follows:</p>
      <emu-alg><ol><li>If <emu-xref aoid="Type" id="_ref_136"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is different from <emu-xref aoid="Type" id="_ref_137"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>), return <emu-val>false</emu-val>.</li><li>If <emu-xref aoid="Type" id="_ref_138"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) is Number <ins>or BigInt</ins>, then<ol><li><del>If <var>x</var> is <emu-val>NaN</emu-val>, return <emu-val>false</emu-val>.</del></li><li><del>If <var>y</var> is <emu-val>NaN</emu-val>, return <emu-val>false</emu-val>.</del></li><li><del>If <var>x</var> is the same Number value as <var>y</var>, return <emu-val>true</emu-val>.</del></li><li><del>If <var>x</var> is <emu-val>+0</emu-val> and <var>y</var> is <emu-val>-0</emu-val>, return <emu-val>true</emu-val>.</del></li><li><del>If <var>x</var> is <emu-val>-0</emu-val> and <var>y</var> is <emu-val>+0</emu-val>, return <emu-val>true</emu-val>.</del></li><li><del>Return <emu-val>false</emu-val>.</del></li><li><ins>Return !&nbsp;<emu-xref aoid="Type" id="_ref_139"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>)::equal(<var>x</var>, <var>y</var>).</ins></li></ol></li><li>Return <a href="sec-samevaluenonnumber">SameValueNon<del>Number</del><ins>Numeric</ins></a>(<var>x</var>, <var>y</var>).
      </li></ol></emu-alg>
      <emu-integration-plans>The previous Number-related contents of this algorithm will be moved into Number::equal.</emu-integration-plans>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="sec-ecmascript-language-expressions">
  <h1><span class="secnum">4</span>ECMAScript Language: Expressions</h1>

  <emu-clause id="sec-update-expressions">
    <h1><span class="secnum">4.1</span>Update Expressions</h1>

    <!-- es6num="12.4.4" -->
    <emu-clause id="sec-postfix-increment-operator">
      <h1><span class="secnum">4.1.1</span>Postfix Increment Operator</h1>

      <!-- es6num="12.4.4.1" -->
      <emu-clause id="sec-postfix-increment-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.1.1.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="UpdateExpression" collapsed="" id="prod-UpdateExpression">
    <emu-nt><a href="#prod-UpdateExpression">UpdateExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="8bf8e31b"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a></emu-nt><emu-t>++</emu-t></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>lhs</var> be the result of evaluating <emu-nt><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a></emu-nt>.</li><li><del>Let <var>oldValue</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_140"><a href="#sec-tonumber">ToNumber</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_141"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lhs</var>)).</del></li><li><del>Let <var>newValue</var> be the result of adding the value 1 to <var>oldValue</var>, using the same rules as for the <code>+</code> operator (see <emu-xref href="#sec-applying-the-additive-operators-to-numbers"><a href="https://tc39.github.io/ecma262/#sec-applying-the-additive-operators-to-numbers">12.8.5</a></emu-xref>).</del></li><li><ins>Let <var>oldValue</var> be ?&nbsp;<emu-xref aoid="ToNumeric" id="_ref_142"><a href="#sec-tonumeric">ToNumeric</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_143"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lhs</var>)).</ins></li><li><ins>Let <var>newValue</var> be ?&nbsp;<emu-xref aoid="Type" id="_ref_144"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldvalue</var>)::add(<var>oldValue</var>, <emu-xref aoid="Type" id="_ref_145"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldValue</var>)::unit).</ins></li><li>Perform ?&nbsp;<emu-xref aoid="PutValue" id="_ref_146"><a href="https://tc39.github.io/ecma262/#sec-putvalue">PutValue</a></emu-xref>(<var>lhs</var>, <var>newValue</var>).</li><li>Return <var>oldValue</var>.
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.4.5" -->
    <emu-clause id="sec-postfix-decrement-operator">
      <h1><span class="secnum">4.1.2</span>Postfix Decrement Operator</h1>

      <!-- es6num="12.4.5.1" -->
      <emu-clause id="sec-postfix-decrement-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.1.2.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="UpdateExpression" collapsed="">
    <emu-nt><a href="#prod-UpdateExpression">UpdateExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="8d1d2d72"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a></emu-nt><emu-t>--</emu-t></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>lhs</var> be the result of evaluating <emu-nt><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a></emu-nt>.</li><li><del>Let <var>oldValue</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_147"><a href="#sec-tonumber">ToNumber</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_148"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lhs</var>)).</del></li><li><del>Let <var>newValue</var> be the result of subtracting the value 1 from <var>oldValue</var>, using the same rules as for the <code>-</code> operator (see <emu-xref href="#sec-applying-the-additive-operators-to-numbers"><a href="https://tc39.github.io/ecma262/#sec-applying-the-additive-operators-to-numbers">12.8.5</a></emu-xref>).</del></li><li><ins>Let <var>oldValue</var> be ?&nbsp;<emu-xref aoid="ToNumeric" id="_ref_149"><a href="#sec-tonumeric">ToNumeric</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_150"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lhs</var>)).</ins></li><li><ins>Let <var>newValue</var> be ?&nbsp;<emu-xref aoid="Type" id="_ref_151"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldvalue</var>)::subtract(<var>oldValue</var>, <emu-xref aoid="Type" id="_ref_152"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldValue</var>)::unit).</ins></li><li>Perform ?&nbsp;<emu-xref aoid="PutValue" id="_ref_153"><a href="https://tc39.github.io/ecma262/#sec-putvalue">PutValue</a></emu-xref>(<var>lhs</var>, <var>newValue</var>).</li><li>Return <var>oldValue</var>.
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.5.7" -->
    <emu-clause id="sec-prefix-increment-operator">
      <h1><span class="secnum">4.1.3</span>Prefix Increment Operator</h1>

      <!-- es6num="12.5.7.1" -->
      <emu-clause id="sec-prefix-increment-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.1.3.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="UpdateExpression" collapsed="">
    <emu-nt><a href="#prod-UpdateExpression">UpdateExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="5701b162"><emu-t>++</emu-t><emu-nt id="_ref_471"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>expr</var> be the result of evaluating <emu-nt id="_ref_472"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt>.</li><li><del>Let <var>oldValue</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_154"><a href="#sec-tonumber">ToNumber</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_155"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>expr</var>)).</del></li><li><del>Let <var>newValue</var> be the result of adding the value 1 to <var>oldValue</var>, using the same rules as for the <code>+</code> operator (see <emu-xref href="#sec-applying-the-additive-operators-to-numbers"><a href="https://tc39.github.io/ecma262/#sec-applying-the-additive-operators-to-numbers">12.8.5</a></emu-xref>).</del></li><li><ins>Let <var>oldValue</var> be ?&nbsp;<emu-xref aoid="ToNumeric" id="_ref_156"><a href="#sec-tonumeric">ToNumeric</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_157"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>expr</var>)).</ins></li><li><ins>Let <var>newValue</var> be ?&nbsp;<emu-xref aoid="Type" id="_ref_158"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldvalue</var>)::add(<var>oldValue</var>, <emu-xref aoid="Type" id="_ref_159"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldValue</var>)::unit).</ins></li><li>Perform ?&nbsp;<emu-xref aoid="PutValue" id="_ref_160"><a href="https://tc39.github.io/ecma262/#sec-putvalue">PutValue</a></emu-xref>(<var>expr</var>, <var>newValue</var>).</li><li>Return <var>newValue</var>.
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.5.8" -->
    <emu-clause id="sec-prefix-decrement-operator">
      <h1><span class="secnum">4.1.4</span>Prefix Decrement Operator</h1>

      <!-- es6num="12.5.8.1" -->
      <emu-clause id="sec-prefix-decrement-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.1.4.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="UpdateExpression" collapsed="">
    <emu-nt><a href="#prod-UpdateExpression">UpdateExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="3a745559"><emu-t>--</emu-t><emu-nt id="_ref_473"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>expr</var> be the result of evaluating <emu-nt id="_ref_474"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt>.</li><li><del>Let <var>oldValue</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_161"><a href="#sec-tonumber">ToNumber</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_162"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>expr</var>)).</del></li><li><del>Let <var>newValue</var> be the result of subtracting the value 1 from <var>oldValue</var>, using the same rules as for the <code>-</code> operator (see <emu-xref href="#sec-applying-the-additive-operators-to-numbers"><a href="https://tc39.github.io/ecma262/#sec-applying-the-additive-operators-to-numbers">12.8.5</a></emu-xref>).</del></li><li><ins>Let <var>oldValue</var> be ?&nbsp;<emu-xref aoid="ToNumeric" id="_ref_163"><a href="#sec-tonumeric">ToNumeric</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_164"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>expr</var>)).</ins></li><li><ins>Let <var>newValue</var> be ?&nbsp;<emu-xref aoid="Type" id="_ref_165"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldvalue</var>)::subtract(<var>oldValue</var>, <emu-xref aoid="Type" id="_ref_166"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldValue</var>)::unit).</ins></li><li>Perform ?&nbsp;<emu-xref aoid="PutValue" id="_ref_167"><a href="https://tc39.github.io/ecma262/#sec-putvalue">PutValue</a></emu-xref>(<var>expr</var>, <var>newValue</var>).</li><li>Return <var>newValue</var>.
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>
  </emu-clause>
  <emu-clause id="sec-unary-operators">
    <h1><span class="secnum">4.2</span>Unary Operators</h1>
    <!-- es6num="12.5.6" -->
    <emu-clause id="sec-typeof-operator">
      <h1><span class="secnum">4.2.1</span>The <code>typeof</code> Operator</h1>

      <!-- es6num="12.5.6.1" -->
      <emu-clause id="sec-typeof-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.2.1.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="UnaryExpression" collapsed="" id="prod-UnaryExpression">
    <emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="ab1a2cb9"><emu-t>typeof</emu-t><emu-nt id="_ref_475"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-table id="table-35" caption="typeof Operator Results"><figure><figcaption>Table 8: typeof Operator Results</figcaption>
          <table>
            <tbody>
            <tr>
              <th>
                Type of <var>val</var>
              
              </th>
              <th>
                Result
              
              </th>
            </tr>
            <tr>
              <td>
                <ins>BigInt</ins>
              </td>
              <td>
                <ins><code>"bigint"</code></ins>
              </td>
            </tr>
            </tbody>
          </table>
        </figure></emu-table>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.5.9" -->
    <emu-clause id="sec-unary-plus-operator">
      <h1><span class="secnum">4.2.2</span>Unary <code>+</code> Operator</h1>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>The unary + operator converts its operand to Number type.</p>
      </div></emu-note>

      <!-- es6num="12.5.9.1" -->
      <emu-clause id="sec-unary-plus-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.2.2.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="UnaryExpression" collapsed="">
    <emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="3b49039a"><emu-t>+</emu-t><emu-nt id="_ref_476"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>expr</var> be the result of evaluating <emu-nt id="_ref_477"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt>.</li><li>Return ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_168"><a href="#sec-tonumber">ToNumber</a></emu-xref>(? <emu-xref aoid="GetValue" id="_ref_169"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>expr</var>)).
        </li></ol></emu-alg>
        <emu-motivation>The definition here is unchanged, and still uses <emu-xref aoid="ToNumber" id="_ref_170"><a href="#sec-tonumber">ToNumber</a></emu-xref> rather than <emu-xref aoid="ToNumeric" id="_ref_171"><a href="#sec-tonumeric">ToNumeric</a></emu-xref>. This means that <code>+</code> will throw on BigInts. The semantics here are designed to allow expressions of the form <code>+x</code> to always return Numbers, which is necessary to  <a href="https://github.com/tc39/proposal-bigint/blob/master/README.md#dont-break-asmjs">preserve assumptions made by asm.js</a>.</emu-motivation>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.5.10" -->
    <emu-clause id="sec-unary-minus-operator">
      <h1><span class="secnum">4.2.3</span>Unary <code>-</code> Operator</h1>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>The unary <code>-</code> operator converts its operand to Number type and then negates it. Negating <emu-val>+0</emu-val> produces <emu-val>-0</emu-val>, and negating <emu-val>-0</emu-val> produces <emu-val>+0</emu-val>.</p>
      </div></emu-note>

      <!-- es6num="12.5.10.1" -->
      <emu-clause id="sec-unary-minus-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.2.3.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="UnaryExpression" collapsed="">
    <emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="a03cca5c"><emu-t>-</emu-t><emu-nt id="_ref_478"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>expr</var> be the result of evaluating <emu-nt id="_ref_479"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt>.</li><li>Let <var>oldValue</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_172"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_173"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(? <emu-xref aoid="GetValue" id="_ref_174"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>expr</var>)).</li><li><del>If <var>oldValue</var> is <emu-val>NaN</emu-val>, return <emu-val>NaN</emu-val>.</del></li><li><del>Return the result of negating <var>oldValue</var>; that is, compute a Number with the same magnitude but opposite sign.</del></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_175"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldValue</var>).</ins></li><li><ins>Return ? <var>T</var>::unaryMinus(<var>oldValue</var>).</ins>
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.5.11" -->
    <emu-clause id="sec-bitwise-not-operator">
      <h1><span class="secnum">4.2.4</span>Bitwise NOT Operator ( <code>~</code> )</h1>

      <!-- es6num="12.5.11.1" -->
      <emu-clause id="sec-bitwise-not-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.2.4.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="UnaryExpression" collapsed="">
    <emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="07d36a79"><emu-t>~</emu-t><emu-nt id="_ref_480"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>expr</var> be the result of evaluating <emu-nt id="_ref_481"><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt>.</li><li>Let <var>oldValue</var> be ? <del><emu-xref aoid="ToInt32" id="_ref_176"><a href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_177"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(? <emu-xref aoid="GetValue" id="_ref_178"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>expr</var>)).</li><li><del>Return the result of applying bitwise complement to <var>oldValue</var>. The result is a signed 32-bit integer.</del></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_179"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>oldValue</var>).</ins></li><li><ins>Return ? <var>T</var>::bitwiseNOT(<var>oldValue</var>).</ins>
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-exp-operator">
    <h1><span class="secnum">4.3</span>Exponentiation Operator</h1>
    <emu-clause id="sec-exp-operator-runtime-semantics-evaluation">
      <h1><span class="secnum">4.3.1</span>Runtime Semantics: Evaluation</h1>
      <emu-grammar><emu-production name="ExponentiationExpression" collapsed="" id="prod-ExponentiationExpression">
    <emu-nt><a href="#prod-ExponentiationExpression">ExponentiationExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d1905fcc"><emu-nt id="_ref_482"><a href="#prod-UpdateExpression">UpdateExpression</a></emu-nt><emu-t>**</emu-t><emu-nt id="_ref_483"><a href="#prod-ExponentiationExpression">ExponentiationExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
      <emu-alg><ol><li>Let <var>left</var> be the result of evaluating <var>UpdateExpression</var>.</li><li>Let <var>leftValue</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_180"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>left</var>).</li><li>Let <var>right</var> be the result of evaluating <var>ExponentiationExpression</var>.</li><li>Let <var>rightValue</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_181"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>right</var>).</li><li>Let <var>base</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_182"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_183"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>leftValue</var>).</li><li>Let <var>exponent</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_184"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_185"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>rightValue</var>).</li><li><del>Return the result of <emu-xref href="#sec-applying-the-exp-operator" title=""><a href="https://tc39.github.io/ecma262/#sec-applying-the-exp-operator">Applying the ** operator</a></emu-xref> with <var>base</var> and <var>exponent</var> as specified in <emu-xref href="#sec-applying-the-exp-operator"><a href="https://tc39.github.io/ecma262/#sec-applying-the-exp-operator">12.7.3.4</a></emu-xref>.</del></li><li><ins>If <emu-xref aoid="Type" id="_ref_186"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>base</var>) is different from <emu-xref aoid="Type" id="_ref_187"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>exponent</var>), throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Return ?&nbsp;<emu-xref aoid="Type" id="_ref_188"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>base</var>)::exponentiate(<var>base</var>, <var>exponent</var>).</ins>
      </li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <!-- es6num="12.6" -->
  <emu-clause id="sec-multiplicative-operators">
    <h1><span class="secnum">4.4</span>Multiplicative Operators</h1>
    <!-- es6num="12.6.3" -->
    <emu-clause id="sec-multiplicative-operators-runtime-semantics-evaluation">
      <h1><span class="secnum">4.4.1</span>Runtime Semantics: Evaluation</h1>
      <emu-grammar><emu-production name="MultiplicativeExpression" collapsed="" id="prod-MultiplicativeExpression">
    <emu-nt><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="fb9fe2a0"><emu-nt id="_ref_484"><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-MultiplicativeOperator">MultiplicativeOperator</a></emu-nt><emu-nt id="_ref_485"><a href="#prod-ExponentiationExpression">ExponentiationExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
      <emu-alg><ol><li>Let <var>left</var> be the result of evaluating <emu-nt id="_ref_486"><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt>.</li><li>Let <var>leftValue</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_189"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>left</var>).</li><li>Let <var>right</var> be the result of evaluating <emu-nt id="_ref_487"><a href="#prod-ExponentiationExpression">ExponentiationExpression</a></emu-nt>.</li><li>Let <var>rightValue</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_190"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>right</var>).</li><li>Let <var>lnum</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_191"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_192"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>leftValue</var>).</li><li>Let <var>rnum</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_193"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_194"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>rightValue</var>).</li><li><del>Return the result of applying the <emu-nt><a href="https://tc39.github.io/ecma262/#prod-MultiplicativeOperator">MultiplicativeOperator</a></emu-nt> (<code>*</code>, <code>/</code>, or <code>%</code>) to <var>lnum</var> and <var>rnum</var> as specified in <emu-xref href="#sec-applying-the-mul-operator"><a href="https://tc39.github.io/ecma262/#sec-applying-the-mul-operator">12.7.3.1</a></emu-xref>, <emu-xref href="#sec-applying-the-div-operator"><a href="https://tc39.github.io/ecma262/#sec-applying-the-div-operator">12.7.3.2</a></emu-xref>, or <emu-xref href="#sec-applying-the-mod-operator"><a href="https://tc39.github.io/ecma262/#sec-applying-the-mod-operator">12.7.3.3</a></emu-xref>.</del></li><li><ins>If <emu-xref aoid="Type" id="_ref_195"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>) is different from <emu-xref aoid="Type" id="_ref_196"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>rnum</var>), throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_197"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>).</ins></li><li><ins>If <emu-nt><a href="https://tc39.github.io/ecma262/#prod-MultiplicativeOperator">MultiplicativeOperator</a></emu-nt> is <code>*</code>, return <var>T</var>::multiply(<var>lnum</var>, <var>rnum</var>).</ins></li><li><ins>If <emu-nt><a href="https://tc39.github.io/ecma262/#prod-MultiplicativeOperator">MultiplicativeOperator</a></emu-nt> is <code>/</code>, return <var>T</var>::divide(<var>lnum</var>, <var>rnum</var>).</ins></li><li><ins>Otherwise, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-MultiplicativeOperator">MultiplicativeOperator</a></emu-nt> is <code>%</code>; return <var>T</var>::remainder(<var>lnum</var>, <var>rnum</var>).</ins>
      </li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <!-- es6num="12.7" -->
  <emu-clause id="sec-additive-operators">
    <h1><span class="secnum">4.5</span>Additive Operators</h1>
    <emu-clause id="sec-addition-operator-plus">
      <h1><span class="secnum">4.5.1</span>The Addition Operator ( <code>+</code> )</h1>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>The addition operator either performs string concatenation or numeric addition.</p>
      </div></emu-note>

      <!-- es6num="12.7.3.1" -->
      <emu-clause id="sec-addition-operator-plus-runtime-semantics-evaluation">
        <h1><span class="secnum">4.5.1.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="AdditiveExpression" collapsed="" id="prod-AdditiveExpression">
    <emu-nt><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="0e497b17"><emu-nt id="_ref_488"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt><emu-t>+</emu-t><emu-nt id="_ref_489"><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>lref</var> be the result of evaluating <emu-nt id="_ref_490"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt>.</li><li>Let <var>lval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_198"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lref</var>).</li><li>Let <var>rref</var> be the result of evaluating <emu-nt id="_ref_491"><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt>.</li><li>Let <var>rval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_199"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>rref</var>).</li><li>Let <var>lprim</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_200"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>lval</var>).</li><li>Let <var>rprim</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_201"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>rval</var>).</li><li>If <emu-xref aoid="Type" id="_ref_202"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lprim</var>) is String or <emu-xref aoid="Type" id="_ref_203"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>rprim</var>) is String, then<ol><li>Let <var>lstr</var> be ?&nbsp;<emu-xref aoid="ToString" id="_ref_204"><a href="#sec-tostring">ToString</a></emu-xref>(<var>lprim</var>).</li><li>Let <var>rstr</var> be ?&nbsp;<emu-xref aoid="ToString" id="_ref_205"><a href="#sec-tostring">ToString</a></emu-xref>(<var>rprim</var>).</li><li>Return the string-concatenation of <var>lstr</var> and <var>rstr</var>.</li></ol></li><li>Let <var>lnum</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_206"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_207"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>lprim</var>).</li><li>Let <var>rnum</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_208"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_209"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>rprim</var>).</li><li><del>Return the result of applying the addition operation to <var>lnum</var> and <var>rnum</var>. See the Note below <emu-xref href="#sec-applying-the-additive-operators-to-numbers"><a href="https://tc39.github.io/ecma262/#sec-applying-the-additive-operators-to-numbers">12.8.5</a></emu-xref>.</del></li><li><ins>If <emu-xref aoid="Type" id="_ref_210"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>) is different from <emu-xref aoid="Type" id="_ref_211"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>rnum</var>), throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_212"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>).</ins></li><li><ins>Return <var>T</var>::add(<var>lnum</var>, <var>rnum</var>).</ins>
        </li></ol></emu-alg>
        <emu-note><span class="note">Note 1</span><div class="note-contents">
          <p>No hint is provided in the calls to <emu-xref aoid="ToPrimitive" id="_ref_213"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref> in steps 5 and 6. All standard objects except Date objects handle the absence of a hint as if the hint Number were given; Date objects handle the absence of a hint as if the hint String were given. Exotic objects may handle the absence of a hint in some other manner.</p>
        </div></emu-note>
        <emu-note><span class="note">Note 2</span><div class="note-contents">
          <p>Step 7 differs from step 5 of the <emu-xref aoid="Abstract Relational Comparison" id="_ref_214"><a href="#sec-abstract-relational-comparison">Abstract Relational Comparison</a></emu-xref> algorithm, by using the logical-or operation instead of the logical-and operation.</p>
        </div></emu-note>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.7.4" -->
    <emu-clause id="sec-subtraction-operator-minus">
      <h1><span class="secnum">4.5.2</span>The Subtraction Operator ( <code>-</code> )</h1>

      <!-- es6num="12.7.4.1" -->
      <emu-clause id="sec-subtraction-operator-minus-runtime-semantics-evaluation">
        <h1><span class="secnum">4.5.2.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="AdditiveExpression" collapsed="">
    <emu-nt><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="ee054414"><emu-nt id="_ref_492"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt><emu-t>-</emu-t><emu-nt id="_ref_493"><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>lref</var> be the result of evaluating <emu-nt id="_ref_494"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt>.</li><li>Let <var>lval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_215"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lref</var>).</li><li>Let <var>rref</var> be the result of evaluating <emu-nt id="_ref_495"><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt>.</li><li>Let <var>rval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_216"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>rref</var>).</li><li>Let <var>lnum</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_217"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_218"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>lval</var>).</li><li>Let <var>rnum</var> be ? <del><emu-xref aoid="ToNumber" id="_ref_219"><a href="#sec-tonumber">ToNumber</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_220"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>rval</var>).</li><li><del>Return the result of applying the subtraction operation to <var>lnum</var> and <var>rnum</var>. See the note below <emu-xref href="#sec-applying-the-additive-operators-to-numbers"><a href="https://tc39.github.io/ecma262/#sec-applying-the-additive-operators-to-numbers">12.8.5</a></emu-xref>.</del></li><li><ins>If <emu-xref aoid="Type" id="_ref_221"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>) is different from <emu-xref aoid="Type" id="_ref_222"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>rnum</var>), throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_223"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>).</ins></li><li><ins>Return <var>T</var>::subtract(<var>lnum</var>, <var>rnum</var>).</ins>
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>
  </emu-clause>

  <!-- es6num="12.8" -->
  <emu-clause id="sec-bitwise-shift-operators">
    <h1><span class="secnum">4.6</span>Bitwise Shift Operators</h1>

    <!-- es6num="12.8.3" -->
    <emu-clause id="sec-left-shift-operator">
      <h1><span class="secnum">4.6.1</span>The Left Shift Operator ( <code>&lt;&lt;</code> )</h1>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>Performs a bitwise left shift operation on the left operand by the amount specified by the right operand.</p>
      </div></emu-note>

      <!-- es6num="12.8.3.1" -->
      <emu-clause id="sec-left-shift-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.6.1.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="ShiftExpression" collapsed="" id="prod-ShiftExpression">
    <emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="b46f532a"><emu-nt id="_ref_496"><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-t>&lt;&lt;</emu-t><emu-nt id="_ref_497"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>lref</var> be the result of evaluating <emu-nt id="_ref_498"><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt>.</li><li>Let <var>lval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_224"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lref</var>).</li><li>Let <var>rref</var> be the result of evaluating <emu-nt id="_ref_499"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt>.</li><li>Let <var>rval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_225"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>rref</var>).</li><li>Let <var>lnum</var> be ? <del><emu-xref aoid="ToInt32" id="_ref_226"><a href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_227"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>lval</var>).</li><li>Let <var>rnum</var> be ? <del><emu-xref aoid="ToUint32" id="_ref_228"><a href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_229"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>rval</var>).</li><li><del>Let <var>shiftCount</var> be the result of masking out all but the least significant 5 bits of <var>rnum</var>, that is, compute <var>rnum</var> &amp; 0x1F.</del></li><li><del>Return the result of left shifting <var>lnum</var> by <var>shiftCount</var> bits. The result is a signed 32-bit integer.</del></li><li><ins>If <emu-xref aoid="Type" id="_ref_230"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>) is different from <emu-xref aoid="Type" id="_ref_231"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>rnum</var>), throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_232"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>).</ins></li><li><ins>Return <var>T</var>::leftShift(<var>lnum</var>, <var>rnum</var>).</ins>
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.8.4" -->
    <emu-clause id="sec-signed-right-shift-operator">
      <h1><span class="secnum">4.6.2</span>The Signed Right Shift Operator ( <code>&gt;&gt;</code> )</h1>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>Performs a sign-filling bitwise right shift operation on the left operand by the amount specified by the right operand.</p>
      </div></emu-note>

      <!-- es6num="12.8.4.1" -->
      <emu-clause id="sec-signed-right-shift-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.6.2.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="ShiftExpression" collapsed="">
    <emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="548327f3"><emu-nt id="_ref_500"><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-t>&gt;&gt;</emu-t><emu-nt id="_ref_501"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>lref</var> be the result of evaluating <emu-nt id="_ref_502"><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt>.</li><li>Let <var>lval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_233"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lref</var>).</li><li>Let <var>rref</var> be the result of evaluating <emu-nt id="_ref_503"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt>.</li><li>Let <var>rval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_234"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>rref</var>).</li><li>Let <var>lnum</var> be ? <del><emu-xref aoid="ToInt32" id="_ref_235"><a href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_236"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>lval</var>).</li><li>Let <var>rnum</var> be ? <del><emu-xref aoid="ToUint32" id="_ref_237"><a href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_238"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>rval</var>).</li><li><del>Let <var>shiftCount</var> be the result of masking out all but the least significant 5 bits of <var>rnum</var>, that is, compute <var>rnum</var> &amp; 0x1F.</del></li><li><del>Return the result of performing a sign-extending right shift of <var>lnum</var> by <var>shiftCount</var> bits. The most significant bit is propagated. The result is a signed 32-bit integer.</del></li><li><ins>If <emu-xref aoid="Type" id="_ref_239"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>) is different from <emu-xref aoid="Type" id="_ref_240"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>rnum</var>), throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_241"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>).</ins></li><li><ins>Return <var>T</var>::signedRightShift(<var>lnum</var>, <var>rnum</var>).</ins>
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <!-- es6num="12.8.5" -->
    <emu-clause id="sec-unsigned-right-shift-operator">
      <h1><span class="secnum">4.6.3</span>The Unsigned Right Shift Operator ( <code>&gt;&gt;&gt;</code> )</h1>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>Performs a zero-filling bitwise right shift operation on the left operand by the amount specified by the right operand.</p>
      </div></emu-note>

      <!-- es6num="12.8.5.1" -->
      <emu-clause id="sec-unsigned-right-shift-operator-runtime-semantics-evaluation">
        <h1><span class="secnum">4.6.3.1</span>Runtime Semantics: Evaluation</h1>
        <emu-grammar><emu-production name="ShiftExpression" collapsed="">
    <emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="37f16eac"><emu-nt id="_ref_504"><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-t>&gt;&gt;&gt;</emu-t><emu-nt id="_ref_505"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>lref</var> be the result of evaluating <emu-nt id="_ref_506"><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt>.</li><li>Let <var>lval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_242"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lref</var>).</li><li>Let <var>rref</var> be the result of evaluating <emu-nt id="_ref_507"><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt>.</li><li>Let <var>rval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_243"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>rref</var>).</li><li>Let <var>lnum</var> be ? <del><emu-xref aoid="ToInt32" id="_ref_244"><a href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_245"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>lval</var>).</li><li>Let <var>rnum</var> be ? <del><emu-xref aoid="ToUint32" id="_ref_246"><a href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_247"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>rval</var>).</li><li><del>Let <var>shiftCount</var> be the result of masking out all but the least significant 5 bits of <var>rnum</var>, that is, compute <var>rnum</var> &amp; 0x1F.</del></li><li><del>Return the result of performing a zero-filling right shift of <var>lnum</var> by <var>shiftCount</var> bits. Vacated bits are filled with zero. The result is an unsigned 32-bit integer.</del></li><li><ins>If <emu-xref aoid="Type" id="_ref_248"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>) is different from <emu-xref aoid="Type" id="_ref_249"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>rnum</var>), throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_250"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>).</ins></li><li><ins>Return <var>T</var>::unsignedRightShift(<var>lnum</var>, <var>rnum</var>).</ins>
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>
  </emu-clause>

  <!-- es6num="12.11" -->
  <emu-clause id="sec-binary-bitwise-operators">
    <h1><span class="secnum">4.7</span>Binary Bitwise Operators</h1>

    <!-- es6num="12.11.3" -->
    <emu-clause id="sec-binary-bitwise-operators-runtime-semantics-evaluation">
      <h1><span class="secnum">4.7.1</span>Runtime Semantics: Evaluation</h1>
      <p>The production  <emu-grammar><emu-production name="A" collapsed="" id="prod-A" class=" inline">
    <emu-nt><a href="#prod-A">A</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="262863af"><emu-nt id="_ref_508"><a href="#prod-A">A</a></emu-nt><emu-t placeholder="">@</emu-t><emu-nt>B</emu-nt></emu-rhs>
</emu-production></emu-grammar>, where @ is one of the bitwise operators in the productions above, is evaluated as follows:</p>
      <emu-alg><ol><li>Let <var>lref</var> be the result of evaluating <var>A</var>.</li><li>Let <var>lval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_251"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>lref</var>).</li><li>Let <var>rref</var> be the result of evaluating <var>B</var>.</li><li>Let <var>rval</var> be ?&nbsp;<emu-xref aoid="GetValue" id="_ref_252"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>rref</var>).</li><li>Let <var>lnum</var> be ? <del><emu-xref aoid="ToInt32" id="_ref_253"><a href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_254"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>lval</var>).</li><li>Let <var>rnum</var> be ? <del><emu-xref aoid="ToUint32" id="_ref_255"><a href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a></emu-xref></del><ins><emu-xref aoid="ToNumeric" id="_ref_256"><a href="#sec-tonumeric">ToNumeric</a></emu-xref></ins>(<var>rval</var>).</li><li><ins>If <emu-xref aoid="Type" id="_ref_257"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>) is different from <emu-xref aoid="Type" id="_ref_258"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>rnum</var>), throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Let <var>T</var> be <emu-xref aoid="Type" id="_ref_259"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>lnum</var>).</ins></li><li><ins>If @ is <code>&amp;</code>, return <var>T</var>::bitwiseAND(<var>lnum</var>, <var>rnum</var>).</ins></li><li><ins>If @ is <code>|</code>, return <var>T</var>::bitwiseOR(<var>lnum</var>, <var>rnum</var>).</ins></li><li><ins>Otherwise, @ is <code>^</code>; return <var>T</var>::bitwiseXOR(<var>lnum</var>, <var>rnum</var>).</ins>
      </li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="sec-bigint-objects">
  <h1><span class="secnum">5</span>BigInt Objects</h1>
    <emu-clause id="sec-bigint-constructor">
      <h1><span class="secnum">5.1</span>The BigInt Constructor</h1>
      <p>The BigInt constructor is the  <dfn>%BigInt%</dfn> intrinsic object and the initial value of the <code>BigInt</code> property of the <emu-xref href="#global-object"><a href="https://tc39.github.io/ecma262/#global-object">global object</a></emu-xref>. When <code>BigInt</code> is called as a function, it performs a type conversion.</p>

      <p>The <code>BigInt</code> constructor is not intended to be used with the <code>new</code> operator or to be subclassed. It may be used as the value of an <code>extends</code> clause of a class definition but a <code>super</code> call to the <code>BigInt</code> constructor will cause an exception.</p>

      <emu-clause id="sec-is-integer" aoid="IsInteger">
        <h1><span class="secnum">5.1.1</span>IsInteger ( <var>number</var> )</h1>
        <emu-alg><ol><li>Assert: <emu-xref aoid="Type" id="_ref_260"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>number</var>) is Number.</li><li>If <var>number</var> is <emu-val>NaN</emu-val>, <emu-val>+</emu-val>, or <emu-val>-</emu-val>, return <emu-val>false</emu-val>.</li><li>Let <var>integer</var> be !&nbsp;<emu-xref aoid="ToInteger" id="_ref_261"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>number</var>).</li><li>If !&nbsp;<emu-xref aoid="SameValueZero" id="_ref_262"><a href="#sec-samevaluezero">SameValueZero</a></emu-xref>(<var>integer</var>, <var>number</var>) is <emu-val>false</emu-val>, return <emu-val>false</emu-val>.</li><li>Otherwise, return <emu-val>true</emu-val>.
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-number-to-bigint" aoid="NumberToBigInt">
        <h1><span class="secnum">5.1.2</span>NumberToBigInt ( <var>number</var> )</h1>
        <emu-alg><ol><li>Assert: <emu-xref aoid="Type" id="_ref_263"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>number</var>) is Number.</li><li>If <emu-xref aoid="IsInteger" id="_ref_264"><a href="#sec-is-integer">IsInteger</a></emu-xref>(<var>number</var>) is <emu-val>false</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return a BigInt representing the mathematical value of <var>number</var>.
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-bigint-constructor-number-value">
        <h1><span class="secnum">5.1.3</span>BigInt ( <var>value</var> )</h1>
        <p>When <code>BigInt</code> is called with argument <var>value</var>, the following steps are taken:</p>
        <emu-alg><ol><li>If NewTarget is not <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>prim</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_265"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>value</var>, hint Number).</li><li>If <emu-xref aoid="Type" id="_ref_266"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>prim</var>) is Number, return ?&nbsp;<emu-xref aoid="NumberToBigInt" id="_ref_267"><a href="#sec-number-to-bigint">NumberToBigInt</a></emu-xref>(<var>prim</var>).</li><li>Otherwise, return ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_268"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>value</var>).
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-properties-of-the-bigint-constructor">
      <h1><span class="secnum">5.2</span>Properties of the BigInt Constructor</h1>
      <p>The value of the [[Prototype]] internal slot of the BigInt constructor is the intrinsic object <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.github.io/ecma262/#sec-properties-of-the-function-prototype-object">%FunctionPrototype%</a></emu-xref>.</p>
      <p>The BigInt constructor has the following properties:</p>

      <!-- es6num="20.1.2.2" -->
      <emu-clause id="sec-bigint.asuintn">
        <h1><span class="secnum">5.2.1</span>BigInt.asUintN ( <var>bits</var>, <var>bigint</var> )</h1>
        <p>When the <code>BigInt.asUintN</code> function is called with two arguments <var>bits</var> and <var>bigint</var>, the following steps are taken:</p>
        <emu-alg><ol><li>Let <var>bits</var> be ?&nbsp;<emu-xref aoid="ToIndex" id="_ref_269"><a href="https://tc39.github.io/ecma262/#sec-toindex">ToIndex</a></emu-xref>(<var>bits</var>).</li><li>Let <var>bigint</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_270"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>bigint</var>).</li><li>Return a BigInt representing <var>bigint</var> <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> 2<sup><var>bits</var></sup>.
        </li></ol></emu-alg>
      </emu-clause>

      <!-- es6num="20.1.2.3" -->
      <emu-clause id="sec-bigint.asintn">
        <h1><span class="secnum">5.2.2</span>BigInt.asIntN ( <var>bits</var>, <var>bigint</var> )</h1>
        <p>When the <code>BigInt.asIntN</code> is called with two arguments <var>bits</var> and <var>bigint</var>, the following steps are taken:</p>
        <emu-alg><ol><li>Let <var>bits</var> be ?&nbsp;<emu-xref aoid="ToIndex" id="_ref_271"><a href="https://tc39.github.io/ecma262/#sec-toindex">ToIndex</a></emu-xref>(<var>bits</var>).</li><li>Let <var>bigint</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_272"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>bigint</var>).</li><li>Let <var>mod</var> be a BigInt representing <var>bigint</var> <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> 2<sup><var>bits</var></sup>.</li><li>If <var>mod</var>  2<sup><var>bits</var> - 1</sup>, return <var>mod</var> - 2<sup><var>bits</var></sup>; otherwise, return <var>mod</var>.
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-bigint.prototype">
        <h1><span class="secnum">5.2.3</span>BigInt.prototype</h1>
        <p>The initial value of <code>BigInt.prototype</code> is the intrinsic object <emu-xref href="#sec-properties-of-the-bigint-prototype-object" id="_ref_273"><a href="#sec-properties-of-the-bigint-prototype-object">%BigIntPrototype%</a></emu-xref>.</p>
        <p>This property has the attributes { [[Writable]]: <emu-val>false</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>false</emu-val> }.</p>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-properties-of-the-bigint-prototype-object">
      <h1><span class="secnum">5.3</span>Properties of the BigInt Prototype Object</h1>
      <p>The BigInt prototype object is the intrinsic object  <dfn>%BigIntPrototype%</dfn>. The BigInt prototype object is an ordinary object. The BigInt prototype is not a BigInt object; it does not have a [[BigIntData]] internal slot.</p>
      <p>The value of the [[Prototype]] internal slot of the BigInt prototype object is the intrinsic object <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.github.io/ecma262/#sec-properties-of-the-object-prototype-object">%ObjectPrototype%</a></emu-xref>.</p>
      <p>The abstract operation thisBigIntValue(<var>value</var>) performs the following steps:</p>
      <emu-alg><ol><li>If <emu-xref aoid="Type" id="_ref_274"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is BigInt, return <var>value</var>.</li><li>If <emu-xref aoid="Type" id="_ref_275"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is Object and <var>value</var> has a [[BigIntData]] internal slot, then<ol><li>Assert: <emu-xref aoid="Type" id="_ref_276"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>.[[BigIntData]]) is BigInt.</li><li>Return <var>value</var>.[[BigIntData]].</li></ol></li><li>Throw a <emu-val>TypeError</emu-val> exception.
      </li></ol></emu-alg>
      <p>The phrase this BigInt value within the specification of a method refers to the result returned by calling the abstract operation thisBigIntValue with the <emu-val>this</emu-val> value of the method invocation passed as the argument.</p>

      <!-- es6num="20.1.3.1" -->
      <emu-clause id="sec-bigint.prototype.constructor">
        <h1><span class="secnum">5.3.1</span>BigInt.prototype.constructor</h1>
        <p>The initial value of <code>BigInt.prototype.constructor</code> is the intrinsic object <emu-xref href="#sec-bigint-constructor" id="_ref_277"><a href="#sec-bigint-constructor">%BigInt%</a></emu-xref>.</p>
      </emu-clause>

      <!-- es6num="20.1.3.4" -->
      <emu-clause id="sec-bigint.prototype.tolocalestring">
        <h1><span class="secnum">5.3.2</span>BigInt.prototype.toLocaleString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</h1>
        <p>An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement the <code>BigInt.prototype.toLocaleString</code> method as specified in the ECMA-402 specification. If an ECMAScript implementation does not include the ECMA-402 API the following specification of the <code>toLocaleString</code> method is used.</p>
        <p>Produces a String value that represents this BigInt value formatted according to the conventions of the host environment's current locale. This function is implementation-dependent, and it is permissible, but not encouraged, for it to return the same thing as <code>toString</code>.</p>
        <p>The meanings of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.</p>
      </emu-clause>

      <!-- es6num="20.1.3.6" -->
      <emu-clause id="sec-bigint.prototype.tostring">
        <h1><span class="secnum">5.3.3</span>BigInt.prototype.toString ( [ <var>radix</var> ] )</h1>
        <emu-note><span class="note">Note</span><div class="note-contents">
          <p>The optional <var>radix</var> should be an integer value in the inclusive range 2 to 36. If <var>radix</var> not present or is <emu-val>undefined</emu-val> the Number 10 is used as the value of <var>radix</var>.</p>
        </div></emu-note>
        <p>The following steps are performed:</p>
        <emu-alg><ol><li>Let <var>x</var> be ?&nbsp;thisBigIntValue(<emu-val>this</emu-val> value).</li><li>If <var>radix</var> is not present, let <var>radixNumber</var> be 10.</li><li>Else if <var>radix</var> is <emu-val>undefined</emu-val>, let <var>radixNumber</var> be 10.</li><li>Else, let <var>radixNumber</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_278"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>radix</var>).</li><li>If <var>radixNumber</var> &lt; 2 or <var>radixNumber</var> &gt; 36, throw a <emu-val>RangeError</emu-val> exception.</li><li>If <var>radixNumber</var> = 10, return !&nbsp;<emu-xref aoid="ToString" id="_ref_279"><a href="#sec-tostring">ToString</a></emu-xref>(<var>x</var>).</li><li>Return the String representation of this Number value using the radix specified by <var>radixNumber</var>. Letters <code>a</code>-<code>z</code> are used for digits with values 10 through 35. The precise algorithm is implementation-dependent, however the algorithm should be a generalization of that specified in <emu-xref href="#sec-tostring-applied-to-the-bigint-type" id="_ref_24"><a href="#sec-tostring-applied-to-the-bigint-type">3.1.4.1</a></emu-xref>.
        </li></ol></emu-alg>
        <p>The <code>toString</code> function is not generic; it throws a <emu-val>TypeError</emu-val> exception if its <emu-val>this</emu-val> value is not a BigInt or a BigInt object. Therefore, it cannot be transferred to other kinds of objects for use as a method.</p>
      </emu-clause>

      <!-- es6num="20.1.3.7" -->
      <emu-clause id="sec-bigint.prototype.valueof">
        <h1><span class="secnum">5.3.4</span>BigInt.prototype.valueOf ( )</h1>
        <emu-alg><ol><li>Return ?&nbsp;thisBigIntValue(<emu-val>this</emu-val> value).
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-bigint-@@tostringtag">
        <h1><span class="secnum">5.3.5</span>BigInt.prototype [ @@toStringTag ]</h1>
        <p>The initial value of the @@toStringTag property is the String value <code>"BigInt"</code>.</p>
        <p>This property has the attributes { [[Writable]]: <emu-val>false</emu-val>, [[Enumerable]]: <emu-val>false</emu-val>, [[Configurable]]: <emu-val>true</emu-val> }.</p>
      </emu-clause>
    </emu-clause>
  </emu-clause>

<emu-clause id="sec-modifications">
  <h1><span class="secnum">6</span>Modified algorithms</h1>
      <!-- es6num="24.3.2.1" -->
      <emu-clause id="sec-serializejsonproperty" aoid="SerializeJSONProperty">
        <h1><span class="secnum">6.1</span>Runtime Semantics: SerializeJSONProperty ( <var>key</var>, <var>holder</var> )</h1>
        <p>The abstract operation SerializeJSONProperty with arguments <var>key</var>, and <var>holder</var> has access to <var>ReplacerFunction</var> from the invocation of the <code>stringify</code> method. Its algorithm is as follows:</p>
        <emu-alg><ol><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="Get" id="_ref_280"><a href="https://tc39.github.io/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>holder</var>, <var>key</var>).</li><li>If <emu-xref aoid="Type" id="_ref_281"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is Object <ins>or BigInt</ins>, then<ol><li>Let <var>toJSON</var> be ? <del><emu-xref aoid="Get" id="_ref_282"><a href="https://tc39.github.io/ecma262/#sec-get-o-p">Get</a></emu-xref></del><ins><emu-xref aoid="GetV" id="_ref_283"><a href="https://tc39.github.io/ecma262/#sec-getv">GetV</a></emu-xref></ins>(<var>value</var>, <code>"toJSON"</code>).</li><li>If <emu-xref aoid="IsCallable" id="_ref_284"><a href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a></emu-xref>(<var>toJSON</var>) is <emu-val>true</emu-val>, then<ol><li>Set <var>value</var> to ?&nbsp;<emu-xref aoid="Call" id="_ref_285"><a href="https://tc39.github.io/ecma262/#sec-call">Call</a></emu-xref>(<var>toJSON</var>, <var>value</var>,  <var>key</var> ).</li></ol></li></ol></li><li>If <var>ReplacerFunction</var> is not <emu-val>undefined</emu-val>, then<ol><li>Set <var>value</var> to ?&nbsp;<emu-xref aoid="Call" id="_ref_286"><a href="https://tc39.github.io/ecma262/#sec-call">Call</a></emu-xref>(<var>ReplacerFunction</var>, <var>holder</var>,  <var>key</var>, <var>value</var> ).</li></ol></li><li>If <emu-xref aoid="Type" id="_ref_287"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is Object, then<ol><li>If <var>value</var> has a [[NumberData]] internal slot, then<ol><li>Set <var>value</var> to ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_288"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>).</li></ol></li><li>Else if <var>value</var> has a [[StringData]] internal slot, then<ol><li>Set <var>value</var> to ?&nbsp;<emu-xref aoid="ToString" id="_ref_289"><a href="#sec-tostring">ToString</a></emu-xref>(<var>value</var>).</li></ol></li><li>Else if <var>value</var> has a [[BooleanData]] internal slot, then<ol><li>Set <var>value</var> to <var>value</var>.[[BooleanData]].</li></ol></li><li><ins>Else if <var>value</var> has a [[BigIntData]] internal slot, then</ins><ol><li><ins>Set <var>value</var> to <var>value</var>.[[BigIntData]].</ins></li></ol></li></ol></li><li>If <var>value</var> is <emu-val>null</emu-val>, return <code>"null"</code>.</li><li>If <var>value</var> is <emu-val>true</emu-val>, return <code>"true"</code>.</li><li>If <var>value</var> is <emu-val>false</emu-val>, return <code>"false"</code>.</li><li>If <emu-xref aoid="Type" id="_ref_290"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is String, return <emu-xref aoid="QuoteJSONString" id="_ref_291"><a href="https://tc39.github.io/ecma262/#sec-quotejsonstring">QuoteJSONString</a></emu-xref>(<var>value</var>).</li><li>If <emu-xref aoid="Type" id="_ref_292"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is Number, then<ol><li>If <var>value</var> is finite, return !&nbsp;<emu-xref aoid="ToString" id="_ref_293"><a href="#sec-tostring">ToString</a></emu-xref>(<var>value</var>).</li><li>Else, return <code>"null"</code>.</li></ol></li><li><ins>If <emu-xref aoid="Type" id="_ref_294"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is BigInt, throw a <emu-val>TypeError</emu-val> exception.</ins></li><li>If <emu-xref aoid="Type" id="_ref_295"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is Object and <emu-xref aoid="IsCallable" id="_ref_296"><a href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a></emu-xref>(<var>value</var>) is <emu-val>false</emu-val>, then<ol><li>Let <var>isArray</var> be ?&nbsp;<emu-xref aoid="IsArray" id="_ref_297"><a href="https://tc39.github.io/ecma262/#sec-isarray">IsArray</a></emu-xref>(<var>value</var>).</li><li>If <var>isArray</var> is <emu-val>true</emu-val>, return ?&nbsp;<emu-xref aoid="SerializeJSONArray" id="_ref_298"><a href="https://tc39.github.io/ecma262/#sec-serializejsonarray">SerializeJSONArray</a></emu-xref>(<var>value</var>).</li><li>Else, return ?&nbsp;<emu-xref aoid="SerializeJSONObject" id="_ref_299"><a href="https://tc39.github.io/ecma262/#sec-serializejsonobject">SerializeJSONObject</a></emu-xref>(<var>value</var>).</li></ol></li><li>Return <emu-val>undefined</emu-val>.
        </li></ol></emu-alg>
      </emu-clause>

      <!-- es6num="20.1.1.1" -->
      <emu-clause id="sec-number-constructor-number-value">
        <h1><span class="secnum">6.2</span>Number ( <var>value</var> )</h1>
        <p>When <code>Number</code> is called with argument <var>value</var>, the following steps are taken:</p>
        <emu-alg><ol><li>If no arguments were passed to this function invocation, let <var>n</var> be <emu-val>+0</emu-val>.</li><li>Else,<ol><li>Let <var>prim</var> be ?&nbsp;<emu-xref aoid="ToNumeric" id="_ref_300"><a href="#sec-tonumeric">ToNumeric</a></emu-xref>(<var>value</var>).</li><li>If <emu-xref aoid="Type" id="_ref_301"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>prim</var>) is BigInt, let <var>n</var> be the Number value for <var>prim</var>.</li><li>Otherwise, let <var>n</var> be <var>prim</var>.</li></ol></li><li>If NewTarget is <emu-val>undefined</emu-val>, return <var>n</var>.</li><li>Let <var>O</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor" id="_ref_302"><a href="https://tc39.github.io/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <code>"%NumberPrototype%"</code>,  [[NumberData]] ).</li><li>Set <var>O</var>.[[NumberData]] to <var>n</var>.</li><li>Return <var>O</var>.
        </li></ol></emu-alg>
        <emu-note><span class="note">Note</span><div class="note-contents">See  <emu-xref href="#sec-ecmascript-language-types-number-type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type">6.1.6</a></emu-xref> in the second-to-last paragraph for the definition of the phrase "The Number value for <var>prim</var>".</div></emu-note>
        <emu-integration-plans>That paragraph should possibly be refactored into a separate abstract operation; see  <a href="https://github.com/tc39/proposal-bigint/issues/10">this bug</a> for more discussion about the integration of different numeric types and casting operations between them.</emu-integration-plans>
      </emu-clause>

      <!-- es6num="20.2.2.26" -->
      <emu-clause id="sec-math.pow">
        <h1><span class="secnum">6.3</span>Math.pow ( <var>base</var>, <var>exponent</var> )</h1>
        <emu-alg><ol><li>Let <var>base</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_303"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>base</var>).</li><li>Let <var>exponent</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_304"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>exponent</var>).</li><li>Return Number::exponentiate(<var>base</var>, <var>exponent</var>).
        </li></ol></emu-alg>
      </emu-clause>
</emu-clause>

<emu-clause id="sec-typedarrays-and-dataview">
  <h1><span class="secnum">7</span>TypedArrays and DataViews</h1>
  <p>BigInt is integrated into TypedArray, DataView, SharedArrayBuffer and Atomics by providing Int64 and Uint64 access as represented by BigInts on the ECMAScript side.</p>

  <emu-clause id="sec-typedarray-objects">
    <h1><span class="secnum">7.1</span>TypedArray Objects</h1>
    <emu-table id="table-49" caption="The TypedArray Constructors"><figure><figcaption>Table 9: The TypedArray Constructors</figcaption>
      <table>
        <tbody>
        <tr>
          <th>
            Constructor Name and Intrinsic
          
          </th>
          <th>
            Element Type
          
          </th>
          <th>
            Element Size
          
          </th>
          <th>
            Conversion Operation
          
          </th>
          <th>
            Description
          
          </th>
          <th>
            Equivalent C Type
          
          </th>
        </tr>
        <tr>
          <td>
            <ins>BigInt64Array</ins>
            <br>
            <ins>%BigInt64Array%</ins>
          </td>
          <td>
            <ins>BigInt64</ins>
          </td>
          <td>
            <ins>8</ins>
          </td>
          <td>
            <ins><emu-xref aoid="ToBigInt64" id="_ref_305"><a href="#sec-to-big-int64">ToBigInt64</a></emu-xref></ins>
          </td>
          <td>
            <ins>64-bit two's complement signed integer</ins>
          </td>
          <td>
            <ins>signed long long</ins>
          </td>
        </tr>
        <tr>
          <td>
            <ins>BigUint64Array</ins>
            <br>
            <ins>%BigUint64Array%</ins>
          </td>
          <td>
            <ins>BigUint64</ins>
          </td>
          <td>
            <ins>8</ins>
          </td>
          <td>
            <ins><emu-xref aoid="ToBigUint64" id="_ref_306"><a href="#sec-to-big-uint64">ToBigUint64</a></emu-xref></ins>
          </td>
          <td>
            <ins>64-bit unsigned integer</ins>
          </td>
          <td>
            <ins>unsigned long long</ins>
          </td>
        </tr>
        </tbody>
      </table>
    </figure></emu-table>
  </emu-clause>

  <emu-clause id="sec-string-to-bigint" aoid="StringToBigInt">
    <h1><span class="secnum">7.2</span>StringToBigInt ( <var>argument</var> )</h1>
          <p>Apply the algorithm in  <emu-xref href="#sec-tonumber-applied-to-the-string-type" id="_ref_25"><a href="#sec-tonumber-applied-to-the-string-type">3.1.3.1</a></emu-xref> with the following changes:</p>
          <ul>
            <li>Replace the <emu-nt><a href="https://tc39.github.io/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> production with <emu-nt><a href="https://tc39.github.io/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> to not allow <emu-val>Infinity</emu-val>, decimal points, or exponents.</li>
            <li>If the MV is <emu-val>NaN</emu-val>, return <emu-val>NaN</emu-val>, otherwise return the BigInt which exactly corresponds to the MV, rather than rounding to a Number.</li>
          </ul>
    <emu-note type="editor"><span class="note">Editor's Note</span><div class="note-contents">StringToBigInt(<code>""</code>) is <code>0n</code> according to the logic in  <emu-xref href="#sec-tonumber-applied-to-the-string-type" id="_ref_26"><a href="#sec-tonumber-applied-to-the-string-type">3.1.3.1</a></emu-xref>.</div></emu-note>
  </emu-clause>

  <emu-clause id="sec-to-bigint" aoid="ToBigInt">
    <h1><span class="secnum">7.3</span>ToBigInt ( <var>argument</var> )</h1>
    <p>The abstract operation ToBigInt converts its argument <var>argument</var> to a BigInt value, or throws if an implicit conversion from Number would be required.</p>
    <emu-alg><ol><li>Let <var>prim</var> be ?&nbsp;<emu-xref aoid="ToPrimitive" id="_ref_307"><a href="#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>argument</var>, hint Number).</li><li>Return the value that <var>prim</var> corresponds to in <emu-xref href="#table-to-bigint" id="_ref_27"><a href="#table-to-bigint">Table 10</a></emu-xref>.
    </li></ol></emu-alg>
    <emu-table id="table-to-bigint" caption="BigInt Conversions"><figure><figcaption>Table 10: BigInt Conversions</figcaption>
    <table>
      <tbody>
      <tr>
        <th>
          Argument Type
        
        </th>
        <th>
          Result
        
        </th>
      </tr>
      <tr>
        <td>
          Undefined
        
        </td>
        <td>
          Throw a <emu-val>TypeError</emu-val> exception.
        
        </td>
      </tr>
      <tr>
        <td>
          Null
        
        </td>
        <td>
          Throw a <emu-val>TypeError</emu-val> exception.
        
        </td>
      </tr>
      <tr>
        <td>
          Boolean
        
        </td>
        <td>
          Return <code>1n</code> if <var>prim</var> is <emu-val>true</emu-val> and <code>0n</code> if <var>prim</var> is <emu-val>false</emu-val>.
        
        </td>
      </tr>
      <tr>
        <td>
          BigInt
        
        </td>
        <td>
          Return <var>prim</var>.
        
        </td>
      </tr>
      <tr>
        <td>
          Number
        
        </td>
        <td>
          Throw a <emu-val>TypeError</emu-val> exception.
        
        </td>
      </tr>
      <tr>
        <td>
          String
        
        </td>
        <td>
          <emu-alg><ol><li>Let <var>n</var> be <emu-xref aoid="StringToBigInt" id="_ref_308"><a href="#sec-string-to-bigint">StringToBigInt</a></emu-xref>(<var>prim</var>).</li><li>If <var>n</var> is <emu-val>NaN</emu-val>, throw a <emu-val>SyntaxError</emu-val> exception.</li><li>Return <var>n</var>.
          </li></ol></emu-alg>
        </td>
      </tr>
      <tr>
        <td>
          Symbol
        
        </td>
        <td>
          Throw a <emu-val>TypeError</emu-val> exception.
        
        </td>
      </tr>
      </tbody>
    </table>
    </figure></emu-table>
  </emu-clause>

  <emu-clause id="sec-to-big-int64" aoid="ToBigInt64">
    <h1><span class="secnum">7.4</span>ToBigInt64 ( <var>argument</var> )</h1>
    <p>The abstract operation ToBigInt64 converts <var>argument</var> to one of 2<sup>64</sup> integer values in the range -2<sup>63</sup> through 2<sup>63</sup>-1, inclusive. This abstract operation functions as follows:</p>
    <emu-alg><ol><li>Let <var>n</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_309"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>argument</var>).</li><li>Let <var>int64bit</var> be <var>n</var> <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> 2<sup>64</sup>.</li><li>If <var>int64bit</var>  2<sup>63</sup>, return <var>int64bit</var> - 2<sup>64</sup>; otherwise return <var>int64bit</var>.
    </li></ol></emu-alg>
  </emu-clause>

  <emu-clause id="sec-to-big-uint64" aoid="ToBigUint64">
    <h1><span class="secnum">7.5</span>ToBigUint64 ( <var>argument</var> )</h1>
    <p>The abstract operation ToBigUint64 converts <var>argument</var> to one of 2<sup>64</sup> integer values in the range 0 through 2<sup>64</sup>-1, inclusive. This abstract operation functions as follows:</p>
    <emu-alg><ol><li>Let <var>n</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_310"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>argument</var>).</li><li>Let <var>int64bit</var> be <var>n</var> <emu-xref aoid="modulo"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a></emu-xref> 2<sup>64</sup>.</li><li>Return <var>int64bit</var>.
    </li></ol></emu-alg>
  </emu-clause>

      <emu-clause id="sec-rawbytestonumeric" aoid="RawBytesToNumeric">
        <h1><span class="secnum">7.6</span>RawBytesTo<del>Number</del><ins>Numeric</ins>( <var>type</var>, <var>rawBytes</var>, <var>isLittleEndian</var> )</h1>
        <p>The abstract operation RawBytesTo<del>Number</del><ins>Numeric</ins> takes three parameters, a String <var>type</var>, a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> <var>rawBytes</var>, and a Boolean <var>isLittleEndian</var>. This operation performs the following steps:</p>
        <emu-alg><ol><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_28"><a href="#table-49">Table 9</a></emu-xref> for Element Type <var>type</var>.</li><li>If <var>isLittleEndian</var> is <emu-val>false</emu-val>, reverse the order of the elements of <var>rawBytes</var>.</li><li>If <var>type</var> is <code>"Float32"</code>, then<ol><li>Let <var>value</var> be the byte elements of <var>rawBytes</var> concatenated and interpreted as a little-endian bit string encoding of an IEEE 754-2008 binary32 value.</li><li>If <var>value</var> is an IEEE 754-2008 binary32 NaN value, return the <emu-val>NaN</emu-val> Number value.</li><li>Return the Number value that corresponds to <var>value</var>.</li></ol></li><li>If <var>type</var> is <code>"Float64"</code>, then<ol><li>Let <var>value</var> be the byte elements of <var>rawBytes</var> concatenated and interpreted as a little-endian bit string encoding of an IEEE 754-2008 binary64 value.</li><li>If <var>value</var> is an IEEE 754-2008 binary64 NaN value, return the <emu-val>NaN</emu-val> Number value.</li><li>Return the Number value that corresponds to <var>value</var>.</li></ol></li><li>If the first code unit of <var>type</var> is <code>"U"</code><ins> or <var>type</var> is <code>"BigUint64"</code></ins>, then<ol><li>Let <var>intValue</var> be the byte elements of <var>rawBytes</var> concatenated and interpreted as a bit string encoding of an unsigned little-endian binary number.</li></ol></li><li>Else,<ol><li>Let <var>intValue</var> be the byte elements of <var>rawBytes</var> concatenated and interpreted as a bit string encoding of a binary little-endian two's complement number of bit length <var>elementSize</var>  8.</li></ol></li><li><ins>If <var>type</var> is <code>"BigUint64"</code> or <code>"BigInt64"</code>, return the BigInt value that corresponds to <var>intValue</var>.</ins></li><li><ins>Otherwise, </ins>return the Number value that corresponds to <var>intValue</var>.
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-numerictorawbytes" aoid="NumericToRawBytes">
        <h1><span class="secnum">7.7</span><del>Number</del><ins>Numeric</ins>ToRawBytes( <var>type</var>, <var>value</var>, <var>isLittleEndian</var> )</h1>
        <p>The abstract operation  <del>Number</del><ins>Numeric</ins>ToRawBytes takes three parameters, a String <var>type</var>, a  <ins>BigInt or a  </ins>Number <var>value</var>, and a Boolean <var>isLittleEndian</var>. This operation performs the following steps:</p>
        <emu-alg><ol><li>If <var>type</var> is <code>"Float32"</code>, then<ol><li>Set <var>rawBytes</var> to a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> containing the 4 bytes that are the result of converting <var>value</var> to IEEE 754-2008 binary32 format using Round to nearest, ties to even rounding mode. If <var>isLittleEndian</var> is <emu-val>false</emu-val>, the bytes are arranged in big endian order. Otherwise, the bytes are arranged in little endian order. If <var>value</var> is <emu-val>NaN</emu-val>, <var>rawValue</var> may be set to any implementation chosen IEEE 754-2008 binary32 format Not-a-Number encoding. An implementation must always choose the same encoding for each implementation distinguishable <emu-val>NaN</emu-val> value.</li></ol></li><li>Else if <var>type</var> is <code>"Float64"</code>, then<ol><li>Set <var>rawBytes</var> to a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> containing the 8 bytes that are the IEEE 754-2008 binary64 format encoding of <var>value</var>. If <var>isLittleEndian</var> is <emu-val>false</emu-val>, the bytes are arranged in big endian order. Otherwise, the bytes are arranged in little endian order. If <var>value</var> is <emu-val>NaN</emu-val>, <var>rawValue</var> may be set to any implementation chosen IEEE 754-2008 binary64 format Not-a-Number encoding. An implementation must always choose the same encoding for each implementation distinguishable <emu-val>NaN</emu-val> value.</li></ol></li><li>Else,<ol><li>Let <var>n</var> be the Number value of the Element Size specified in <emu-xref href="#table-49" id="_ref_29"><a href="#table-49">Table 9</a></emu-xref> for Element Type <var>type</var>.</li><li>Let <var>convOp</var> be the abstract operation named in the Conversion Operation column in <emu-xref href="#table-49" id="_ref_30"><a href="#table-49">Table 9</a></emu-xref> for Element Type <var>type</var>.</li><li>Let <var>intValue</var> be <var>convOp</var>(<var>value</var>) <ins>treated as a mathematical value, whether the result is a BigInt or Number</ins>.</li><li>If <var>intValue</var>  0, then<ol><li>Let <var>rawBytes</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> containing the <var>n</var>-byte binary encoding of <var>intValue</var>. If <var>isLittleEndian</var> is <emu-val>false</emu-val>, the bytes are ordered in big endian order. Otherwise, the bytes are ordered in little endian order.</li></ol></li><li>Else,<ol><li>Let <var>rawBytes</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> containing the <var>n</var>-byte binary two's complement encoding of <var>intValue</var>. If <var>isLittleEndian</var> is <emu-val>false</emu-val>, the bytes are ordered in big endian order. Otherwise, the bytes are ordered in little endian order.</li></ol></li></ol></li><li>Return <var>rawBytes</var>.
        </li></ol></emu-alg>
      </emu-clause>

      <!-- es6num="9.4.5.9" -->
      <emu-clause id="sec-integerindexedelementset" aoid="IntegerIndexedElementSet">
        <h1><span class="secnum">7.8</span>IntegerIndexedElementSet ( <var>O</var>, <var>index</var>, <var>value</var> )</h1>
        <p>The abstract operation IntegerIndexedElementSet with arguments <var>O</var>, <var>index</var>, and <var>value</var> performs the following steps:</p>
        <emu-alg><ol><li>Assert: <emu-xref aoid="Type" id="_ref_311"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>index</var>) is Number.</li><li>Assert: <var>O</var> is an Object that has [[ViewedArrayBuffer]], [[ArrayLength]], [[ByteOffset]], and [[TypedArrayName]] internal slots.</li><li>Let <var>arrayTypeName</var> be the String value of <var>O</var>.[[TypedArrayName]].</li><li>Let <var>elementType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_31"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</li><li><ins>If <var>arrayTypeName</var> is <code>"BigUint64Array"</code> or <code>"BigInt64Array"</code>, let <var>numValue</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_312"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>value</var>).</ins></li><li><ins>Otherwise,</ins> let <var>numValue</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_313"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>).</li><li>Let <var>buffer</var> be <var>O</var>.[[ViewedArrayBuffer]].</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_314"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>buffer</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <emu-xref aoid="IsInteger" id="_ref_315"><a href="#sec-is-integer">IsInteger</a></emu-xref>(<var>index</var>) is <emu-val>false</emu-val>, return <emu-val>false</emu-val>.</li><li>If <var>index</var> = <emu-val>-0</emu-val>, return <emu-val>false</emu-val>.</li><li>Let <var>length</var> be <var>O</var>.[[ArrayLength]].</li><li>If <var>index</var> &lt; 0 or <var>index</var>  <var>length</var>, return <emu-val>false</emu-val>.</li><li>Let <var>offset</var> be <var>O</var>.[[ByteOffset]].</li><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_32"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</li><li>Let <var>indexedPosition</var> be (<var>index</var>  <var>elementSize</var>) + <var>offset</var>.</li><li>Perform <emu-xref aoid="SetValueInBuffer" id="_ref_316"><a href="#sec-setvalueinbuffer">SetValueInBuffer</a></emu-xref>(<var>buffer</var>, <var>indexedPosition</var>, <var>elementType</var>, <var>numValue</var>, <emu-val>true</emu-val>, <code>"Unordered"</code>).</li><li>Return <emu-val>true</emu-val>.
        </li></ol></emu-alg>
      </emu-clause>

      <!-- es6num="24.1.1.6" -->
      <emu-clause id="sec-setvalueinbuffer" aoid="SetValueInBuffer">
        <h1><span class="secnum">7.9</span>SetValueInBuffer ( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>value</var>, <var>isTypedArray</var>, <var>order</var> [ , <var>isLittleEndian</var> ] )</h1>
        <p>The abstract operation SetValueInBuffer takes seven parameters, an ArrayBuffer or SharedArrayBuffer <var>arrayBuffer</var>, an integer <var>byteIndex</var>, a String <var>type</var>, a Number <var>value</var>, a Boolean <var>isTypedArray</var>, a String <var>order</var>, and optionally a Boolean <var>isLittleEndian</var>. This operation performs the following steps:</p>
        <emu-alg><ol><li>Assert: <emu-xref aoid="IsDetachedBuffer" id="_ref_317"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>arrayBuffer</var>) is <emu-val>false</emu-val>.</li><li>Assert: There are sufficient bytes in <var>arrayBuffer</var> starting at <var>byteIndex</var> to represent a value of <var>type</var>.</li><li>Assert: <var>byteIndex</var> is an integer value  0.</li><li>Assert: <emu-xref aoid="Type" id="_ref_318"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is <ins>BigInt if <var>type</var> is <code>"BigInt64"</code> or <code>"BigUint64"</code>; otherwise, <emu-xref aoid="Type" id="_ref_319"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is Number</ins>.</li><li>Let <var>block</var> be <var>arrayBuffer</var>.[[ArrayBufferData]].</li><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_33"><a href="#table-49">Table 9</a></emu-xref> for Element Type <var>type</var>.</li><li>If <var>isLittleEndian</var> is not present, set <var>isLittleEndian</var> to the value of the [[LittleEndian]] field of the <emu-xref href="#surrounding-agent" id="_ref_320"><a href="#surrounding-agent">surrounding agent</a></emu-xref>'s <emu-xref href="#agent-record" id="_ref_321"><a href="#agent-record">Agent Record</a></emu-xref>.</li><li>Let <var>rawBytes</var> be <del>Number</del><ins>Numeric</ins>ToRawBytes(<var>type</var>, <var>value</var>, <var>isLittleEndian</var>).</li><li>If IsSharedArrayBuffer(<var>arrayBuffer</var>) is <emu-val>true</emu-val>, then<ol><li>Let <var>execution</var> be the [[CandidateExecution]] field of the <emu-xref href="#surrounding-agent" id="_ref_322"><a href="#surrounding-agent">surrounding agent</a></emu-xref>'s <emu-xref href="#agent-record" id="_ref_323"><a href="#agent-record">Agent Record</a></emu-xref>.</li><li>Let <var>eventList</var> be the [[EventList]] field of the element in <var>execution</var>.[[EventLists]] whose [[AgentSignifier]] is AgentSignifier().</li><li>If <var>isTypedArray</var> is <emu-val>true</emu-val> and <var>type</var> is <code>"Int8"</code>, <code>"Uint8"</code>, <code>"Int16"</code>, <code>"Uint16"</code>, <code>"Int32"</code>, or <code>"Uint32"</code>, <ins>or if <var>type</var> is <code>"BigInt64"</code> or <code>"BigUint64"</code> and <var>order</var> is not <code>"Init"</code> or <code>"Unordered"</code></ins>, let <var>noTear</var> be <emu-val>true</emu-val>; otherwise let <var>noTear</var> be <emu-val>false</emu-val>.</li><li>Append WriteSharedMemory{ [[Order]]: <var>order</var>, [[NoTear]]: <var>noTear</var>, [[Block]]: <var>block</var>, [[ByteIndex]]: <var>byteIndex</var>, [[ElementSize]]: <var>elementSize</var>, [[Payload]]: <var>rawBytes</var> } to <var>eventList</var>.</li></ol></li><li>Else, store the individual bytes of <var>rawBytes</var> into <var>block</var>, in order, starting at <var>block</var>[<var>byteIndex</var>].</li><li>Return <emu-xref aoid="NormalCompletion" id="_ref_324"><a href="https://tc39.github.io/ecma262/#sec-normalcompletion">NormalCompletion</a></emu-xref>(<emu-val>undefined</emu-val>).
        </li></ol></emu-alg>
        <emu-note type="editor"><span class="note">Editor's Note</span><div class="note-contents">BigInt64 and BigUint64, like Float64, are excluded from the list of types which experience noTear writes. That is, non-atomic writes may be observed in a partially completed state.</div></emu-note>
      </emu-clause>

      <!-- es6num="24.1.1.5" -->
      <emu-clause id="sec-getvaluefrombuffer" aoid="GetValueFromBuffer">
        <h1><span class="secnum">7.10</span>GetValueFromBuffer ( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>isTypedArray</var>, <var>order</var> [ , <var>isLittleEndian</var> ] )</h1>
        <p>The abstract operation GetValueFromBuffer takes six parameters, an ArrayBuffer or SharedArrayBuffer <var>arrayBuffer</var>, an integer <var>byteIndex</var>, a String <var>type</var>, a Boolean <var>isTypedArray</var>, a String <var>order</var>, and optionally a Boolean <var>isLittleEndian</var>. This operation performs the following steps:</p>
        <emu-alg><ol><li>Assert: <emu-xref aoid="IsDetachedBuffer" id="_ref_325"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>arrayBuffer</var>) is <emu-val>false</emu-val>.</li><li>Assert: There are sufficient bytes in <var>arrayBuffer</var> starting at <var>byteIndex</var> to represent a value of <var>type</var>.</li><li>Assert: <var>byteIndex</var> is an integer value  0.</li><li>Let <var>block</var> be <var>arrayBuffer</var>.[[ArrayBufferData]].</li><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_34"><a href="#table-49">Table 9</a></emu-xref> for Element Type <var>type</var>.</li><li>If IsSharedArrayBuffer(<var>arrayBuffer</var>) is <emu-val>true</emu-val>, then<ol><li>Let <var>execution</var> be the [[CandidateExecution]] field of the <emu-xref href="#surrounding-agent" id="_ref_326"><a href="#surrounding-agent">surrounding agent</a></emu-xref>'s <emu-xref href="#agent-record" id="_ref_327"><a href="#agent-record">Agent Record</a></emu-xref>.</li><li>Let <var>eventList</var> be the [[EventList]] field of the element in <var>execution</var>.[[EventLists]] whose [[AgentSignifier]] is AgentSignifier().</li><li>If <var>isTypedArray</var> is <emu-val>true</emu-val> and <var>type</var> is <code>"Int8"</code>, <code>"Uint8"</code>, <code>"Int16"</code>, <code>"Uint16"</code>, <code>"Int32"</code>, or <code>"Uint32"</code> <ins>or if <var>type</var> is <code>"BigInt64"</code> or <code>"BigUint64"</code> and <var>order</var> is not <code>"Init"</code> or <code>"Unordered"</code></ins>, let <var>noTear</var> be <emu-val>true</emu-val>; otherwise let <var>noTear</var> be <emu-val>false</emu-val>.</li><li>Let <var>rawValue</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of length <var>elementSize</var> of nondeterministically chosen byte values.</li><li>NOTE: In implementations, <var>rawValue</var> is the result of a non-atomic or atomic read instruction on the underlying hardware. The nondeterminism is a semantic prescription of the memory model to describe observable behaviour of hardware with weak consistency.</li><li>Let <var>readEvent</var> be ReadSharedMemory{ [[Order]]: <var>order</var>, [[NoTear]]: <var>noTear</var>, [[Block]]: <var>block</var>, [[ByteIndex]]: <var>byteIndex</var>, [[ElementSize]]: <var>elementSize</var> }.</li><li>Append <var>readEvent</var> to <var>eventList</var>.</li><li>Append Chosen Value <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { [[Event]]: <var>readEvent</var>, [[ChosenValue]]: <var>rawValue</var> } to <var>execution</var>.[[ChosenValues]].</li></ol></li><li>Else, let <var>rawValue</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <var>elementSize</var> containing, in order, the <var>elementSize</var> sequence of bytes starting with <var>block</var>[<var>byteIndex</var>].</li><li>If <var>isLittleEndian</var> is not present, set <var>isLittleEndian</var> to the value of the [[LittleEndian]] field of the <emu-xref href="#surrounding-agent" id="_ref_328"><a href="#surrounding-agent">surrounding agent</a></emu-xref>'s <emu-xref href="#agent-record" id="_ref_329"><a href="#agent-record">Agent Record</a></emu-xref>.</li><li>Return RawBytesTo<del>Number</del><ins>Numeric</ins>(<var>type</var>, <var>rawValue</var>, <var>isLittleEndian</var>).
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-getmodifysetvalueinbuffer" aoid="GetModifySetValueInBuffer">
        <h1><span class="secnum">7.11</span>GetModifySetValueInBuffer( <var>arrayBuffer</var>, <var>byteIndex</var>, <var>type</var>, <var>value</var>, <var>op</var> [ , <var>isLittleEndian</var> ] )</h1>
        <p>The abstract operation GetModifySetValueInBuffer takes six parameters, a SharedArrayBuffer <var>arrayBuffer</var>, a nonnegative integer <var>byteIndex</var>, a String <var>type</var>, a Number <var>value</var>, a semantic function <var>op</var>, and optionally a Boolean <var>isLittleEndian</var>. This operation performs the following steps:</p>
        <emu-alg><ol><li>Assert: IsSharedArrayBuffer(<var>arrayBuffer</var>) is <emu-val>true</emu-val>.</li><li>Assert: There are sufficient bytes in <var>arrayBuffer</var> starting at <var>byteIndex</var> to represent a value of <var>type</var>.</li><li>Assert: <var>byteIndex</var> is an integer value  0.</li><li>Assert: <emu-xref aoid="Type" id="_ref_330"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is <ins>BigInt if <var>type</var> is <code>"BigInt64"</code> or <code>"BigUint64"</code>; otherwise, <emu-xref aoid="Type" id="_ref_331"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>value</var>) is Number</ins>.</li><li>Let <var>block</var> be <var>arrayBuffer</var>.[[ArrayBufferData]].</li><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_35"><a href="#table-49">Table 9</a></emu-xref> for Element Type <var>type</var>.</li><li>If <var>isLittleEndian</var> is not present, set <var>isLittleEndian</var> to the value of the [[LittleEndian]] field of the <emu-xref href="#surrounding-agent" id="_ref_332"><a href="#surrounding-agent">surrounding agent</a></emu-xref>'s <emu-xref href="#agent-record" id="_ref_333"><a href="#agent-record">Agent Record</a></emu-xref>.</li><li>Let <var>rawBytes</var> be <del>Number</del><ins>Numeric</ins>ToRawBytes(<var>type</var>, <var>value</var>, <var>isLittleEndian</var>).</li><li>Let <var>execution</var> be the [[CandidateExecution]] field of the <emu-xref href="#surrounding-agent" id="_ref_334"><a href="#surrounding-agent">surrounding agent</a></emu-xref>'s <emu-xref href="#agent-record" id="_ref_335"><a href="#agent-record">Agent Record</a></emu-xref>.</li><li>Let <var>eventList</var> be the [[EventList]] field of the element in <var>execution</var>.[[EventLists]] whose [[AgentSignifier]] is AgentSignifier().</li><li>Let <var>rawBytesRead</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of length <var>elementSize</var> of nondeterministically chosen byte values.</li><li>NOTE: In implementations, <var>rawBytesRead</var> is the result of a load-link, of a load-exclusive, or of an operand of a read-modify-write instruction on the underlying hardware. The nondeterminism is a semantic prescription of the memory model to describe observable behaviour of hardware with weak consistency.</li><li>Let <var>rmwEvent</var> be ReadModifyWriteSharedMemory{ [[Order]]: <code>"SeqCst"</code>, [[NoTear]]: <emu-val>true</emu-val>, [[Block]]: <var>block</var>, [[ByteIndex]]: <var>byteIndex</var>, [[ElementSize]]: <var>elementSize</var>, [[Payload]]: <var>rawBytes</var>, [[ModifyOp]]: <var>op</var> }.</li><li>Append <var>rmwEvent</var> to <var>eventList</var>.</li><li>Append Chosen Value <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { [[Event]]: <var>rmwEvent</var>, [[ChosenValue]]: <var>rawBytesRead</var> } to <var>execution</var>.[[ChosenValues]].</li><li>Return RawBytesTo<del>Number</del><ins>Numeric</ins>(<var>type</var>, <var>rawBytesRead</var>, <var>isLittleEndian</var>).
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-validatesharedintegertypedarray" aoid="ValidateSharedIntegerTypedArray">
        <h1><span class="secnum">7.12</span>ValidateSharedIntegerTypedArray(<var>typedArray</var> [ , <var>waitable</var> ] )</h1>
        <p>The abstract operation ValidateSharedIntegerTypedArray takes one argument <var>typedArray</var> and an optional Boolean <var>waitable</var>. It performs the following steps:</p>
        <emu-alg><ol><li>If <var>waitable</var> is not present, set <var>waitable</var> to <emu-val>false</emu-val>.</li><li>If <emu-xref aoid="Type" id="_ref_336"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>typedArray</var>) is not Object, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>typedArray</var> does not have a [[TypedArrayName]] internal slot, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>typeName</var> be <var>typedArray</var>.[[TypedArrayName]].</li><li>If <var>waitable</var> is <emu-val>true</emu-val>, then<ol><li>If <var>typeName</var> is not <code>"Int32Array"</code> <ins>or <code>"BigInt64Array"</code></ins>, throw a <emu-val>TypeError</emu-val> exception.</li></ol></li><li>Else,<ol><li>If <var>typeName</var> is not <code>"Int8Array"</code>, <code>"Uint8Array"</code>, <code>"Int16Array"</code>, <code>"Uint16Array"</code>, <code>"Int32Array"</code>, <code>"Uint32Array"</code>, <ins><code>"BigUint64Array"</code>, or <code>"BigInt64Array"</code>,</ins> throw a <emu-val>TypeError</emu-val> exception.</li></ol></li><li>Assert: <var>typedArray</var> has a [[ViewedArrayBuffer]] internal slot.</li><li>Let <var>buffer</var> be <var>typedArray</var>.[[ViewedArrayBuffer]].</li><li>If IsSharedArrayBuffer(<var>buffer</var>) is <emu-val>false</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Return <var>buffer</var>.
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-atomicreadmodifywrite" aoid="AtomicReadModifyWrite">
        <h1><span class="secnum">7.13</span>AtomicReadModifyWrite( <var>typedArray</var>, <var>index</var>, <var>value</var>, <var>op</var> )</h1>
        <p>The abstract operation AtomicReadModifyWrite takes four arguments, <var>typedArray</var>, <var>index</var>, <var>value</var>, and a pure combining operation <var>op</var>. The pure combining operation <var>op</var> takes two <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of byte values arguments and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of byte values. The operation atomically loads a value, combines it with another value, and stores the result of the combination. It returns the loaded value. It performs the following steps:</p>
        <emu-alg><ol><li>Let <var>buffer</var> be ?&nbsp;<emu-xref aoid="ValidateSharedIntegerTypedArray" id="_ref_337"><a href="#sec-validatesharedintegertypedarray">ValidateSharedIntegerTypedArray</a></emu-xref>(<var>typedArray</var>).</li><li>Let <var>i</var> be ?&nbsp;ValidateAtomicAccess(<var>typedArray</var>, <var>index</var>).</li><li>Let <var>arrayTypeName</var> be <var>typedArray</var>.[[TypedArrayName]].</li><li><ins>If <var>arrayTypeName</var> is <code>"BigUint64Array"</code> or <code>"BigInt64Array"</code>, let <var>v</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_338"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>v</var>).</ins></li><li><ins>Otherwise,</ins> let <var>v</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_339"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>value</var>).</li><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_36"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</li><li>Let <var>elementType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_37"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</li><li>Let <var>offset</var> be <var>typedArray</var>.[[ByteOffset]].</li><li>Let <var>indexedPosition</var> be (<var>i</var>  <var>elementSize</var>) + <var>offset</var>.</li><li>Return <emu-xref aoid="GetModifySetValueInBuffer" id="_ref_340"><a href="#sec-getmodifysetvalueinbuffer">GetModifySetValueInBuffer</a></emu-xref>(<var>buffer</var>, <var>indexedPosition</var>, <var>elementType</var>, <var>v</var>, <var>op</var>).
        </li></ol></emu-alg>
      </emu-clause>

    <emu-clause id="sec-atomics.compareexchange">
      <h1><span class="secnum">7.14</span>Atomics.compareExchange ( <var>typedArray</var>, <var>index</var>, <var>expectedValue</var>, <var>replacementValue</var> )</h1>
      <p>The following steps are taken:</p>
      <emu-alg><ol><li>Let <var>buffer</var> be ?&nbsp;<emu-xref aoid="ValidateSharedIntegerTypedArray" id="_ref_341"><a href="#sec-validatesharedintegertypedarray">ValidateSharedIntegerTypedArray</a></emu-xref>(<var>typedArray</var>).</li><li>Let <var>i</var> be ?&nbsp;ValidateAtomicAccess(<var>typedArray</var>, <var>index</var>).</li><li><ins>If <var>arrayTypeName</var> is <code>"BigUint64Array"</code> or <code>"BigInt64Array"</code>,</ins><ol><li><ins>Let <var>expected</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_342"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>expectedValue</var>).</ins></li><li><ins>Let <var>replacement</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_343"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>replacementValue</var>).</ins></li></ol></li><li><ins>Otherwise,</ins><ol><li>Let <var>expected</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_344"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>expectedValue</var>).</li><li>Let <var>replacement</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_345"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>replacementValue</var>).</li></ol></li><li>Let <var>arrayTypeName</var> be <var>typedArray</var>.[[TypedArrayName]].</li><li>Let <var>elementType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_38"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</li><li>Let <var>isLittleEndian</var> be the value of the [[LittleEndian]] field of the <emu-xref href="#surrounding-agent" id="_ref_346"><a href="#surrounding-agent">surrounding agent</a></emu-xref>'s <emu-xref href="#agent-record" id="_ref_347"><a href="#agent-record">Agent Record</a></emu-xref>.</li><li>Let <var>expectedBytes</var> be <del>Number</del><ins>Numeric</ins>ToRawBytes(<var>elementType</var>, <var>expected</var>, <var>isLittleEndian</var>).</li><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_39"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</li><li>Let <var>offset</var> be <var>typedArray</var>.[[ByteOffset]].</li><li>Let <var>indexedPosition</var> be (<var>i</var>  <var>elementSize</var>) + <var>offset</var>.</li><li>Let <code>compareExchange</code> denote a semantic function of two <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of byte values arguments that returns the second argument if the first argument is element-wise equal to <var>expectedBytes</var>.</li><li>Return <emu-xref aoid="GetModifySetValueInBuffer" id="_ref_348"><a href="#sec-getmodifysetvalueinbuffer">GetModifySetValueInBuffer</a></emu-xref>(<var>buffer</var>, <var>indexedPosition</var>, <var>elementType</var>, <var>replacement</var>, <code>compareExchange</code>).
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-atomics.islockfree">
      <h1><span class="secnum">7.15</span>Atomics.isLockFree( <var>size</var> )</h1>
      <p>The following steps are taken:</p>
      <emu-alg><ol><li>Let <var>n</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_349"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>size</var>).</li><li>Let <var>AR</var> be the <emu-xref href="#agent-record" id="_ref_350"><a href="#agent-record">Agent Record</a></emu-xref> of the <emu-xref href="#surrounding-agent" id="_ref_351"><a href="#surrounding-agent">surrounding agent</a></emu-xref>.</li><li>If <var>n</var> equals 1, return <var>AR</var>.[[IsLockFree1]].</li><li>If <var>n</var> equals 2, return <var>AR</var>.[[IsLockFree2]].</li><li>If <var>n</var> equals 4, return <emu-val>true</emu-val>.</li><li>If <var>n</var> equals 8, return <var>AR</var>.[[IsLockFree8]].</li><li>Return <emu-val>false</emu-val>.
      </li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p><code>Atomics.isLockFree</code>() is an optimization primitive. The intuition is that if the atomic step of an atomic primitive (<code>compareExchange</code>, <code>load</code>, <code>store</code>, <code>add</code>, <code>sub</code>, <code>and</code>, <code>or</code>, <code>xor</code>, or <code>exchange</code>) on a datum of size <var>n</var> bytes will be performed without the calling <emu-xref href="#agent" id="_ref_352"><a href="#agent">agent</a></emu-xref> acquiring a lock outside the <var>n</var> bytes comprising the datum, then <code>Atomics.isLockFree</code>(<var>n</var>) will return <emu-val>true</emu-val>. High-performance algorithms will use Atomics.isLockFree to determine whether to use locks or atomic operations in critical sections. If an atomic primitive is not lock-free then it is often more efficient for an algorithm to provide its own locking.</p>
        <p><code>Atomics.isLockFree</code>(4) always returns <emu-val>true</emu-val> as that can be supported on all known relevant hardware. Being able to assume this will generally simplify programs.</p>
        <p>Regardless of the value of <code>Atomics.isLockFree</code>, all atomic operations are guaranteed to be atomic. For example, they will never have a visible operation take place in the middle of the operation (e.g., "tearing").</p>
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-atomics.wait">
      <h1><span class="secnum">7.16</span>Atomics.wait( <var>typedArray</var>, <var>index</var>, <var>value</var>, <var>timeout</var> )</h1>
      <p><code>Atomics.wait</code> puts the calling <emu-xref href="#agent" id="_ref_353"><a href="#agent">agent</a></emu-xref> in a wait queue and puts it to sleep until it is awoken or the sleep times out. The following steps are taken:</p>
      <emu-alg><ol><li>Let <var>buffer</var> be ?&nbsp;<emu-xref aoid="ValidateSharedIntegerTypedArray" id="_ref_354"><a href="#sec-validatesharedintegertypedarray">ValidateSharedIntegerTypedArray</a></emu-xref>(<var>typedArray</var>, <emu-val>true</emu-val>).</li><li>Let <var>i</var> be ?&nbsp;ValidateAtomicAccess(<var>typedArray</var>, <var>index</var>).</li><li><ins>If <var>typedArray</var>.[[TypedArrayName]] is <code>"BigInt64Array"</code>, let <var>v</var> be ?&nbsp;<emu-xref aoid="ToBigInt64" id="_ref_355"><a href="#sec-to-big-int64">ToBigInt64</a></emu-xref>(<var>value</var>).</ins></li><li><ins>Otherwise,</ins> let <var>v</var> be ?&nbsp;<emu-xref aoid="ToInt32" id="_ref_356"><a href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a></emu-xref>(<var>value</var>).</li><li>Let <var>q</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_357"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>timeout</var>).</li><li>If <var>q</var> is <emu-val>NaN</emu-val>, let <var>t</var> be <emu-val>+</emu-val>, else let <var>t</var> be <emu-xref aoid="max"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">max</a></emu-xref>(<var>q</var>, 0).</li><li>Let <var>B</var> be AgentCanSuspend().</li><li>If <var>B</var> is <emu-val>false</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>block</var> be <var>buffer</var>.[[ArrayBufferData]].</li><li>Let <var>offset</var> be <var>typedArray</var>.[[ByteOffset]].</li><li><ins>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_40"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</ins></li><li>Let <var>indexedPosition</var> be (<var>i</var>  <del>4</del><ins><var>elementSize</var></ins>) + <var>offset</var>.</li><li>Let <var>WL</var> be GetWaiterList(<var>block</var>, <var>indexedPosition</var>).</li><li>Perform EnterCriticalSection(<var>WL</var>).</li><li>Let <var>w</var> be !&nbsp;AtomicLoad(<var>typedArray</var>, <var>i</var>).</li><li>If <var>v</var> is not equal to <var>w</var>, then<ol><li>Perform LeaveCriticalSection(<var>WL</var>).</li><li>Return the String <code>"not-equal"</code>.</li></ol></li><li>Let <var>W</var> be AgentSignifier().</li><li>Perform AddWaiter(<var>WL</var>, <var>W</var>).</li><li>Let <var>awoken</var> be Suspend(<var>WL</var>, <var>W</var>, <var>t</var>).</li><li>If <var>awoken</var> is <emu-val>true</emu-val>, then<ol><li>Assert: <var>W</var> is not on the list of waiters in <var>WL</var>.</li></ol></li><li>Else,<ol><li>Perform RemoveWaiter(<var>WL</var>, <var>W</var>).</li></ol></li><li>Perform LeaveCriticalSection(<var>WL</var>).</li><li>If <var>awoken</var> is <emu-val>true</emu-val>, return the String <code>"ok"</code>.</li><li>Return the String <code>"timed-out"</code>.
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-atomics.wake">
      <h1><span class="secnum">7.17</span>Atomics.notify( <var>typedArray</var>, <var>index</var>, <var>count</var> )</h1>
      <p><code>Atomics.notify</code> wakes up some agents that are sleeping in the wait queue.  The following steps are taken:</p>
      <emu-alg><ol><li>Let <var>buffer</var> be ?&nbsp;<emu-xref aoid="ValidateSharedIntegerTypedArray" id="_ref_358"><a href="#sec-validatesharedintegertypedarray">ValidateSharedIntegerTypedArray</a></emu-xref>(<var>typedArray</var>, <emu-val>true</emu-val>).</li><li>Let <var>i</var> be ?&nbsp;ValidateAtomicAccess(<var>typedArray</var>, <var>index</var>).</li><li>If <var>count</var> is <emu-val>undefined</emu-val>, let <var>c</var> be <emu-val>+</emu-val>.</li><li>Else,<ol><li>Let <var>intCount</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_359"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>count</var>).</li><li>Let <var>c</var> be <emu-xref aoid="max"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">max</a></emu-xref>(<var>intCount</var>, 0).</li></ol></li><li>Let <var>block</var> be <var>buffer</var>.[[ArrayBufferData]].</li><li>Let <var>offset</var> be <var>typedArray</var>.[[ByteOffset]].</li><li><ins>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_41"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</ins></li><li>Let <var>indexedPosition</var> be (<var>i</var>  <del>4</del><ins><var>elementSize</var></ins>) + <var>offset</var>.</li><li>Let <var>WL</var> be GetWaiterList(<var>block</var>, <var>indexedPosition</var>).</li><li>Let <var>n</var> be 0.</li><li>Perform EnterCriticalSection(<var>WL</var>).</li><li>Let <var>S</var> be RemoveWaiters(<var>WL</var>, <var>c</var>).</li><li>Repeat, while <var>S</var> is not an empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>,<ol><li>Let <var>W</var> be the first <emu-xref href="#agent" id="_ref_360"><a href="#agent">agent</a></emu-xref> in <var>S</var>.</li><li>Remove <var>W</var> from the front of <var>S</var>.</li><li>Perform WakeWaiter(<var>WL</var>, <var>W</var>).</li><li>Add 1 to <var>n</var>.</li></ol></li><li>Perform LeaveCriticalSection(<var>WL</var>).</li><li>Return <var>n</var>.
      </li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-atomics.store">
      <h1><span class="secnum">7.18</span>Atomics.store( <var>typedArray</var>, <var>index</var>, <var>value</var> )</h1>
      <p>The following steps are taken:</p>
      <emu-alg><ol><li>Let <var>buffer</var> be ?&nbsp;<emu-xref aoid="ValidateSharedIntegerTypedArray" id="_ref_361"><a href="#sec-validatesharedintegertypedarray">ValidateSharedIntegerTypedArray</a></emu-xref>(<var>typedArray</var>).</li><li>Let <var>i</var> be ?&nbsp;ValidateAtomicAccess(<var>typedArray</var>, <var>index</var>).</li><li><ins>If <var>arrayTypeName</var> is <code>"BigUint64Array"</code> or <code>"BigInt64Array"</code>, let <var>v</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_362"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>value</var>).</ins></li><li><ins>Otherwise,</ins> let <var>v</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_363"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>value</var>).</li><li>Let <var>arrayTypeName</var> be <var>typedArray</var>.[[TypedArrayName]].</li><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_42"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</li><li>Let <var>elementType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_43"><a href="#table-49">Table 9</a></emu-xref> for <var>arrayTypeName</var>.</li><li>Let <var>offset</var> be <var>typedArray</var>.[[ByteOffset]].</li><li>Let <var>indexedPosition</var> be (<var>i</var>  <var>elementSize</var>) + <var>offset</var>.</li><li>Perform <emu-xref aoid="SetValueInBuffer" id="_ref_364"><a href="#sec-setvalueinbuffer">SetValueInBuffer</a></emu-xref>(<var>buffer</var>, <var>indexedPosition</var>, <var>elementType</var>, <var>v</var>, <emu-val>true</emu-val>, <code>"SeqCst"</code>).</li><li>Return <var>v</var>.
      </li></ol></emu-alg>
    </emu-clause>

      <!-- es6num="22.2.3.25" -->
      <emu-clause id="sec-%typedarray%.prototype.sort">
        <h1><span class="secnum">7.19</span>%TypedArray%.prototype.sort ( <var>comparefn</var> )</h1>
        <p><emu-xref href="#sec-%typedarray%-intrinsic-object"><a href="https://tc39.github.io/ecma262/#sec-%typedarray%-intrinsic-object">%TypedArray%</a></emu-xref><code>.prototype.sort</code> is a distinct function that, except as described below, implements the same requirements as those of <code>Array.prototype.sort</code> as defined in  <emu-xref href="#sec-array.prototype.sort"><a href="https://tc39.github.io/ecma262/#sec-array.prototype.sort">22.1.3.25</a></emu-xref>. The implementation of the <emu-xref href="#sec-%typedarray%-intrinsic-object"><a href="https://tc39.github.io/ecma262/#sec-%typedarray%-intrinsic-object">%TypedArray%</a></emu-xref><code>.prototype.sort</code> specification may be optimized with the knowledge that the <emu-val>this</emu-val> value is an object that has a fixed length and whose integer indexed properties are not sparse. The only internal methods of the <emu-val>this</emu-val> object that the algorithm may call are [[Get]] and [[Set]].</p>
        <p>This function is not generic. The <emu-val>this</emu-val> value must be an object with a [[TypedArrayName]] internal slot.</p>
        <p>Upon entry, the following steps are performed to initialize evaluation of the <code>sort</code> function. These steps are used instead of the entry steps in  <emu-xref href="#sec-array.prototype.sort"><a href="https://tc39.github.io/ecma262/#sec-array.prototype.sort">22.1.3.25</a></emu-xref>:</p>
        <emu-alg><ol><li>If <var>comparefn</var> is not <emu-val>undefined</emu-val> and <emu-xref aoid="IsCallable" id="_ref_365"><a href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a></emu-xref>(<var>comparefn</var>) is <emu-val>false</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>obj</var> be the <emu-val>this</emu-val> value.</li><li>Let <var>buffer</var> be ?&nbsp;<emu-xref aoid="ValidateTypedArray" id="_ref_366"><a href="https://tc39.github.io/ecma262/#sec-validatetypedarray">ValidateTypedArray</a></emu-xref>(<var>obj</var>).</li><li>Let <var>len</var> be <var>obj</var>.[[ArrayLength]].
        </li></ol></emu-alg>
        <p>The implementation-defined sort order condition for exotic objects is not applied by <emu-xref href="#sec-%typedarray%-intrinsic-object"><a href="https://tc39.github.io/ecma262/#sec-%typedarray%-intrinsic-object">%TypedArray%</a></emu-xref><code>.prototype.sort</code>.</p>
        <p>The following version of <emu-xref aoid="SortCompare" id="_ref_367"><a href="https://tc39.github.io/ecma262/#sec-sortcompare">SortCompare</a></emu-xref> is used by <emu-xref href="#sec-%typedarray%-intrinsic-object"><a href="https://tc39.github.io/ecma262/#sec-%typedarray%-intrinsic-object">%TypedArray%</a></emu-xref><code>.prototype.sort</code>. It performs a numeric comparison rather than the string comparison used in  <emu-xref href="#sec-array.prototype.sort"><a href="https://tc39.github.io/ecma262/#sec-array.prototype.sort">22.1.3.25</a></emu-xref>. <emu-xref aoid="SortCompare" id="_ref_368"><a href="https://tc39.github.io/ecma262/#sec-sortcompare">SortCompare</a></emu-xref> has access to the <var>comparefn</var> and <var>buffer</var> values of the current invocation of the <code>sort</code> method.</p>
        <p>When the TypedArray <emu-xref aoid="SortCompare" id="_ref_369"><a href="https://tc39.github.io/ecma262/#sec-sortcompare">SortCompare</a></emu-xref> abstract operation is called with two arguments <var>x</var> and <var>y</var>, the following steps are taken:</p>
        <emu-alg><ol><li>Assert: Both <emu-xref aoid="Type" id="_ref_370"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>x</var>) and <emu-xref aoid="Type" id="_ref_371"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>y</var>) is Number <ins>or both are BigInt</ins>.</li><li>If <var>comparefn</var> is not <emu-val>undefined</emu-val>, then<ol><li>Let <var>v</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_372"><a href="#sec-tonumber">ToNumber</a></emu-xref>(? <emu-xref aoid="Call" id="_ref_373"><a href="https://tc39.github.io/ecma262/#sec-call">Call</a></emu-xref>(<var>comparefn</var>, <emu-val>undefined</emu-val>,  <var>x</var>, <var>y</var> )).</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_374"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>buffer</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>v</var> is <emu-val>NaN</emu-val>, return <emu-val>+0</emu-val>.</li><li>Return <var>v</var>.</li></ol></li><li>If <var>x</var> and <var>y</var> are both <emu-val>NaN</emu-val>, return <emu-val>+0</emu-val>.</li><li>If <var>x</var> is <emu-val>NaN</emu-val>, return 1.</li><li>If <var>y</var> is <emu-val>NaN</emu-val>, return -1.</li><li>If <var>x</var> &lt; <var>y</var>, return -1.</li><li>If <var>x</var> &gt; <var>y</var>, return 1.</li><li>If <var>x</var> is <emu-val>-0</emu-val> and <var>y</var> is <emu-val>+0</emu-val>, return -1.</li><li>If <var>x</var> is <emu-val>+0</emu-val> and <var>y</var> is <emu-val>-0</emu-val>, return 1.</li><li>Return <emu-val>+0</emu-val>.
        </li></ol></emu-alg>
        <emu-note><span class="note">Note</span><div class="note-contents">
          <p>Because <emu-val>NaN</emu-val> always compares greater than any other value, <emu-val>NaN</emu-val> property values always sort to the end of the result when <var>comparefn</var> is not provided.</p>
        </div></emu-note>
      </emu-clause>

      <emu-clause id="typedarray-species-create" aoid="TypedArraySpeciesCreate">
        <h1><span class="secnum">7.20</span>TypedArraySpeciesCreate ( <var>exemplar</var>, <var>argumentList</var> )</h1>
        <p>The abstract operation TypedArraySpeciesCreate with arguments <var>exemplar</var> and <var>argumentList</var> is used to specify the creation of a new TypedArray object using a constructor function that is derived from <var>exemplar</var>. It performs the following steps:</p>
        <emu-alg><ol><li>Assert: <var>exemplar</var> is an Object that has a [[TypedArrayName]] internal slot.</li><li>Let <var>defaultConstructor</var> be the intrinsic object listed in column one of <emu-xref href="#table-49" id="_ref_44"><a href="#table-49">Table 9</a></emu-xref> for <var>exemplar</var>.[[TypedArrayName]].</li><li>Let <var>constructor</var> be ?&nbsp;<emu-xref aoid="SpeciesConstructor" id="_ref_375"><a href="https://tc39.github.io/ecma262/#sec-speciesconstructor">SpeciesConstructor</a></emu-xref>(<var>exemplar</var>, <var>defaultConstructor</var>).</li><li><del>Return</del><ins>Let <var>result</var> be</ins> ?&nbsp;<emu-xref aoid="TypedArrayCreate" id="_ref_376"><a href="https://tc39.github.io/ecma262/#typedarray-create">TypedArrayCreate</a></emu-xref>(<var>constructor</var>, <var>argumentList</var>).</li><li><ins>Assert: <var>result</var> has a [[TypedArrayName]] internal slot.</ins></li><li><ins>If <var>result</var>.[[TypedArrayName]] contains the substring <code>"Big"</code> and <var>exemplar</var>.[[TypedArrayName]] does not contain the substring <code>"Big"</code>, or vice versa, throw a <emu-val>TypeError</emu-val> exception.</ins></li><li><ins>Return <var>result</var>.</ins>
        </li></ol></emu-alg>
      </emu-clause>

      <!-- es6num="22.2.3.8" -->
      <emu-clause id="sec-%typedarray%.prototype.fill">
        <h1><span class="secnum">7.21</span>%TypedArray%.prototype.fill ( <var>value</var> [ , <var>start</var> [ , <var>end</var> ] ] )</h1>
        <p>The interpretation and use of the arguments of <emu-xref href="#sec-%typedarray%-intrinsic-object"><a href="https://tc39.github.io/ecma262/#sec-%typedarray%-intrinsic-object">%TypedArray%</a></emu-xref><code>.prototype.fill</code> are the same as for <code>Array.prototype.fill</code> as defined in  <emu-xref href="#sec-array.prototype.fill"><a href="https://tc39.github.io/ecma262/#sec-array.prototype.fill">22.1.3.6</a></emu-xref>.</p>
        <p>The following steps are taken:</p>
        <emu-alg><ol><li>Let <var>O</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="ValidateTypedArray" id="_ref_377"><a href="https://tc39.github.io/ecma262/#sec-validatetypedarray">ValidateTypedArray</a></emu-xref>(<var>O</var>).</li><li>Let <var>len</var> be <var>O</var>.[[ArrayLength]].</li><li><ins>If <var>O</var>.[[TypedArrayName]] is <code>"BigUint64Array"</code> or <code>"BigInt64Array"</code>, let <var>value</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_378"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>value</var>).</ins></li><li><ins>Otherwise,</ins> let <var>value</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_379"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>).</li><li>Let <var>relativeStart</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_380"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>start</var>).</li><li>If <var>relativeStart</var> &lt; 0, let <var>k</var> be <emu-xref aoid="max"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">max</a></emu-xref>((<var>len</var> + <var>relativeStart</var>), 0); else let <var>k</var> be <emu-xref aoid="min"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">min</a></emu-xref>(<var>relativeStart</var>, <var>len</var>).</li><li>If <var>end</var> is <emu-val>undefined</emu-val>, let <var>relativeEnd</var> be <var>len</var>; else let <var>relativeEnd</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_381"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>end</var>).</li><li>If <var>relativeEnd</var> &lt; 0, let <var>final</var> be <emu-xref aoid="max"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">max</a></emu-xref>((<var>len</var> + <var>relativeEnd</var>), 0); else let <var>final</var> be <emu-xref aoid="min"><a href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">min</a></emu-xref>(<var>relativeEnd</var>, <var>len</var>).</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_382"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>O</var>.[[ViewedArrayBuffer]]) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Repeat, while <var>k</var> &lt; <var>final</var><ol><li>Let <var>Pk</var> be !&nbsp;<emu-xref aoid="ToString" id="_ref_383"><a href="#sec-tostring">ToString</a></emu-xref>(<var>k</var>).</li><li>Perform !&nbsp;<emu-xref aoid="Set" id="_ref_384"><a href="https://tc39.github.io/ecma262/#sec-set-o-p-v-throw">Set</a></emu-xref>(<var>O</var>, <var>Pk</var>, <var>value</var>, <emu-val>true</emu-val>).</li><li>Increase <var>k</var> by 1.</li></ol></li><li>Return <var>O</var>.
        </li></ol></emu-alg>
      </emu-clause>

        <!-- es6num="22.2.3.22.1" -->
        <emu-clause id="sec-%typedarray%.prototype.set-array-offset">
          <h1><span class="secnum">7.22</span>%TypedArray%.prototype.set ( <var>array</var> [ , <var>offset</var> ] )</h1>
          <p>Sets multiple values in this <var>TypedArray</var>, reading the values from the object <var>array</var>. The optional <var>offset</var> value indicates the first element index in this <var>TypedArray</var> where values are written. If omitted, it is assumed to be 0.</p>
          <emu-alg><ol><li>Assert: <var>array</var> is any <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref> other than an Object with a [[TypedArrayName]] internal slot. If it is such an Object, the definition in <emu-xref href="#sec-%typedarray%.prototype.set-typedarray-offset" id="_ref_45"><a href="#sec-%typedarray%.prototype.set-typedarray-offset">7.23</a></emu-xref> applies.</li><li>Let <var>target</var> be the <emu-val>this</emu-val> value.</li><li>If <emu-xref aoid="Type" id="_ref_385"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>target</var>) is not Object, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>target</var> does not have a [[TypedArrayName]] internal slot, throw a <emu-val>TypeError</emu-val> exception.</li><li>Assert: <var>target</var> has a [[ViewedArrayBuffer]] internal slot.</li><li>Let <var>targetOffset</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_386"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>offset</var>).</li><li>If <var>targetOffset</var> &lt; 0, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>targetBuffer</var> be <var>target</var>.[[ViewedArrayBuffer]].</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_387"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>targetBuffer</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>targetLength</var> be <var>target</var>.[[ArrayLength]].</li><li>Let <var>targetName</var> be the String value of <var>target</var>.[[TypedArrayName]].</li><li>Let <var>targetElementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_46"><a href="#table-49">Table 9</a></emu-xref> for <var>targetName</var>.</li><li>Let <var>targetType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_47"><a href="#table-49">Table 9</a></emu-xref> for <var>targetName</var>.</li><li>Let <var>targetByteOffset</var> be <var>target</var>.[[ByteOffset]].</li><li>Let <var>src</var> be ?&nbsp;<emu-xref aoid="ToObject" id="_ref_388"><a href="#sec-toobject">ToObject</a></emu-xref>(<var>array</var>).</li><li>Let <var>srcLength</var> be ?&nbsp;<emu-xref aoid="ToLength" id="_ref_389"><a href="https://tc39.github.io/ecma262/#sec-tolength">ToLength</a></emu-xref>(? <emu-xref aoid="Get" id="_ref_390"><a href="https://tc39.github.io/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>src</var>, <code>"length"</code>)).</li><li>If <var>srcLength</var> + <var>targetOffset</var> &gt; <var>targetLength</var>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>targetByteIndex</var> be <var>targetOffset</var>  <var>targetElementSize</var> + <var>targetByteOffset</var>.</li><li>Let <var>k</var> be 0.</li><li>Let <var>limit</var> be <var>targetByteIndex</var> + <var>targetElementSize</var>  <var>srcLength</var>.</li><li>Repeat, while <var>targetByteIndex</var> &lt; <var>limit</var><ol><li>Let <var>Pk</var> be !&nbsp;<emu-xref aoid="ToString" id="_ref_391"><a href="#sec-tostring">ToString</a></emu-xref>(<var>k</var>).</li><li><del>Let <var>kNumber</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_392"><a href="#sec-tonumber">ToNumber</a></emu-xref>(? <emu-xref aoid="Get" id="_ref_393"><a href="https://tc39.github.io/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>src</var>, <var>Pk</var>)).</del></li><li><ins>Let <var>value</var> be ?&nbsp;<emu-xref aoid="Get" id="_ref_394"><a href="https://tc39.github.io/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>src</var>, <var>Pk</var>).</ins></li><li><ins>If <var>target</var>.[[TypedArrayName]] is <code>"BigUint64Array"</code> or <code>"BigInt64Array"</code>, let <var>value</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_395"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>value</var>).</ins></li><li><ins>Otherwise, let <var>value</var> be ?&nbsp;<emu-xref aoid="ToNumber" id="_ref_396"><a href="#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>).</ins></li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_397"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>targetBuffer</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Perform <emu-xref aoid="SetValueInBuffer" id="_ref_398"><a href="#sec-setvalueinbuffer">SetValueInBuffer</a></emu-xref>(<var>targetBuffer</var>, <var>targetByteIndex</var>, <var>targetType</var>, <del><var>kNumber</var></del><ins><var>value</var></ins>, <emu-val>true</emu-val>, <code>"Unordered"</code>).</li><li>Set <var>k</var> to <var>k</var> + 1.</li><li>Set <var>targetByteIndex</var> to <var>targetByteIndex</var> + <var>targetElementSize</var>.</li></ol></li><li>Return <emu-val>undefined</emu-val>.
          </li></ol></emu-alg>
        </emu-clause>

        <!-- es6num="22.2.3.22.2" -->
        <emu-clause id="sec-%typedarray%.prototype.set-typedarray-offset">
          <h1><span class="secnum">7.23</span>%TypedArray%.prototype.set( <var>typedArray</var> [ , <var>offset</var> ] )</h1>
          <p>Sets multiple values in this <var>TypedArray</var>, reading the values from the <var>typedArray</var> argument object. The optional <var>offset</var> value indicates the first element index in this <var>TypedArray</var> where values are written. If omitted, it is assumed to be 0.</p>
          <emu-alg><ol><li>Assert: <var>typedArray</var> has a [[TypedArrayName]] internal slot. If it does not, the definition in <emu-xref href="#sec-%typedarray%.prototype.set-array-offset" id="_ref_48"><a href="#sec-%typedarray%.prototype.set-array-offset">7.22</a></emu-xref> applies.</li><li>Let <var>target</var> be the <emu-val>this</emu-val> value.</li><li>If <emu-xref aoid="Type" id="_ref_399"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>target</var>) is not Object, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>target</var> does not have a [[TypedArrayName]] internal slot, throw a <emu-val>TypeError</emu-val> exception.</li><li>Assert: <var>target</var> has a [[ViewedArrayBuffer]] internal slot.</li><li>Let <var>targetOffset</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_400"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>offset</var>).</li><li>If <var>targetOffset</var> &lt; 0, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>targetBuffer</var> be <var>target</var>.[[ViewedArrayBuffer]].</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_401"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>targetBuffer</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>targetLength</var> be <var>target</var>.[[ArrayLength]].</li><li>Let <var>srcBuffer</var> be <var>typedArray</var>.[[ViewedArrayBuffer]].</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_402"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>srcBuffer</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>targetName</var> be the String value of <var>target</var>.[[TypedArrayName]].</li><li>Let <var>targetType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_49"><a href="#table-49">Table 9</a></emu-xref> for <var>targetName</var>.</li><li>Let <var>targetElementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_50"><a href="#table-49">Table 9</a></emu-xref> for <var>targetName</var>.</li><li>Let <var>targetByteOffset</var> be <var>target</var>.[[ByteOffset]].</li><li>Let <var>srcName</var> be the String value of <var>typedArray</var>.[[TypedArrayName]].</li><li>Let <var>srcType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_51"><a href="#table-49">Table 9</a></emu-xref> for <var>srcName</var>.</li><li>Let <var>srcElementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_52"><a href="#table-49">Table 9</a></emu-xref> for <var>srcName</var>.</li><li>Let <var>srcLength</var> be <var>typedArray</var>.[[ArrayLength]].</li><li>Let <var>srcByteOffset</var> be <var>typedArray</var>.[[ByteOffset]].</li><li>If <var>srcLength</var> + <var>targetOffset</var> &gt; <var>targetLength</var>, throw a <emu-val>RangeError</emu-val> exception.</li><li><ins>If one of <var>srcType</var> and <var>targetType</var> contains the substring <code>"Big"</code> and the other does not, throw a <emu-val>TypeError</emu-val> exception.</ins></li><li>If both IsSharedArrayBuffer(<var>srcBuffer</var>) and IsSharedArrayBuffer(<var>targetBuffer</var>) are <emu-val>true</emu-val>, then<ol><li>If <var>srcBuffer</var>.[[ArrayBufferData]] and <var>targetBuffer</var>.[[ArrayBufferData]] are the same Shared <emu-xref href="#sec-data-blocks"><a href="https://tc39.github.io/ecma262/#sec-data-blocks">Data Block</a></emu-xref> values, let <var>same</var> be <emu-val>true</emu-val>; else let <var>same</var> be <emu-val>false</emu-val>.</li></ol></li><li>Else, let <var>same</var> be <emu-xref aoid="SameValue" id="_ref_403"><a href="#sec-samevalue">SameValue</a></emu-xref>(<var>srcBuffer</var>, <var>targetBuffer</var>).</li><li>If <var>same</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>srcByteLength</var> be <var>typedArray</var>.[[ByteLength]].</li><li>Let <var>srcBuffer</var> be ?&nbsp;<emu-xref aoid="CloneArrayBuffer" id="_ref_404"><a href="https://tc39.github.io/ecma262/#sec-clonearraybuffer">CloneArrayBuffer</a></emu-xref>(<var>srcBuffer</var>, <var>srcByteOffset</var>, <var>srcByteLength</var>, <emu-xref href="#sec-arraybuffer-constructor"><a href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor">%ArrayBuffer%</a></emu-xref>).</li><li>NOTE: <emu-xref href="#sec-arraybuffer-constructor"><a href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor">%ArrayBuffer%</a></emu-xref> is used to clone <var>srcBuffer</var> because is it known to not have any observable side-effects.</li><li>Let <var>srcByteIndex</var> be 0.</li></ol></li><li>Else, let <var>srcByteIndex</var> be <var>srcByteOffset</var>.</li><li>Let <var>targetByteIndex</var> be <var>targetOffset</var>  <var>targetElementSize</var> + <var>targetByteOffset</var>.</li><li>Let <var>limit</var> be <var>targetByteIndex</var> + <var>targetElementSize</var>  <var>srcLength</var>.</li><li>If <emu-xref aoid="SameValue" id="_ref_405"><a href="#sec-samevalue">SameValue</a></emu-xref>(<var>srcType</var>, <var>targetType</var>) is <emu-val>true</emu-val>, then<ol><li>NOTE: If <var>srcType</var> and <var>targetType</var> are the same, the transfer must be performed in a manner that preserves the bit-level encoding of the source data.</li><li>Repeat, while <var>targetByteIndex</var> &lt; <var>limit</var><ol><li>Let <var>value</var> be <emu-xref aoid="GetValueFromBuffer" id="_ref_406"><a href="#sec-getvaluefrombuffer">GetValueFromBuffer</a></emu-xref>(<var>srcBuffer</var>, <var>srcByteIndex</var>, <code>"Uint8"</code>, <emu-val>true</emu-val>, <code>"Unordered"</code>).</li><li>Perform <emu-xref aoid="SetValueInBuffer" id="_ref_407"><a href="#sec-setvalueinbuffer">SetValueInBuffer</a></emu-xref>(<var>targetBuffer</var>, <var>targetByteIndex</var>, <code>"Uint8"</code>, <var>value</var>, <emu-val>true</emu-val>, <code>"Unordered"</code>).</li><li>Set <var>srcByteIndex</var> to <var>srcByteIndex</var> + 1.</li><li>Set <var>targetByteIndex</var> to <var>targetByteIndex</var> + 1.</li></ol></li></ol></li><li>Else,<ol><li>Repeat, while <var>targetByteIndex</var> &lt; <var>limit</var><ol><li>Let <var>value</var> be <emu-xref aoid="GetValueFromBuffer" id="_ref_408"><a href="#sec-getvaluefrombuffer">GetValueFromBuffer</a></emu-xref>(<var>srcBuffer</var>, <var>srcByteIndex</var>, <var>srcType</var>, <emu-val>true</emu-val>, <code>"Unordered"</code>).</li><li>Perform <emu-xref aoid="SetValueInBuffer" id="_ref_409"><a href="#sec-setvalueinbuffer">SetValueInBuffer</a></emu-xref>(<var>targetBuffer</var>, <var>targetByteIndex</var>, <var>targetType</var>, <var>value</var>, <emu-val>true</emu-val>, <code>"Unordered"</code>).</li><li>Set <var>srcByteIndex</var> to <var>srcByteIndex</var> + <var>srcElementSize</var>.</li><li>Set <var>targetByteIndex</var> to <var>targetByteIndex</var> + <var>targetElementSize</var>.</li></ol></li></ol></li><li>Return <emu-val>undefined</emu-val>.
          </li></ol></emu-alg>
        </emu-clause>

      <!-- es6num="22.2.1.3" -->
      <emu-clause id="sec-typedarray-typedarray">
        <h1><span class="secnum">7.24</span><var>TypedArray</var> ( <var>typedArray</var> )</h1>
        <p>This description applies only if the <var>TypedArray</var> function is called with at least one argument and the Type of the first argument is Object and that object has a [[TypedArrayName]] internal slot.</p>
        <p><var>TypedArray</var> called with argument <var>typedArray</var> performs the following steps:</p>
        <emu-alg><ol><li>Assert: <emu-xref aoid="Type" id="_ref_410"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>typedArray</var>) is Object and <var>typedArray</var> has a [[TypedArrayName]] internal slot.</li><li>If NewTarget is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>constructorName</var> be the String value of the Constructor Name value specified in <emu-xref href="#table-49" id="_ref_53"><a href="#table-49">Table 9</a></emu-xref> for this <var>TypedArray</var> constructor.</li><li>Let <var>O</var> be ?&nbsp;<emu-xref aoid="AllocateTypedArray" id="_ref_411"><a href="https://tc39.github.io/ecma262/#sec-allocatetypedarray">AllocateTypedArray</a></emu-xref>(<var>constructorName</var>, NewTarget, <code>"%<var>TypedArray</var>Prototype%"</code>).</li><li>Let <var>srcArray</var> be <var>typedArray</var>.</li><li>Let <var>srcData</var> be <var>srcArray</var>.[[ViewedArrayBuffer]].</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_412"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>srcData</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>elementType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_54"><a href="#table-49">Table 9</a></emu-xref> for <var>constructorName</var>.</li><li>Let <var>elementLength</var> be <var>srcArray</var>.[[ArrayLength]].</li><li>Let <var>srcName</var> be the String value of <var>srcArray</var>.[[TypedArrayName]].</li><li>Let <var>srcType</var> be the String value of the Element Type value in <emu-xref href="#table-49" id="_ref_55"><a href="#table-49">Table 9</a></emu-xref> for <var>srcName</var>.</li><li>Let <var>srcElementSize</var> be the Element Size value in <emu-xref href="#table-49" id="_ref_56"><a href="#table-49">Table 9</a></emu-xref> for <var>srcName</var>.</li><li>Let <var>srcByteOffset</var> be <var>srcArray</var>.[[ByteOffset]].</li><li>Let <var>elementSize</var> be the Element Size value in <emu-xref href="#table-49" id="_ref_57"><a href="#table-49">Table 9</a></emu-xref> for <var>constructorName</var>.</li><li>Let <var>byteLength</var> be <var>elementSize</var>  <var>elementLength</var>.</li><li>If IsSharedArrayBuffer(<var>srcData</var>) is <emu-val>false</emu-val>, then<ol><li>Let <var>bufferConstructor</var> be ?&nbsp;<emu-xref aoid="SpeciesConstructor" id="_ref_413"><a href="https://tc39.github.io/ecma262/#sec-speciesconstructor">SpeciesConstructor</a></emu-xref>(<var>srcData</var>, <emu-xref href="#sec-arraybuffer-constructor"><a href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor">%ArrayBuffer%</a></emu-xref>).</li></ol></li><li>Else,<ol><li>Let <var>bufferConstructor</var> be <emu-xref href="#sec-arraybuffer-constructor"><a href="https://tc39.github.io/ecma262/#sec-arraybuffer-constructor">%ArrayBuffer%</a></emu-xref>.</li></ol></li><li>If <emu-xref aoid="SameValue" id="_ref_414"><a href="#sec-samevalue">SameValue</a></emu-xref>(<var>elementType</var>, <var>srcType</var>) is <emu-val>true</emu-val>, then<ol><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_415"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>srcData</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>data</var> be ?&nbsp;<emu-xref aoid="CloneArrayBuffer" id="_ref_416"><a href="https://tc39.github.io/ecma262/#sec-clonearraybuffer">CloneArrayBuffer</a></emu-xref>(<var>srcData</var>, <var>srcByteOffset</var>, <var>byteLength</var>, <var>bufferConstructor</var>).</li></ol></li><li>Else,<ol><li>Let <var>data</var> be ?&nbsp;<emu-xref aoid="AllocateArrayBuffer" id="_ref_417"><a href="https://tc39.github.io/ecma262/#sec-allocatearraybuffer">AllocateArrayBuffer</a></emu-xref>(<var>bufferConstructor</var>, <var>byteLength</var>).</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_418"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>srcData</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li><ins>If one of <var>srcType</var> and <var>elementType</var> contains the substring <code>"Big"</code> and the other does not, throw a <emu-val>TypeError</emu-val> exception.</ins></li><li>Let <var>srcByteIndex</var> be <var>srcByteOffset</var>.</li><li>Let <var>targetByteIndex</var> be 0.</li><li>Let <var>count</var> be <var>elementLength</var>.</li><li>Repeat, while <var>count</var> &gt; 0<ol><li>Let <var>value</var> be <emu-xref aoid="GetValueFromBuffer" id="_ref_419"><a href="#sec-getvaluefrombuffer">GetValueFromBuffer</a></emu-xref>(<var>srcData</var>, <var>srcByteIndex</var>, <var>srcType</var>, <emu-val>true</emu-val>, <code>"Unordered"</code>).</li><li>Perform <emu-xref aoid="SetValueInBuffer" id="_ref_420"><a href="#sec-setvalueinbuffer">SetValueInBuffer</a></emu-xref>(<var>data</var>, <var>targetByteIndex</var>, <var>elementType</var>, <var>value</var>, <emu-val>true</emu-val>, <code>"Unordered"</code>).</li><li>Set <var>srcByteIndex</var> to <var>srcByteIndex</var> + <var>srcElementSize</var>.</li><li>Set <var>targetByteIndex</var> to <var>targetByteIndex</var> + <var>elementSize</var>.</li><li>Decrement <var>count</var> by 1.</li></ol></li></ol></li><li>Set <var>O</var>.[[ViewedArrayBuffer]] to <var>data</var>.</li><li>Set <var>O</var>.[[ByteLength]] to <var>byteLength</var>.</li><li>Set <var>O</var>.[[ByteOffset]] to 0.</li><li>Set <var>O</var>.[[ArrayLength]] to <var>elementLength</var>.</li><li>Return <var>O</var>.
        </li></ol></emu-alg>
      </emu-clause>

      <!-- es6num="24.2.1.2" -->
      <emu-clause id="sec-setviewvalue" aoid="SetViewValue">
        <h1><span class="secnum">7.25</span>SetViewValue ( <var>view</var>, <var>requestIndex</var>, <var>isLittleEndian</var>, <var>type</var>, <var>value</var> )</h1>
        <p>The abstract operation SetViewValue with arguments <var>view</var>, <var>requestIndex</var>, <var>isLittleEndian</var>, <var>type</var>, and <var>value</var> is used by functions on DataView instances to store values into the view's buffer. It performs the following steps:</p>
        <emu-alg><ol><li>If <emu-xref aoid="Type" id="_ref_421"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>view</var>) is not Object, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>view</var> does not have a [[DataView]] internal slot, throw a <emu-val>TypeError</emu-val> exception.</li><li>Assert: <var>view</var> has a [[ViewedArrayBuffer]] internal slot.</li><li>Let <var>getIndex</var> be ?&nbsp;<emu-xref aoid="ToIndex" id="_ref_422"><a href="https://tc39.github.io/ecma262/#sec-toindex">ToIndex</a></emu-xref>(<var>requestIndex</var>).</li><li><ins>If <var>type</var> is <code>"BigUint64"</code> or <code>"BigInt64"</code>, let <var>v</var> be ?&nbsp;<emu-xref aoid="ToBigInt" id="_ref_423"><a href="#sec-to-bigint">ToBigInt</a></emu-xref>(<var>value</var>).</ins></li><li><ins>Otherwise,</ins> let <var>v</var> be ?&nbsp;<emu-xref aoid="ToInteger" id="_ref_424"><a href="https://tc39.github.io/ecma262/#sec-tointeger">ToInteger</a></emu-xref>(<var>value</var>).</li><li>Set <var>isLittleEndian</var> to <emu-xref aoid="ToBoolean" id="_ref_425"><a href="#sec-toboolean">ToBoolean</a></emu-xref>(<var>isLittleEndian</var>).</li><li>Let <var>buffer</var> be <var>view</var>.[[ViewedArrayBuffer]].</li><li>If <emu-xref aoid="IsDetachedBuffer" id="_ref_426"><a href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a></emu-xref>(<var>buffer</var>) is <emu-val>true</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>viewOffset</var> be <var>view</var>.[[ByteOffset]].</li><li>Let <var>viewSize</var> be <var>view</var>.[[ByteLength]].</li><li>Let <var>elementSize</var> be the Number value of the Element Size value specified in <emu-xref href="#table-49" id="_ref_58"><a href="#table-49">Table 9</a></emu-xref> for Element Type <var>type</var>.</li><li>If <var>getIndex</var> + <var>elementSize</var> &gt; <var>viewSize</var>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>bufferIndex</var> be <var>getIndex</var> + <var>viewOffset</var>.</li><li>Return <emu-xref aoid="SetValueInBuffer" id="_ref_427"><a href="#sec-setvalueinbuffer">SetValueInBuffer</a></emu-xref>(<var>buffer</var>, <var>bufferIndex</var>, <var>type</var>, <var>v</var>, <emu-val>false</emu-val>, <code>"Unordered"</code>, <var>isLittleEndian</var>).
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-dataview.prototype.getbigint64">
        <h1><span class="secnum">7.26</span>DataView.prototype.getBigInt64 ( <var>byteOffset</var> [ , <var>littleEndian</var> ] )</h1>
        <p>When the <code>getBigInt64</code> method is called with argument <var>byteOffset</var> and optional argument <var>littleEndian</var>, the following steps are taken:</p>
        <emu-alg><ol><li>Let <var>v</var> be the <emu-val>this</emu-val> value.</li><li>If <var>littleEndian</var> is not present, let <var>littleEndian</var> be <emu-val>undefined</emu-val>.</li><li>Return ?&nbsp;<emu-xref aoid="GetViewValue" id="_ref_428"><a href="https://tc39.github.io/ecma262/#sec-getviewvalue">GetViewValue</a></emu-xref>(<var>v</var>, <var>byteOffset</var>, <var>littleEndian</var>, <code>"BigInt64"</code>).
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-dataview.prototype.getbiguint64">
        <h1><span class="secnum">7.27</span>DataView.prototype.getBigUint64 ( <var>byteOffset</var> [ , <var>littleEndian</var> ] )</h1>
        <p>When the <code>getBigUint64</code> method is called with argument <var>byteOffset</var> and optional argument <var>littleEndian</var>, the following steps are taken:</p>
        <emu-alg><ol><li>Let <var>v</var> be the <emu-val>this</emu-val> value.</li><li>If <var>littleEndian</var> is not present, let <var>littleEndian</var> be <emu-val>undefined</emu-val>.</li><li>Return ?&nbsp;<emu-xref aoid="GetViewValue" id="_ref_429"><a href="https://tc39.github.io/ecma262/#sec-getviewvalue">GetViewValue</a></emu-xref>(<var>v</var>, <var>byteOffset</var>, <var>littleEndian</var>, <code>"BigUint64"</code>).
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-dataview.prototype.setbigint64">
        <h1><span class="secnum">7.28</span>DataView.prototype.setBigInt64 ( <var>byteOffset</var>, <var>value</var> [ , <var>littleEndian</var> ] )</h1>
        <p>When the <code>setBigInt64</code> method is called with arguments <var>byteOffset</var> and <var>value</var>, the following steps are taken:</p>
        <emu-alg><ol><li>Let <var>v</var> be the <emu-val>this</emu-val> value.</li><li>If <var>littleEndian</var> is not present, let <var>littleEndian</var> be <emu-val>undefined</emu-val>.</li><li>Return ?&nbsp;<emu-xref aoid="SetViewValue" id="_ref_430"><a href="#sec-setviewvalue">SetViewValue</a></emu-xref>(<var>v</var>, <var>byteOffset</var>, <var>littleEndian</var>, <code>"BigInt64"</code>, <var>value</var>).
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-dataview.prototype.setbiguint64">
        <h1><span class="secnum">7.29</span>DataView.prototype.setBigUint64 ( <var>byteOffset</var>, <var>value</var> [ , <var>littleEndian</var> ] )</h1>
        <p>When the <code>setBigUint64</code> method is called with arguments <var>byteOffset</var> and <var>value</var>, the following steps are taken:</p>
        <emu-alg><ol><li>Let <var>v</var> be the <emu-val>this</emu-val> value.</li><li>If <var>littleEndian</var> is not present, let <var>littleEndian</var> be <emu-val>undefined</emu-val>.</li><li>Return ?&nbsp;<emu-xref aoid="SetViewValue" id="_ref_431"><a href="#sec-setviewvalue">SetViewValue</a></emu-xref>(<var>v</var>, <var>byteOffset</var>, <var>littleEndian</var>, <code>"BigUint64"</code>, <var>value</var>).
        </li></ol></emu-alg>
      </emu-clause>

</emu-clause>

  <emu-clause id="sec-agents">
    <h1><span class="secnum">8</span>Agents</h1>

    <p>An  <dfn id="agent">agent</dfn> comprises a set of ECMAScript execution contexts, an <emu-xref href="#execution-context-stack"><a href="https://tc39.github.io/ecma262/#execution-context-stack">execution context stack</a></emu-xref>, a <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>, a set of named job queues, an  <dfn id="agent-record">Agent Record</dfn>, and an  <dfn id="executing-thread">executing thread</dfn>.  Except for the <emu-xref href="#executing-thread" id="_ref_432"><a href="#executing-thread">executing thread</a></emu-xref>, the constituents of an <emu-xref href="#agent" id="_ref_433"><a href="#agent">agent</a></emu-xref> belong exclusively to that <emu-xref href="#agent" id="_ref_434"><a href="#agent">agent</a></emu-xref>.</p>
    <p>An <emu-xref href="#agent" id="_ref_435"><a href="#agent">agent</a></emu-xref>'s <emu-xref href="#executing-thread" id="_ref_436"><a href="#executing-thread">executing thread</a></emu-xref> executes the jobs in the <emu-xref href="#agent" id="_ref_437"><a href="#agent">agent</a></emu-xref>'s job queues on the <emu-xref href="#agent" id="_ref_438"><a href="#agent">agent</a></emu-xref>'s execution contexts independently of other agents, except that an <emu-xref href="#executing-thread" id="_ref_439"><a href="#executing-thread">executing thread</a></emu-xref> may be used as the <emu-xref href="#executing-thread" id="_ref_440"><a href="#executing-thread">executing thread</a></emu-xref> by multiple agents, provided none of the agents sharing the thread have an <emu-xref href="#agent-record" id="_ref_441"><a href="#agent-record">Agent Record</a></emu-xref> whose [[CanBlock]] property is <emu-val>true</emu-val>.</p>
    <emu-note><span class="note">Note 1</span><div class="note-contents">
      <p>Some web browsers share a single <emu-xref href="#executing-thread" id="_ref_442"><a href="#executing-thread">executing thread</a></emu-xref> across multiple unrelated tabs of a browser window, for example.</p>
    </div></emu-note>
    <p>While an <emu-xref href="#agent" id="_ref_443"><a href="#agent">agent</a></emu-xref>'s <emu-xref href="#executing-thread" id="_ref_444"><a href="#executing-thread">executing thread</a></emu-xref> executes the jobs in the <emu-xref href="#agent" id="_ref_445"><a href="#agent">agent</a></emu-xref>'s job queues, the <emu-xref href="#agent" id="_ref_446"><a href="#agent">agent</a></emu-xref> is the  <dfn id="surrounding-agent">surrounding agent</dfn> for the code in those jobs.  The code uses the <emu-xref href="#surrounding-agent" id="_ref_447"><a href="#surrounding-agent">surrounding agent</a></emu-xref> to access the specification level execution objects held within the <emu-xref href="#agent" id="_ref_448"><a href="#agent">agent</a></emu-xref>: the <emu-xref href="#running-execution-context"><a href="https://tc39.github.io/ecma262/#running-execution-context">running execution context</a></emu-xref>, the <emu-xref href="#execution-context-stack"><a href="https://tc39.github.io/ecma262/#execution-context-stack">execution context stack</a></emu-xref>, the named job queues, and the <emu-xref href="#agent-record" id="_ref_449"><a href="#agent-record">Agent Record</a></emu-xref>'s fields.</p>
    <emu-table id="table-agent-record" caption="Agent Record Fields"><figure><figcaption>Table 11: <emu-xref href="#agent-record" id="_ref_450"><a href="#agent-record">Agent Record</a></emu-xref> Fields</figcaption>
      <table>
        <tbody>
          <tr>
            <th>Field Name</th>
            <th>Value</th>
            <th>Meaning</th>
          </tr>
          <tr>
            <td>[[LittleEndian]]</td>
            <td>Boolean</td>
            <td>The default value computed for the  <em>isLittleEndian</em> parameter when it is needed by the algorithms <emu-xref aoid="GetValueFromBuffer" id="_ref_451"><a href="#sec-getvaluefrombuffer">GetValueFromBuffer</a></emu-xref> and <emu-xref aoid="SetValueInBuffer" id="_ref_452"><a href="#sec-setvalueinbuffer">SetValueInBuffer</a></emu-xref>. The choice is implementation-dependent and should be the alternative that is most efficient for the implementation.  Once the value has been observed it cannot change.</td>
          </tr>
          <tr>
            <td>[[CanBlock]]</td>
            <td>Boolean</td>
            <td>Determines whether the <emu-xref href="#agent" id="_ref_453"><a href="#agent">agent</a></emu-xref> can block or not.</td>
          </tr>
          <tr>
            <td>[[Signifier]]</td>
            <td>Any globally-unique value</td>
            <td>Uniquely identifies the <emu-xref href="#agent" id="_ref_454"><a href="#agent">agent</a></emu-xref> within its <emu-xref href="#agent" id="_ref_455"><a href="#agent">agent</a></emu-xref> cluster.</td>
          </tr>
          <tr>
            <td>[[IsLockFree1]]</td>
            <td>Boolean</td>
            <td><emu-val>true</emu-val> if atomic operations on one-byte values are lock-free, <emu-val>false</emu-val> otherwise.</td>
          </tr>
          <tr>
            <td>[[IsLockFree2]]</td>
            <td>Boolean</td>
            <td><emu-val>true</emu-val> if atomic operations on two-byte values are lock-free, <emu-val>false</emu-val> otherwise.</td>
          </tr>
          <tr>
            <td><ins>[[IsLockFree8]]</ins></td>
            <td><ins>Boolean</ins></td>
            <td><ins><emu-val>true</emu-val> if atomic operations on eight-byte values are lock-free, <emu-val>false</emu-val> otherwise.</ins></td>
          </tr>
          <tr>
            <td>[[CandidateExecution]]</td>
            <td>A candidate execution <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref></td>
            <td>See the memory model.</td>
          </tr>
        </tbody>
      </table>
    </figure></emu-table>

    <p>Once the values of [[Signifier]], [[IsLockFree1]], [[IsLockFree2]],  <ins>and [[IsLockFree8]]</ins> have been observed by any <emu-xref href="#agent" id="_ref_456"><a href="#agent">agent</a></emu-xref> in the <emu-xref href="#agent" id="_ref_457"><a href="#agent">agent</a></emu-xref> cluster they cannot change.</p>

    <emu-note><span class="note">Note 2</span><div class="note-contents">
      <p>The values of [[IsLockFree1]], [[IsLockFree2]],  <ins>and [[IsLockFree8]]</ins> are not necessarily determined by the hardware, but may also reflect implementation choices that can vary over time and between ECMAScript implementations.</p>

      <p>There is no [[IsLockFree4]] property: 4-byte atomic operations are always lock-free.</p>

      <p>In practice, if an atomic operation is implemented with any type of lock the operation is not lock-free.  Lock-free does not imply wait-free: there is no upper bound on how many machine steps may be required to complete a lock-free atomic operation.</p>

      <p>That an atomic access of size  <em>n</em> is lock-free does not imply anything about the (perceived) atomicity of non-atomic accesses of size  <em>n</em>, specifically, non-atomic accesses may still be performed as a sequence of several separate memory accesses.  See ReadSharedMemory and WriteSharedMemory for details.</p>
    </div></emu-note>
  </emu-clause>
</div></body>